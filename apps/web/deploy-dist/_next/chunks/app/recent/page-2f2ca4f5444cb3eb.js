(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[655],{90589:function(e,t,s){Promise.resolve().then(s.bind(s,43114))},43114:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return m}});var l=s(27573),a=s(99555),r=s(81869);let n=(0,s(74607).Z)("outline","clock","Clock",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 7v5l3 3",key:"svg-1"}]]);var i=s(75558),d=s(58623),c=s(6493),o=s(91070),u=s.n(o),x=s(67754),h=s(7653);function m(){let e=(0,a.aK)(e=>e.threads),t=(0,a.aK)(e=>e.updateThread),s=(0,a.aK)(e=>e.deleteThread),o=(0,a.aK)(e=>e.switchThread),{push:m}=(0,x.useRouter)(),[f,p]=(0,h.useState)(null),[g,j]=(0,h.useState)(""),N=(0,h.useRef)(null);(0,h.useEffect)(()=>{f&&N.current&&N.current.focus()},[f]);let v=(e,t,s)=>{s.stopPropagation(),p(e),j(t)},k=e=>{j(e.target.value)},w=()=>{f&&(t({id:f,title:(null==g?void 0:g.trim())||"Untitled"}),p(null))},b=e=>{"Enter"===e.key&&f&&(t({id:f,title:(null==g?void 0:g.trim())||"Untitled"}),p(null))},y=(e,t)=>{t.stopPropagation(),s(e)},C=e=>{m("/chat/".concat(e)),o(e)};return(0,l.jsx)("div",{className:"flex w-full flex-col gap-2",children:(0,l.jsxs)("div",{className:"mx-auto flex w-full max-w-2xl flex-col items-start gap-2 pt-16",children:[(0,l.jsx)("h3",{className:"font-clash text-brand text-2xl font-semibold tracking-wide",children:"Chat History"}),(0,l.jsxs)(r.mY,{className:"bg-secondary !max-h-auto w-full",children:[(0,l.jsx)(r.sZ,{placeholder:"Search",className:"bg-tertiary h-8 w-full rounded-sm"}),(0,l.jsx)(r.e8,{className:"bg-secondary mt-2 !max-h-none gap-2",children:(null==e?void 0:e.length)>0?e.map(e=>(0,l.jsx)(d.di,{className:"mb-2",children:(0,l.jsx)("div",{className:"bg-tertiary hover:bg-quaternary group relative flex w-full cursor-pointer flex-col items-start rounded-md p-4 transition-all duration-200",onClick:()=>C(e.id),children:(0,l.jsxs)("div",{className:"flex w-full justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col items-start gap-1",children:[f===e.id?(0,l.jsx)("input",{ref:N,value:g,onChange:k,onBlur:w,onKeyDown:b,className:"bg-quaternary rounded px-2 py-1 text-sm",onClick:e=>e.stopPropagation()}):(0,l.jsx)("p",{className:"line-clamp-2 w-full text-sm font-medium",children:e.title}),(0,l.jsxs)("p",{className:"text-muted-foreground/50 flex flex-row items-center gap-1 text-xs",children:[(0,l.jsx)(n,{size:12,strokeWidth:"2"}),u()(e.createdAt).fromNow()]})]}),(0,l.jsxs)(r.h_,{children:[(0,l.jsx)(r.$F,{asChild:!0,children:(0,l.jsx)(r.zx,{variant:"ghost",size:"icon-xs",className:"shrink-0",onClick:e=>e.stopPropagation(),children:(0,l.jsx)(c.Z,{size:14,strokeWidth:"2",className:"text-muted-foreground/50"})})}),(0,l.jsxs)(r.AW,{align:"end",side:"right",children:[(0,l.jsx)(r.Xi,{onClick:t=>v(e.id,e.title,t),children:"Rename"}),(0,l.jsx)(r.Xi,{onClick:t=>y(e.id,t),children:"Delete Thread"})]})]})]})})},e.id)):(0,l.jsxs)("div",{className:"border-hard mt-2 flex w-full flex-col items-center justify-center gap-4 rounded-md border border-dashed p-4",children:[(0,l.jsxs)("div",{className:"flex flex-col items-center gap-0",children:[(0,l.jsx)("p",{className:"text-muted-foreground text-sm",children:"No threads found"}),(0,l.jsx)("p",{className:"text-muted-foreground/70 mt-1 text-xs",children:"Start a new conversation to create a thread"})]}),(0,l.jsxs)(r.zx,{variant:"default",size:"sm",onClick:()=>m("/chat"),children:[(0,l.jsx)(i.Z,{size:14,strokeWidth:"2"}),"New Thread"]})]})})]})]})})}}},function(e){e.O(0,[122,774,647,351,286,744],function(){return e(e.s=90589)}),_N_E=e.O()}]);