(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[647],{21296:function(e,t,n){"use strict";n.d(t,{LZ3:function(){return l},XCv:function(){return d},Y4O:function(){return a},jXb:function(){return f},nQG:function(){return c}});var i=n(7653);function r(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}var s=666==n.j?["color"]:null,a=666==n.j?(0,i.forwardRef)(function(e,t){var n=e.color,a=r(e,s);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),(0,i.createElement)("path",{d:"M6.85355 3.14645C7.04882 3.34171 7.04882 3.65829 6.85355 3.85355L3.70711 7H12.5C12.7761 7 13 7.22386 13 7.5C13 7.77614 12.7761 8 12.5 8H3.70711L6.85355 11.1464C7.04882 11.3417 7.04882 11.6583 6.85355 11.8536C6.65829 12.0488 6.34171 12.0488 6.14645 11.8536L2.14645 7.85355C1.95118 7.65829 1.95118 7.34171 2.14645 7.14645L6.14645 3.14645C6.34171 2.95118 6.65829 2.95118 6.85355 3.14645Z",fill:void 0===n?"currentColor":n,fillRule:"evenodd",clipRule:"evenodd"}))}):null,o=666==n.j?["color"]:null,l=666==n.j?(0,i.forwardRef)(function(e,t){var n=e.color,s=r(e,o);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M8.14645 3.14645C8.34171 2.95118 8.65829 2.95118 8.85355 3.14645L12.8536 7.14645C13.0488 7.34171 13.0488 7.65829 12.8536 7.85355L8.85355 11.8536C8.65829 12.0488 8.34171 12.0488 8.14645 11.8536C7.95118 11.6583 7.95118 11.3417 8.14645 11.1464L11.2929 8H2.5C2.22386 8 2 7.77614 2 7.5C2 7.22386 2.22386 7 2.5 7H11.2929L8.14645 3.85355C7.95118 3.65829 7.95118 3.34171 8.14645 3.14645Z",fill:void 0===n?"currentColor":n,fillRule:"evenodd",clipRule:"evenodd"}))}):null,u=666==n.j?["color"]:null,c=666==n.j?(0,i.forwardRef)(function(e,t){var n=e.color,s=r(e,u);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:void 0===n?"currentColor":n,fillRule:"evenodd",clipRule:"evenodd"}))}):null,h=666==n.j?["color"]:null,d=666==n.j?(0,i.forwardRef)(function(e,t){var n=e.color,s=r(e,h);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M6.1584 3.13508C6.35985 2.94621 6.67627 2.95642 6.86514 3.15788L10.6151 7.15788C10.7954 7.3502 10.7954 7.64949 10.6151 7.84182L6.86514 11.8418C6.67627 12.0433 6.35985 12.0535 6.1584 11.8646C5.95694 11.6757 5.94673 11.3593 6.1356 11.1579L9.565 7.49985L6.1356 3.84182C5.94673 3.64036 5.95694 3.32394 6.1584 3.13508Z",fill:void 0===n?"currentColor":n,fillRule:"evenodd",clipRule:"evenodd"}))}):null,p=666==n.j?["color"]:null,f=666==n.j?(0,i.forwardRef)(function(e,t){var n=e.color,s=r(e,p);return(0,i.createElement)("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s,{ref:t}),(0,i.createElement)("path",{d:"M9.875 7.5C9.875 8.81168 8.81168 9.875 7.5 9.875C6.18832 9.875 5.125 8.81168 5.125 7.5C5.125 6.18832 6.18832 5.125 7.5 5.125C8.81168 5.125 9.875 6.18832 9.875 7.5Z",fill:void 0===n?"currentColor":n}))}):null},9211:function(e,t){!function(e){"use strict";var t=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],n=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],i="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",r={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},s="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",a={5:s,"5module":s+" export import",6:s+" const class extends export import super"},o=/^in(stanceof)?$/,l=RegExp("["+i+"]"),u=RegExp("["+i+"‌‍\xb7̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･]");function c(e,t){for(var n=65536,i=0;i<t.length&&!((n+=t[i])>e);i+=2)if((n+=t[i+1])>=e)return!0;return!1}function h(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&l.test(String.fromCharCode(e)):!1!==t&&c(e,n)))}function d(e,i){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&u.test(String.fromCharCode(e)):!1!==i&&(c(e,n)||c(e,t)))))}var p=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function f(e,t){return new p(e,{beforeExpr:!0,binop:t})}var m={beforeExpr:!0},g={startsExpr:!0},v={};function y(e,t){return void 0===t&&(t={}),t.keyword=e,v[e]=new p(e,t)}var _={num:new p("num",g),regexp:new p("regexp",g),string:new p("string",g),name:new p("name",g),privateId:new p("privateId",g),eof:new p("eof"),bracketL:new p("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new p("]"),braceL:new p("{",{beforeExpr:!0,startsExpr:!0}),braceR:new p("}"),parenL:new p("(",{beforeExpr:!0,startsExpr:!0}),parenR:new p(")"),comma:new p(",",m),semi:new p(";",m),colon:new p(":",m),dot:new p("."),question:new p("?",m),questionDot:new p("?."),arrow:new p("=>",m),template:new p("template"),invalidTemplate:new p("invalidTemplate"),ellipsis:new p("...",m),backQuote:new p("`",g),dollarBraceL:new p("${",{beforeExpr:!0,startsExpr:!0}),eq:new p("=",{beforeExpr:!0,isAssign:!0}),assign:new p("_=",{beforeExpr:!0,isAssign:!0}),incDec:new p("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new p("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:f("||",1),logicalAND:f("&&",2),bitwiseOR:f("|",3),bitwiseXOR:f("^",4),bitwiseAND:f("&",5),equality:f("==/!=/===/!==",6),relational:f("</>/<=/>=",7),bitShift:f("<</>>/>>>",8),plusMin:new p("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:f("%",10),star:f("*",10),slash:f("/",10),starstar:new p("**",{beforeExpr:!0}),coalesce:f("??",1),_break:y("break"),_case:y("case",m),_catch:y("catch"),_continue:y("continue"),_debugger:y("debugger"),_default:y("default",m),_do:y("do",{isLoop:!0,beforeExpr:!0}),_else:y("else",m),_finally:y("finally"),_for:y("for",{isLoop:!0}),_function:y("function",g),_if:y("if"),_return:y("return",m),_switch:y("switch"),_throw:y("throw",m),_try:y("try"),_var:y("var"),_const:y("const"),_while:y("while",{isLoop:!0}),_with:y("with"),_new:y("new",{beforeExpr:!0,startsExpr:!0}),_this:y("this",g),_super:y("super",g),_class:y("class",g),_extends:y("extends",m),_export:y("export"),_import:y("import",g),_null:y("null",g),_true:y("true",g),_false:y("false",g),_in:y("in",{beforeExpr:!0,binop:7}),_instanceof:y("instanceof",{beforeExpr:!0,binop:7}),_typeof:y("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:y("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:y("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},b=/\r\n?|\n|\u2028|\u2029/,x=RegExp(b.source,"g");function w(e){return 10===e||13===e||8232===e||8233===e}function k(e,t,n){void 0===n&&(n=e.length);for(var i=t;i<n;i++){var r=e.charCodeAt(i);if(w(r))return i<n-1&&13===r&&10===e.charCodeAt(i+1)?i+2:i+1}return -1}var S=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,C=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,E=Object.prototype,P=E.hasOwnProperty,T=E.toString,N=Object.hasOwn||function(e,t){return P.call(e,t)},I=Array.isArray||function(e){return"[object Array]"===T.call(e)},M=Object.create(null);function A(e){return M[e]||(M[e]=RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function O(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10)+55296,(1023&e)+56320)}var D=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,R=function(e,t){this.line=e,this.column=t};R.prototype.offset=function(e){return new R(this.line,this.column+e)};var L=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function V(e,t){for(var n=1,i=0;;){var r=k(e,i,t);if(r<0)return new R(n,t-i);++n,i=r}}var F={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},B=!1;function $(e,t){return 2|(e?4:0)|(t?8:0)}var z=function(e,t,n){this.options=e=function(e){var t,n={};for(var i in F)n[i]=e&&N(e,i)?e[i]:F[i];if("latest"===n.ecmaVersion?n.ecmaVersion=1e8:null==n.ecmaVersion?(!B&&"object"==typeof console&&console.warn&&(B=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),n.ecmaVersion=11):n.ecmaVersion>=2015&&(n.ecmaVersion-=2009),null==n.allowReserved&&(n.allowReserved=n.ecmaVersion<5),e&&null!=e.allowHashBang||(n.allowHashBang=n.ecmaVersion>=14),I(n.onToken)){var r=n.onToken;n.onToken=function(e){return r.push(e)}}return I(n.onComment)&&(n.onComment=(t=n.onComment,function(e,i,r,s,a,o){var l={type:e?"Block":"Line",value:i,start:r,end:s};n.locations&&(l.loc=new L(this,a,o)),n.ranges&&(l.range=[r,s]),t.push(l)})),n}(e),this.sourceFile=e.sourceFile,this.keywords=A(a[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var i="";!0!==e.allowReserved&&(i=r[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(i+=" await")),this.reservedWords=A(i);var s=(i?i+" ":"")+r.strict;this.reservedWordsStrict=A(s),this.reservedWordsStrictBind=A(s+" "+r.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(b).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=_.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},j={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};z.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},j.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},j.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},j.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},j.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e].flags;if(768&t)return!1;if(2&t)return(4&t)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},j.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0||this.options.allowSuperOutsideMethod},j.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},j.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},j.allowNewDotTarget.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e].flags;if(768&t||2&t&&!(16&t))return!0}return!1},j.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},z.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,i=0;i<e.length;i++)n=e[i](n);return n},z.parse=function(e,t){return new this(t,e).parse()},z.parseExpressionAt=function(e,t,n){var i=new this(n,e,t);return i.nextToken(),i.parseExpression()},z.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(z.prototype,j);var U=z.prototype,q=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;U.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){C.lastIndex=e,e+=C.exec(this.input)[0].length;var t=q.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){C.lastIndex=e+t[0].length;var n=C.exec(this.input),i=n.index+n[0].length,r=this.input.charAt(i);return";"===r||"}"===r||b.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||"!"===r&&"="===this.input.charAt(i+1))}e+=t[0].length,C.lastIndex=e,e+=C.exec(this.input)[0].length,";"===this.input[e]&&e++}},U.eat=function(e){return this.type===e&&(this.next(),!0)},U.isContextual=function(e){return this.type===_.name&&this.value===e&&!this.containsEsc},U.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},U.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},U.canInsertSemicolon=function(){return this.type===_.eof||this.type===_.braceR||b.test(this.input.slice(this.lastTokEnd,this.start))},U.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},U.semicolon=function(){this.eat(_.semi)||this.insertSemicolon()||this.unexpected()},U.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},U.expect=function(e){this.eat(e)||this.unexpected()},U.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var H=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};U.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},U.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},U.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},U.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var W=z.prototype;W.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==_.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var i=0,r=Object.keys(this.undefinedExports);i<r.length;i+=1){var s=r[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var Y={kind:"loop"},G={kind:"switch"};W.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;C.lastIndex=this.pos;var t=C.exec(this.input),n=this.pos+t[0].length,i=this.input.charCodeAt(n);if(91===i||92===i)return!0;if(e)return!1;if(123===i||i>55295&&i<56320)return!0;if(h(i,!0)){for(var r=n+1;d(i=this.input.charCodeAt(r),!0);)++r;if(92===i||i>55295&&i<56320)return!0;var s=this.input.slice(n,r);if(!o.test(s))return!0}return!1},W.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;C.lastIndex=this.pos;var e,t=C.exec(this.input),n=this.pos+t[0].length;return!b.test(this.input.slice(this.pos,n))&&"function"===this.input.slice(n,n+8)&&(n+8===this.input.length||!(d(e=this.input.charCodeAt(n+8))||e>55295&&e<56320))},W.isUsingKeyword=function(e,t){if(this.options.ecmaVersion<17||!this.isContextual(e?"await":"using"))return!1;C.lastIndex=this.pos;var n=C.exec(this.input),i=this.pos+n[0].length;if(b.test(this.input.slice(this.pos,i)))return!1;if(e){var r,s=i+5;if("using"!==this.input.slice(i,s)||s===this.input.length||d(r=this.input.charCodeAt(s))||r>55295&&r<56320)return!1;C.lastIndex=s;var a=C.exec(this.input);if(a&&b.test(this.input.slice(s,s+a[0].length)))return!1}if(t){var o,l=i+2;if("of"===this.input.slice(i,l)&&(l===this.input.length||!d(o=this.input.charCodeAt(l))&&!(o>55295&&o<56320)))return!1}var u=this.input.charCodeAt(i);return h(u,!0)||92===u},W.isAwaitUsing=function(e){return this.isUsingKeyword(!0,e)},W.isUsing=function(e){return this.isUsingKeyword(!1,e)},W.parseStatement=function(e,t,n){var i,r=this.type,s=this.startNode();switch(this.isLet(e)&&(r=_._var,i="let"),r){case _._break:case _._continue:return this.parseBreakContinueStatement(s,r.keyword);case _._debugger:return this.parseDebuggerStatement(s);case _._do:return this.parseDoStatement(s);case _._for:return this.parseForStatement(s);case _._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case _._class:return e&&this.unexpected(),this.parseClass(s,!0);case _._if:return this.parseIfStatement(s);case _._return:return this.parseReturnStatement(s);case _._switch:return this.parseSwitchStatement(s);case _._throw:return this.parseThrowStatement(s);case _._try:return this.parseTryStatement(s);case _._const:case _._var:return i=i||this.value,e&&"var"!==i&&this.unexpected(),this.parseVarStatement(s,i);case _._while:return this.parseWhileStatement(s);case _._with:return this.parseWithStatement(s);case _.braceL:return this.parseBlock(!0,s);case _.semi:return this.parseEmptyStatement(s);case _._export:case _._import:if(this.options.ecmaVersion>10&&r===_._import){C.lastIndex=this.pos;var a=C.exec(this.input),o=this.pos+a[0].length,l=this.input.charCodeAt(o);if(40===l||46===l)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===_._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var u=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(u)return t&&"script"===this.options.sourceType&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),"await using"===u&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(s,!1,u),this.semicolon(),this.finishNode(s,"VariableDeclaration");var c=this.value,h=this.parseExpression();if(r===_.name&&"Identifier"===h.type&&this.eat(_.colon))return this.parseLabeledStatement(s,c,h,e);return this.parseExpressionStatement(s,h)}},W.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(_.semi)||this.insertSemicolon()?e.label=null:this.type!==_.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if((null==e.label||r.name===e.label.name)&&(null!=r.kind&&(n||"loop"===r.kind)||e.label&&n))break}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},W.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},W.parseDoStatement=function(e){return this.next(),this.labels.push(Y),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(_._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(_.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},W.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(Y),this.enterScope(0),this.expect(_.parenL),this.type===_.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===_._var||this.type===_._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),this.parseForAfterInit(e,i,t)}var s=this.isContextual("let"),a=!1,o=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(o){var l=this.startNode();return this.next(),"await using"===o&&this.next(),this.parseVar(l,!0,o),this.finishNode(l,"VariableDeclaration"),this.parseForAfterInit(e,l,t)}var u=this.containsEsc,c=new H,h=this.start,d=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===_._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===_._in&&this.unexpected(t),e.await=!0):a&&this.options.ecmaVersion>=8&&(d.start!==h||u||"Identifier"!==d.type||"async"!==d.name?this.options.ecmaVersion>=9&&(e.await=!1):this.unexpected()),s&&a&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(e,d)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(e,d))},W.parseForAfterInit=function(e,t,n){return(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===t.declarations.length?(this.options.ecmaVersion>=9&&(this.type===_._in?n>-1&&this.unexpected(n):e.await=n>-1),this.parseForIn(e,t)):(n>-1&&this.unexpected(n),this.parseFor(e,t))},W.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,X|(n?0:Q),!1,t)},W.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(_._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},W.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(_.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},W.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(_.braceL),this.labels.push(G),this.enterScope(0);for(var t,n=!1;this.type!==_.braceR;)if(this.type===_._case||this.type===_._default){var i=this.type===_._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(_.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},W.parseThrowStatement=function(e){return this.next(),b.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var K=[];W.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.enterScope(t?32:0),this.checkLValPattern(e,t?4:2),this.expect(_.parenR),e},W.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===_._catch){var t=this.startNode();this.next(),this.eat(_.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(_._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},W.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},W.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(Y),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},W.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},W.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},W.parseLabeledStatement=function(e,t,n,i){for(var r=0,s=this.labels;r<s.length;r+=1)s[r].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===_._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var l=this.labels[o];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},W.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},W.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(_.braceL),e&&this.enterScope(0);this.type!==_.braceR;){var i=this.parseStatement(null);t.body.push(i)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},W.parseFor=function(e,t){return e.init=t,this.expect(_.semi),e.test=this.type===_.semi?null:this.parseExpression(),this.expect(_.semi),e.update=this.type===_.parenR?null:this.parseExpression(),this.expect(_.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},W.parseForIn=function(e,t){var n=this.type===_._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(_.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},W.parseVar=function(e,t,n,i){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(_.eq)?r.init=this.parseMaybeAssign(t):i||"const"!==n||this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of")?i||"using"!==n&&"await using"!==n||!(this.options.ecmaVersion>=17)||this.type===_._in||this.isContextual("of")?i||"Identifier"===r.id.type||t&&(this.type===_._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.raise(this.lastTokEnd,"Missing initializer in "+n+" declaration"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(_.comma))break}return e},W.parseVarId=function(e,t){e.id="using"===t||"await using"===t?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var X=1,Q=2;function Z(e,t){var n=e.computed,i=e.key;return!n&&("Identifier"===i.type&&i.name===t||"Literal"===i.type&&i.value===t)}W.parseFunction=function(e,t,n,i,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===_.star&&t&Q&&this.unexpected(),e.generator=this.eat(_.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&X&&(e.id=4&t&&this.type!==_.name?null:this.parseIdent(),e.id&&!(t&Q)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope($(e.async,e.generator)),t&X||(e.id=this.type===_.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,r),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,t&X?"FunctionDeclaration":"FunctionExpression")},W.parseFunctionParams=function(e){this.expect(_.parenL),e.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},W.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(_.braceL);this.type!==_.braceR;){var a=this.parseClassElement(null!==e.superClass);a&&(r.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(s&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),s=!0):a.key&&"PrivateIdentifier"===a.key.type&&function(e,t){var n=t.key.name,i=e[n],r="true";return("MethodDefinition"===t.type&&("get"===t.kind||"set"===t.kind)&&(r=(t.static?"s":"i")+t.kind),"iget"===i&&"iset"===r||"iset"===i&&"iget"===r||"sget"===i&&"sset"===r||"sset"===i&&"sget"===r)?(e[n]="true",!1):!!i||(e[n]=r,!1)}(i,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},W.parseClassElement=function(e){if(this.eat(_.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),i="",r=!1,s=!1,a="method",o=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(_.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===_.star?o=!0:i="static"}if(n.static=o,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===_.star)&&!this.canInsertSemicolon()?s=!0:i="async"),!i&&(t>=9||!s)&&this.eat(_.star)&&(r=!0),!i&&!s&&!r){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=l:i=l)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===_.parenL||"method"!==a||r||s){var u=!n.static&&Z(n,"constructor");u&&"method"!==a&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":a,this.parseClassMethod(n,r,s,u&&e)}else this.parseClassField(n);return n},W.isClassElementNameStart=function(){return this.type===_.name||this.type===_.privateId||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword},W.parseClassElementName=function(e){this.type===_.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},W.parseClassMethod=function(e,t,n,i){var r=e.key;"constructor"===e.kind?(t&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method")):e.static&&Z(e,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,i);return"get"===e.kind&&0!==s.params.length&&this.raiseRecoverable(s.start,"getter should have no params"),"set"===e.kind&&1!==s.params.length&&this.raiseRecoverable(s.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===s.params[0].type&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},W.parseClassField=function(e){return Z(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&Z(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(_.eq)?(this.enterScope(576),e.value=this.parseMaybeAssign(),this.exitScope()):e.value=null,this.semicolon(),this.finishNode(e,"PropertyDefinition")},W.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==_.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},W.parseClassId=function(e,t){this.type===_.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},W.parseClassSuper=function(e){e.superClass=this.eat(_._extends)?this.parseExprSubscripts(null,!1):null},W.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},W.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,r=0===i?null:this.privateNameStack[i-1],s=0;s<n.length;++s){var a=n[s];N(t,a.name)||(r?r.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},W.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==_.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},W.parseExport=function(e,t){if(this.next(),this.eat(_.star))return this.parseExportAllDeclaration(e,t);if(this.eat(_._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[]);else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==_.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,i=e.specifiers;n<i.length;n+=1){var r=i[n];this.checkUnreserved(r.local),this.checkLocalExport(r.local),"Literal"===r.local.type&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[])}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},W.parseExportDeclaration=function(e){return this.parseStatement(null)},W.parseExportDefaultDeclaration=function(){if(this.type===_._function||(e=this.isAsyncFunction())){var e,t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|X,!1,e)}if(this.type===_._class){var n=this.startNode();return this.parseClass(n,"nullableID")}var i=this.parseMaybeAssign();return this.semicolon(),i},W.checkExport=function(e,t,n){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),N(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},W.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t,t.start);else if("ObjectPattern"===n)for(var i=0,r=t.properties;i<r.length;i+=1){var s=r[i];this.checkPatternExport(e,s)}else if("ArrayPattern"===n)for(var a=0,o=t.elements;a<o.length;a+=1){var l=o[a];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n&&this.checkPatternExport(e,t.argument)},W.checkVariableExport=function(e,t){if(e)for(var n=0;n<t.length;n+=1){var i=t[n];this.checkPatternExport(e,i.id)}},W.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},W.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},W.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(_.braceL);!this.eat(_.braceR);){if(n)n=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;t.push(this.parseExportSpecifier(e))}return t},W.parseImport=function(e){return this.next(),this.type===_.string?(e.specifiers=K,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===_.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},W.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportSpecifier")},W.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportDefaultSpecifier")},W.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportNamespaceSpecifier")},W.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===_.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(_.comma)))return e;if(this.type===_.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(_.braceL);!this.eat(_.braceR);){if(t)t=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;e.push(this.parseImportSpecifier())}return e},W.parseWithClause=function(){var e=[];if(!this.eat(_._with))return e;this.expect(_.braceL);for(var t={},n=!0;!this.eat(_.braceR);){if(n)n=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;var i=this.parseImportAttribute(),r="Identifier"===i.key.type?i.key.name:i.key.value;N(t,r)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+r+"'"),t[r]=!0,e.push(i)}return e},W.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===_.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved),this.expect(_.colon),this.type!==_.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},W.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===_.string){var e=this.parseLiteral(this.value);return D.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},W.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},W.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var J=z.prototype;J.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.toAssignable(s,t),"RestElement"===s.type&&("ArrayPattern"===s.argument.type||"ObjectPattern"===s.argument.type)&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},J.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];r&&this.toAssignable(r,t)}if(n){var s=e[n-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},J.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},J.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==_.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},J.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(_.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case _.braceL:return this.parseObj(!0)}return this.parseIdent()},J.parseBindingList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(_.comma),t&&this.type===_.comma)r.push(null);else if(n&&this.afterTrailingComma(e))break;else if(this.type===_.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else r.push(this.parseAssignableListItem(i));return r},J.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},J.parseBindingListItem=function(e){return e},J.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},J.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var i=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(i?"Binding ":"Assigning to ")+e.name+" in strict mode"),i&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(N(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(i?"Binding":"Assigning to")+" rvalue")}},J.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var l=o[a];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}},J.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var ee=function(e,t,n,i,r){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=i,this.generator=!!r},et={b_stat:new ee("{",!1),b_expr:new ee("{",!0),b_tmpl:new ee("${",!1),p_stat:new ee("(",!1),p_expr:new ee("(",!0),q_tmpl:new ee("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new ee("function",!1),f_expr:new ee("function",!0),f_expr_gen:new ee("function",!0,!1,null,!0),f_gen:new ee("function",!1,!1,null,!0)},en=z.prototype;en.initialContext=function(){return[et.b_stat]},en.curContext=function(){return this.context[this.context.length-1]},en.braceIsBlock=function(e){var t=this.curContext();return t===et.f_expr||t===et.f_stat||(e===_.colon&&(t===et.b_stat||t===et.b_expr)?!t.isExpr:e===_._return||e===_.name&&this.exprAllowed?b.test(this.input.slice(this.lastTokEnd,this.start)):e===_._else||e===_.semi||e===_.eof||e===_.parenR||e===_.arrow||(e===_.braceL?t===et.b_stat:e!==_._var&&e!==_._const&&e!==_.name&&!this.exprAllowed))},en.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},en.updateContext=function(e){var t,n=this.type;n.keyword&&e===_.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},en.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},_.parenR.updateContext=_.braceR.updateContext=function(){if(1===this.context.length){this.exprAllowed=!0;return}var e=this.context.pop();e===et.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},_.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?et.b_stat:et.b_expr),this.exprAllowed=!0},_.dollarBraceL.updateContext=function(){this.context.push(et.b_tmpl),this.exprAllowed=!0},_.parenL.updateContext=function(e){var t=e===_._if||e===_._for||e===_._with||e===_._while;this.context.push(t?et.p_stat:et.p_expr),this.exprAllowed=!0},_.incDec.updateContext=function(){},_._function.updateContext=_._class.updateContext=function(e){!e.beforeExpr||e===_._else||e===_.semi&&this.curContext()!==et.p_stat||e===_._return&&b.test(this.input.slice(this.lastTokEnd,this.start))||(e===_.colon||e===_.braceL)&&this.curContext()===et.b_stat?this.context.push(et.f_stat):this.context.push(et.f_expr),this.exprAllowed=!1},_.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},_.backQuote.updateContext=function(){this.curContext()===et.q_tmpl?this.context.pop():this.context.push(et.q_tmpl),this.exprAllowed=!1},_.star.updateContext=function(e){if(e===_._function){var t=this.context.length-1;this.context[t]===et.f_expr?this.context[t]=et.f_expr_gen:this.context[t]=et.f_gen}this.exprAllowed=!0},_.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==_.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var ei=z.prototype;ei.checkPropClash=function(e,t,n){if((!(this.options.ecmaVersion>=9)||"SpreadElement"!==e.type)&&(!(this.options.ecmaVersion>=6)||!e.computed&&!e.method&&!e.shorthand)){var i,r=e.key;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){"__proto__"===i&&"init"===s&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}var a=t[i="$"+i];a?("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(r.start,"Redefinition of property"):a=t[i]={init:!1,get:!1,set:!1},a[s]=!0}},ei.parseExpression=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(e,t);if(this.type===_.comma){var s=this.startNodeAt(n,i);for(s.expressions=[r];this.eat(_.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return r},ei.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,r=-1,s=-1,a=-1;t?(r=t.parenthesizedAssign,s=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new H,i=!0);var o=this.start,l=this.startLoc;(this.type===_.parenL||this.type===_.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,o,l)),this.type.isAssign){var c=this.startNodeAt(o,l);return c.operator=this.value,this.type===_.eq&&(u=this.toAssignable(u,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===_.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),a>-1&&(t.doubleProto=a),this.finishNode(c,"AssignmentExpression")}return i&&this.checkExpressionErrors(t,!0),r>-1&&(t.parenthesizedAssign=r),s>-1&&(t.trailingComma=s),u},ei.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return r;if(this.eat(_.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(_.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return r},ei.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)?r:r.start===n&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,n,i,-1,e)},ei.parseExprOp=function(e,t,n,i,r){var s=this.type.binop;if(null!=s&&(!r||this.type!==_._in)&&s>i){var a=this.type===_.logicalOR||this.type===_.logicalAND,o=this.type===_.coalesce;o&&(s=_.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),u,c,s,r),d=this.buildBinary(t,n,e,h,l,a||o);return(a&&this.type===_.coalesce||o&&(this.type===_.logicalOR||this.type===_.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,i,r)}return e},ei.buildBinary=function(e,t,n,i,r,s){"PrivateIdentifier"===i.type&&this.raise(i.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(e,t);return a.left=n,a.operator=r,a.right=i,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},ei.parseMaybeUnary=function(e,t,n,i){var r,s=this.start,a=this.startLoc;if(this.isContextual("await")&&this.canAwait)r=this.parseAwait(i),t=!0;else if(this.type.prefix){var o=this.startNode(),l=this.type===_.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,l,i),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(o.argument):this.strict&&"delete"===o.operator&&function e(t){return"Identifier"===t.type||"ParenthesizedExpression"===t.type&&e(t.expression)}(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):"delete"===o.operator&&function e(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&e(t.expression)||"ParenthesizedExpression"===t.type&&e(t.expression)}(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):t=!0,r=this.finishNode(o,l?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==_.privateId){if(r=this.parseExprSubscripts(e,i),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(s,a);u.operator=this.value,u.prefix=!1,u.argument=r,this.checkLValSimple(r),this.next(),r=this.finishNode(u,"UpdateExpression")}}else(i||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),r=this.parsePrivateIdent(),this.type!==_._in&&this.unexpected();return!n&&this.eat(_.starstar)?t?void this.unexpected(this.lastTokStart):this.buildBinary(s,a,r,this.parseMaybeUnary(null,!1,!1,i),"**",!1):r},ei.parseExprSubscripts=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var s=this.parseSubscripts(r,n,i,!1,t);return e&&"MemberExpression"===s.type&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s},ei.parseSubscripts=function(e,t,n,i,r){for(var s=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,a=!1;;){var o=this.parseSubscript(e,t,n,i,s,a,r);if(o.optional&&(a=!0),o===e||"ArrowFunctionExpression"===o.type){if(a){var l=this.startNodeAt(t,n);l.expression=o,o=this.finishNode(l,"ChainExpression")}return o}e=o}},ei.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(_.arrow)},ei.parseSubscriptAsyncArrow=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,i)},ei.parseSubscript=function(e,t,n,i,r,s,a){var o=this.options.ecmaVersion>=11,l=o&&this.eat(_.questionDot);i&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(_.bracketL);if(u||l&&this.type!==_.parenL&&this.type!==_.backQuote||this.eat(_.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(_.bracketR)):this.type===_.privateId&&"Super"!==e.type?c.property=this.parsePrivateIdent():c.property=this.parseIdent("never"!==this.options.allowReserved),c.computed=!!u,o&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!i&&this.eat(_.parenL)){var h=new H,d=this.yieldPos,p=this.awaitPos,f=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1,h);if(r&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=p,this.awaitIdentPos=f,this.parseSubscriptAsyncArrow(t,n,m,a);this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=f||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,o&&(g.optional=l),e=this.finishNode(g,"CallExpression")}else if(this.type===_.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var v=this.startNodeAt(t,n);v.tag=e,v.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(v,"TaggedTemplateExpression")}return e},ei.parseExprAtom=function(e,t,n){this.type===_.slash&&this.readRegexp();var i,r=this.potentialArrowAt===this.start;switch(this.type){case _._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type!==_.parenL||this.allowDirectSuper||this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==_.dot&&this.type!==_.bracketL&&this.type!==_.parenL&&this.unexpected(),this.finishNode(i,"Super");case _._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case _.name:var s=this.start,a=this.startLoc,o=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(_._function))return this.overrideContext(et.f_expr),this.parseFunction(this.startNodeAt(s,a),0,!1,!0,t);if(r&&!this.canInsertSemicolon()){if(this.eat(_.arrow))return this.parseArrowExpression(this.startNodeAt(s,a),[l],!1,t);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===_.name&&!o&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(_.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,a),[l],!0,t)}return l;case _.regexp:var u=this.value;return(i=this.parseLiteral(u.value)).regex={pattern:u.pattern,flags:u.flags},i;case _.num:case _.string:return this.parseLiteral(this.value);case _._null:case _._true:case _._false:return(i=this.startNode()).value=this.type===_._null?null:this.type===_._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case _.parenL:var c=this.start,h=this.parseParenAndDistinguishExpression(r,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),h;case _.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(_.bracketR,!0,!0,e),this.finishNode(i,"ArrayExpression");case _.braceL:return this.overrideContext(et.b_expr),this.parseObj(!1,e);case _._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case _._class:return this.parseClass(this.startNode(),!1);case _._new:return this.parseNew();case _.backQuote:return this.parseTemplate();case _._import:if(this.options.ecmaVersion>=11)return this.parseExprImport(n);return this.unexpected();default:return this.parseExprAtomDefault()}},ei.parseExprAtomDefault=function(){this.unexpected()},ei.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===_.parenL&&!e)return this.parseDynamicImport(t);if(this.type===_.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}this.unexpected()},ei.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(_.parenR)?e.options=null:(this.expect(_.comma),this.afterTrailingComma(_.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(_.parenR)||(this.expect(_.comma),this.afterTrailingComma(_.parenR)||this.unexpected())));else if(!this.eat(_.parenR)){var t=this.start;this.eat(_.comma)&&this.eat(_.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},ei.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},ei.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=null!=t.value?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},ei.parseParenExpression=function(){this.expect(_.parenL);var e=this.parseExpression();return this.expect(_.parenR),e},ei.shouldParseArrow=function(e){return!this.canInsertSemicolon()},ei.parseParenAndDistinguishExpression=function(e,t){var n,i=this.start,r=this.startLoc,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,o=this.start,l=this.startLoc,u=[],c=!0,h=!1,d=new H,p=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==_.parenR;){if(c?c=!1:this.expect(_.comma),s&&this.afterTrailingComma(_.parenR,!0)){h=!0;break}if(this.type===_.ellipsis){a=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,d,this.parseParenItem))}var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(_.parenR),e&&this.shouldParseArrow(u)&&this.eat(_.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=f,this.parseParenArrowList(i,r,u,t);(!u.length||h)&&this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(d,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=f||this.awaitPos,u.length>1?((n=this.startNodeAt(o,l)).expressions=u,this.finishNodeAt(n,"SequenceExpression",m,g)):n=u[0]}else n=this.parseParenExpression();if(!this.options.preserveParens)return n;var v=this.startNodeAt(i,r);return v.expression=n,this.finishNode(v,"ParenthesizedExpression")},ei.parseParenItem=function(e){return e},ei.parseParenArrowList=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,i)};var er=[];ei.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===_.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var i=this.start,r=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,r,!0,!1),this.eat(_.parenL)?e.arguments=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1):e.arguments=er,this.finishNode(e,"NewExpression")},ei.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===_.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,"\n"),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===_.backQuote,this.finishNode(n,"TemplateElement")},ei.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.type===_.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(_.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(_.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},ei.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===_.name||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_.star)&&!b.test(this.input.slice(this.lastTokEnd,this.start))},ei.parseObj=function(e,t){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(_.braceR);){if(i)i=!1;else if(this.expect(_.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(_.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,r,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},ei.parseProperty=function(e,t){var n,i,r,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(_.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,t),this.type===_.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(r=this.start,s=this.startLoc),e||(n=this.eat(_.star)));var o=this.containsEsc;return this.parsePropertyName(a),!e&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(_.star),this.parsePropertyName(a)):i=!1,this.parsePropertyValue(a,e,n,i,r,s,t,o),this.finishNode(a,"Property")},ei.parseGetterSetter=function(e){var t=e.key.name;this.parsePropertyName(e),e.value=this.parseMethod(!1),e.kind=t;var n="get"===e.kind?0:1;if(e.value.params.length!==n){var i=e.value.start;"get"===e.kind?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},ei.parsePropertyValue=function(e,t,n,i,r,s,a,o){(n||i)&&this.type===_.colon&&this.unexpected(),this.eat(_.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init"):this.options.ecmaVersion>=6&&this.type===_.parenL?(t&&this.unexpected(),e.method=!0,e.value=this.parseMethod(n,i),e.kind="init"):t||o||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===_.comma||this.type===_.braceR||this.type===_.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||i)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=r),t?e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key)):this.type===_.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.kind="init",e.shorthand=!0):this.unexpected():((n||i)&&this.unexpected(),this.parseGetterSetter(e))},ei.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(_.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(_.bracketR),e.key;e.computed=!1}return e.key=this.type===_.num||this.type===_.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},ei.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},ei.parseMethod=function(e,t,n){var i=this.startNode(),r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|$(t,i.generator)|(n?128:0)),this.expect(_.parenL),i.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")},ei.parseArrowExpression=function(e,t,n,i){var r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(16|$(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,i),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")},ei.parseFunctionBody=function(e,t,n,i){var r=t&&this.type!==_.braceL,s=this.strict,a=!1;if(r)e.body=this.parseMaybeAssign(i),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||o)&&(a=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var l=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!s&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,a&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()},ei.isSimpleParamList=function(e){for(var t=0;t<e.length;t+=1)if("Identifier"!==e[t].type)return!1;return!0},ei.checkParams=function(e,t){for(var n=Object.create(null),i=0,r=e.params;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,1,t?null:n)}},ei.parseExprList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(_.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===_.comma?a=null:this.type===_.ellipsis?(a=this.parseSpread(i),i&&this.type===_.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),r.push(a)}return r},ei.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;this.inGenerator&&"yield"===i&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),259&this.currentThisScope().flags||"arguments"!==i||this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===i||"await"===i)&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),(!(this.options.ecmaVersion<6)||-1===this.input.slice(t,n).indexOf("\\"))&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))},ei.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},ei.parseIdentNode=function(){var e=this.startNode();return this.type===_.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,("class"===e.name||"function"===e.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop(),this.type=_.name):this.unexpected(),e},ei.parsePrivateIdent=function(){var e=this.startNode();return this.type===_.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},ei.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===_.semi||this.canInsertSemicolon()||this.type!==_.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(_.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},ei.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var es=z.prototype;es.raise=function(e,t){var n=V(this.input,e);t+=" ("+n.line+":"+n.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var i=SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},es.raiseRecoverable=es.raise,es.curPosition=function(){if(this.options.locations)return new R(this.curLine,this.pos-this.lineStart)};var ea=z.prototype,eo=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};ea.enterScope=function(e){this.scopeStack.push(new eo(e))},ea.exitScope=function(){this.scopeStack.pop()},ea.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},ea.declareName=function(e,t,n){var i=!1;if(2===t){var r=this.currentScope();i=r.lexical.indexOf(e)>-1||r.functions.indexOf(e)>-1||r.var.indexOf(e)>-1,r.lexical.push(e),this.inModule&&1&r.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var s=this.currentScope();i=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(32&o.flags&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){i=!0;break}if(o.var.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e],259&o.flags)break}i&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},ea.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},ea.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},ea.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(771&t.flags)return t}},ea.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(771&t.flags&&!(16&t.flags))return t}};var el=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new L(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},eu=z.prototype;function ec(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}eu.startNode=function(){return new el(this,this.start,this.startLoc)},eu.startNodeAt=function(e,t){return new el(this,e,t)},eu.finishNode=function(e,t){return ec.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},eu.finishNodeAt=function(e,t,n,i){return ec.call(this,e,t,n,i)},eu.copyNode=function(e){var t=new el(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};for(var eh="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ed=eh+" Extended_Pictographic",ep=ed+" EBase EComp EMod EPres ExtPict",ef={9:eh,10:ed,11:ed,12:ep,13:ep,14:ep},em={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},eg="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ev="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ey=ev+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",e_=ey+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",eb=e_+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ex=eb+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ew={9:ev,10:ey,11:e_,12:eb,13:ex,14:ex+" Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz"},ek={},eS=0,eC=[9,10,11,12,13,14];eS<eC.length;eS+=1)!function(e){var t=ek[e]={binary:A(ef[e]+" "+eg),binaryOfStrings:A(em[e]),nonBinary:{General_Category:A(eg),Script:A(ew[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}(eC[eS]);var eE=z.prototype,eP=function(e,t){this.parent=e,this.base=t||this};eP.prototype.separatedFrom=function(e){for(var t=this;t;t=t.parent)for(var n=e;n;n=n.parent)if(t.base===n.base&&t!==n)return!0;return!1},eP.prototype.sibling=function(){return new eP(this.parent,this.base)};var eT=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=ek[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};function eN(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function eI(e){return e>=65&&e<=90||e>=97&&e<=122}function eM(e){return eI(e)||95===e}function eA(e){return e>=48&&e<=57}function eO(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function eD(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}function eR(e){return e>=48&&e<=55}eT.prototype.reset=function(e,t,n){var i=-1!==n.indexOf("v"),r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},eT.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},eT.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,i=n.length;if(e>=i)return -1;var r=n.charCodeAt(e);if(!(t||this.switchU)||r<=55295||r>=57344||e+1>=i)return r;var s=n.charCodeAt(e+1);return s>=56320&&s<=57343?(r<<10)+s-56613888:r},eT.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,i=n.length;if(e>=i)return i;var r,s=n.charCodeAt(e);return!(t||this.switchU)||s<=55295||s>=57344||e+1>=i||(r=n.charCodeAt(e+1))<56320||r>57343?e+1:e+2},eT.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},eT.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},eT.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},eT.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},eT.prototype.eatChars=function(e,t){void 0===t&&(t=!1);for(var n=this.pos,i=0;i<e.length;i+=1){var r=e[i],s=this.at(n,t);if(-1===s||s!==r)return!1;n=this.nextIndex(n,t)}return this.pos=n,!0},eE.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=!1,r=!1,s=0;s<n.length;s++){var a=n.charAt(s);-1===t.indexOf(a)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(a,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),"u"===a&&(i=!0),"v"===a&&(r=!0)}this.options.ecmaVersion>=15&&i&&r&&this.raise(e.start,"Invalid regular expression flag")},eE.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&function(e){for(var t in e)return!0;return!1}(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},eE.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var i=n[t];e.groupNames[i]||e.raise("Invalid named capture referenced")}},eE.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new eP(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},eE.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},eE.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?!!this.regexp_eatAtom(e):!!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},eE.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},eE.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},eE.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},eE.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue),e.eat(125)))return -1!==r&&r<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},eE.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},eE.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},eE.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),i=e.eat(45);if(n||i){for(var r=0;r<n.length;r++){var s=n.charAt(r);n.indexOf(s,r+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(i){var a=this.regexp_eatModifiers(e);n||a||58!==e.current()||e.raise("Invalid regular expression modifiers");for(var o=0;o<a.length;o++){var l=a.charAt(o);(a.indexOf(l,o+1)>-1||n.indexOf(l)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},eE.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},eE.regexp_eatModifiers=function(e){for(var t,n="",i=0;-1!==(i=e.current())&&(105===(t=i)||109===t||115===t);)n+=O(i),e.advance();return n},eE.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},eE.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},eE.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!eN(t)&&(e.lastIntValue=t,e.advance(),!0)},eE.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!eN(n);)e.advance();return e.pos!==t},eE.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return -1!==t&&36!==t&&(!(t>=40)||!(t<=43))&&46!==t&&63!==t&&91!==t&&94!==t&&124!==t&&(e.advance(),!0)},eE.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n){if(t)for(var i=0;i<n.length;i+=1)n[i].separatedFrom(e.branchID)||e.raise("Duplicate capture group name");else e.raise("Duplicate capture group name")}t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},eE.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},eE.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=O(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=O(e.lastIntValue);return!0}return!1},eE.regexp_eatRegExpIdentifierStart=function(e){var t,n=e.pos,i=this.options.ecmaVersion>=11,r=e.current(i);return(e.advance(i),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(r=e.lastIntValue),h(t=r,!0)||36===t||95===t)?(e.lastIntValue=r,!0):(e.pos=n,!1)},eE.regexp_eatRegExpIdentifierPart=function(e){var t,n=e.pos,i=this.options.ecmaVersion>=11,r=e.current(i);return(e.advance(i),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(r=e.lastIntValue),d(t=r,!0)||36===t||95===t||8204===t||8205===t)?(e.lastIntValue=r,!0):(e.pos=n,!1)},eE.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},eE.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},eE.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},eE.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},eE.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},eE.regexp_eatZero=function(e){return!(48!==e.current()||eA(e.lookahead()))&&(e.lastIntValue=0,e.advance(),!0)},eE.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},eE.regexp_eatControlLetter=function(e){var t=e.current();return!!eI(t)&&(e.lastIntValue=t%32,e.advance(),!0)},eE.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r,s=e.lastIntValue;if(i&&s>=55296&&s<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(s-55296)*1024+(o-56320)+65536,!0}e.pos=a,e.lastIntValue=s}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(r=e.lastIntValue)>=0&&r<=1114111)return!0;i&&e.raise("Invalid unicode escape"),e.pos=n}return!1},eE.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return 99!==t&&(!e.switchN||107!==t)&&(e.lastIntValue=t,e.advance(),!0)},eE.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1},eE.regexp_eatCharacterClassEscape=function(e){var t,n=e.current();if(100===n||68===n||115===n||83===n||119===n||87===n)return e.lastIntValue=-1,e.advance(),1;var i=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((i=80===n)||112===n)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&(t=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return i&&2===t&&e.raise("Invalid property name"),t;e.raise("Invalid property name")}return 0},eE.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,i),1}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,r)}return 0},eE.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){N(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},eE.regexp_validateUnicodePropertyNameOrValue=function(e,t){return e.unicodeProperties.binary.test(t)?1:e.switchV&&e.unicodeProperties.binaryOfStrings.test(t)?2:void e.raise("Invalid property name")},eE.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";eM(t=e.current());)e.lastStringValue+=O(t),e.advance();return""!==e.lastStringValue},eE.regexp_eatUnicodePropertyValue=function(e){var t,n=0;for(e.lastStringValue="";eM(t=n=e.current())||eA(t);)e.lastStringValue+=O(n),e.advance();return""!==e.lastStringValue},eE.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},eE.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&2===n&&e.raise("Negated character class may contain strings"),!0}return!1},eE.regexp_classContents=function(e){return 93===e.current()?1:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),1)},eE.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(-1===t||-1===n)&&e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},eE.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||eR(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return 93!==i&&(e.lastIntValue=i,e.advance(),!0)},eE.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},eE.regexp_classSetExpression=function(e){var t,n=1;if(this.regexp_eatClassSetRange(e));else if(t=this.regexp_eatClassSetOperand(e)){2===t&&(n=2);for(var i=e.pos;e.eatChars([38,38]);){if(38!==e.current()&&(t=this.regexp_eatClassSetOperand(e))){2!==t&&(n=1);continue}e.raise("Invalid character in character class")}if(i!==e.pos)return n;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(i!==e.pos)return n}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(!(t=this.regexp_eatClassSetOperand(e)))return n;2===t&&(n=2)}},eE.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;return -1!==n&&-1!==i&&n>i&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},eE.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?1:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},eE.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),i=this.regexp_classContents(e);if(e.eat(93))return n&&2===i&&e.raise("Negated character class may contain strings"),i;e.pos=t}if(e.eat(92)){var r=this.regexp_eatCharacterClassEscape(e);if(r)return r;e.pos=t}return null},eE.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},eE.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)2===this.regexp_classString(e)&&(t=2);return t},eE.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return 1===t?1:2},eE.regexp_eatClassSetCharacter=function(e){var t,n=e.pos;if(e.eat(92))return!!(this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e))||(e.eat(98)?(e.lastIntValue=8,!0):(e.pos=n,!1));var i=e.current();return!(i<0||i===e.lookahead()&&(33===i||i>=35&&i<=38||i>=42&&i<=44||46===i||i>=58&&i<=64||94===i||96===i||126===i)||40===(t=i)||41===t||45===t||47===t||t>=91&&t<=93||t>=123&&t<=125)&&(e.advance(),e.lastIntValue=i,!0)},eE.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return!!(33===t||35===t||37===t||38===t||44===t||45===t||t>=58&&t<=62||64===t||96===t||126===t)&&(e.lastIntValue=t,e.advance(),!0)},eE.regexp_eatClassControlLetter=function(e){var t=e.current();return(!!eA(t)||95===t)&&(e.lastIntValue=t%32,e.advance(),!0)},eE.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},eE.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;eA(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},eE.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;eO(n=e.current());)e.lastIntValue=16*e.lastIntValue+eD(n),e.advance();return e.pos!==t},eE.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},eE.regexp_eatOctalDigit=function(e){var t=e.current();return eR(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},eE.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var r=e.current();if(!eO(r))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+eD(r),e.advance()}return!0};var eL=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new L(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},eV=z.prototype;function eF(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}eV.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new eL(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},eV.getToken=function(){return this.next(),new eL(this)},"undefined"!=typeof Symbol&&(eV[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===_.eof,value:t}}}}),eV.nextToken=function(){var e=this.curContext();return(e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)?this.finishToken(_.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},eV.readToken=function(e){return h(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},eV.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},eV.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var i=void 0,r=t;(i=k(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},eV.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!w(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},eV.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&S.test(String.fromCharCode(e)))++this.pos;else break e}}},eV.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},eV.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(_.ellipsis)):(++this.pos,this.finishToken(_.dot))},eV.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(_.assign,2):this.finishOp(_.slash,1)},eV.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=42===e?_.star:_.modulo;return(this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,i=_.starstar,t=this.input.charCodeAt(this.pos+2)),61===t)?this.finishOp(_.assign,n+1):this.finishOp(i,n)},eV.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(_.assign,3):this.finishOp(124===e?_.logicalOR:_.logicalAND,2):61===t?this.finishOp(_.assign,2):this.finishOp(124===e?_.bitwiseOR:_.bitwiseAND,1)},eV.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(_.assign,2):this.finishOp(_.bitwiseXOR,1)},eV.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45===t&&!this.inModule&&62===this.input.charCodeAt(this.pos+2)&&(0===this.lastTokEnd||b.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(_.incDec,2):61===t?this.finishOp(_.assign,2):this.finishOp(_.plusMin,1)},eV.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n))?this.finishOp(_.assign,n+1):this.finishOp(_.bitShift,n):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(_.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},eV.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(_.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(_.arrow)):this.finishOp(61===e?_.eq:_.prefix,1)},eV.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(_.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(_.assign,3):this.finishOp(_.coalesce,2)}return this.finishOp(_.question,1)},eV.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,h(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(_.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+O(t)+"'")},eV.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_.parenL);case 41:return++this.pos,this.finishToken(_.parenR);case 59:return++this.pos,this.finishToken(_.semi);case 44:return++this.pos,this.finishToken(_.comma);case 91:return++this.pos,this.finishToken(_.bracketL);case 93:return++this.pos,this.finishToken(_.bracketR);case 123:return++this.pos,this.finishToken(_.braceL);case 125:return++this.pos,this.finishToken(_.braceR);case 58:return++this.pos,this.finishToken(_.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(_.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+O(e)+"'")},eV.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},eV.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(b.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new eT(this));o.reset(n,r,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(r,a)}catch(e){}return this.finishToken(_.regexp,{pattern:r,flags:a,value:l})},eV.readInt=function(e,t,n){for(var i=this.options.ecmaVersion>=12&&void 0===t,r=n&&48===this.input.charCodeAt(this.pos),s=this.pos,a=0,o=0,l=0,u=null==t?1/0:t;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),h=void 0;if(i&&95===c){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===o&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=c;continue}if((h=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=e)break;o=c,a=a*e+h}return(i&&95===o&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||null!=t&&this.pos-s!==t)?null:a},eV.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=eF(this.input.slice(t,this.pos)),++this.pos):h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,n)},eV.readNumber=function(e){var t,n=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(n,"Invalid number");var i=this.pos-n>=2&&48===this.input.charCodeAt(n);i&&this.strict&&this.raise(n,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!i&&!e&&this.options.ecmaVersion>=11&&110===r){var s=eF(this.input.slice(n,this.pos));return++this.pos,h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,s)}i&&/[89]/.test(this.input.slice(n,this.pos))&&(i=!1),46!==r||i||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||i||((43===(r=this.input.charCodeAt(++this.pos))||45===r)&&++this.pos,null===this.readInt(10)&&this.raise(n,"Invalid number")),h(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=(t=this.input.slice(n,this.pos),i?parseInt(t,8):parseFloat(t.replace(/_/g,"")));return this.finishToken(_.num,a)},eV.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},eV.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;92===i?(t+=this.input.slice(n,this.pos)+this.readEscapedChar(!1),n=this.pos):8232===i||8233===i?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(w(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(_.string,t)};var eB={};eV.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===eB)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},eV.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw eB;this.raise(e,t)},eV.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1)){if(this.pos===this.start&&(this.type===_.template||this.type===_.invalidTemplate)){if(36===n)return this.pos+=2,this.finishToken(_.dollarBraceL);return++this.pos,this.finishToken(_.backQuote)}return e+=this.input.slice(t,this.pos),this.finishToken(_.template,e)}if(92===n)e+=this.input.slice(t,this.pos)+this.readEscapedChar(!0),t=this.pos;else if(w(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},eV.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(_.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":"\n"===this.input[this.pos+1]&&++this.pos;case"\n":case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1}this.raise(this.start,"Unterminated template")},eV.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return O(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(i,8);return r>255&&(r=parseInt(i=i.slice(0,-1),8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),("0"!==i||56===t||57===t)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-i.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}if(w(t))return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";return String.fromCharCode(t)}},eV.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},eV.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(d(r,i))this.pos+=r<=65535?1:2;else if(92===r){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?h:d)(a,i)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=O(a),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)},eV.readWord=function(){var e=this.readWord1(),t=_.name;return this.keywords.test(e)&&(t=v[e]),this.finishToken(t,e)};var e$="8.15.0";z.acorn={Parser:z,version:e$,defaultOptions:F,Position:R,SourceLocation:L,getLineInfo:V,Node:el,TokenType:p,tokTypes:_,keywordTypes:v,TokContext:ee,tokContexts:et,isIdentifierChar:d,isIdentifierStart:h,Token:eL,isNewLine:w,lineBreak:b,lineBreakG:x,nonASCIIwhitespace:S},e.Node=el,e.Parser=z,e.Position=R,e.SourceLocation=L,e.TokContext=ee,e.Token=eL,e.TokenType=p,e.defaultOptions=F,e.getLineInfo=V,e.isIdentifierChar=d,e.isIdentifierStart=h,e.isNewLine=w,e.keywordTypes=v,e.lineBreak=b,e.lineBreakG=x,e.nonASCIIwhitespace=S,e.parse=function(e,t){return z.parse(e,t)},e.parseExpressionAt=function(e,t,n){return z.parseExpressionAt(e,t,n)},e.tokContexts=et,e.tokTypes=_,e.tokenizer=function(e,t){return z.tokenizer(e,t)},e.version=e$}(t)},91070:function(e,t,n){var i;e=n.nmd(e),i=function(){"use strict";function t(){return $.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){var t;if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(t in e)if(r(e,t))return!1;return!0}function a(e){return void 0===e}function o(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[],r=e.length;for(n=0;n<r;++n)i.push(t(e[n],n));return i}function c(e,t){for(var n in t)r(t,n)&&(e[n]=t[n]);return r(t,"toString")&&(e.toString=t.toString),r(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,i){return tr(e,t,n,i,!0).utc()}function d(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){var t=null,n=!1,i=e._d&&!isNaN(e._d.getTime());return(i&&(t=d(e),n=z.call(t.parsedDateParts,function(e){return null!=e}),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e))?i:(e._isValid=i,e._isValid)}function f(e){var t=h(NaN);return null!=e?c(d(t),e):d(t).userInvalidated=!0,t}z=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),i=n.length>>>0;for(t=0;t<i;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var m,g,v=t.momentProperties=[],y=!1;function _(e,t){var n,i,r,s=v.length;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=d(t)),a(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)a(r=t[i=v[n]])||(e[i]=r);return e}function b(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,t.updateOffset(this),y=!1)}function x(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,n){var i=!0;return c(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),i){var s,a,o,l=[],u=arguments.length;for(a=0;a<u;a++){if(s="","object"==typeof arguments[a]){for(o in s+="\n["+a+"] ",arguments[0])r(arguments[0],o)&&(s+=o+": "+arguments[0][o]+", ");s=s.slice(0,-2)}else s=arguments[a];l.push(s)}w(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+Error().stack),i=!1}return n.apply(this,arguments)},n)}var S={};function C(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),S[e]||(w(n),S[e]=!0)}function E(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var n,s=c({},e);for(n in t)r(t,n)&&(i(e[n])&&i(t[n])?(s[n]={},c(s[n],e[n]),c(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)r(e,n)&&!r(t,n)&&i(e[n])&&(s[n]=c({},s[n]));return s}function T(e){null!=e&&this.set(e)}function N(e,t,n){var i=""+Math.abs(e);return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null,j=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)r(e,t)&&n.push(t);return n};var I=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,M=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,A={},O={};function D(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(O[e]=r),t&&(O[t[0]]=function(){return N(r.apply(this,arguments),t[1],t[2])}),n&&(O[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function R(e,t){return e.isValid()?(A[t=L(t,e.localeData())]=A[t]||function(e){var t,n,i,r=e.match(I);for(n=0,i=r.length;n<i;n++)O[r[n]]?r[n]=O[r[n]]:r[n]=(t=r[n]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){var n,s="";for(n=0;n<i;n++)s+=E(r[n])?r[n].call(t,e):r[n];return s}}(t),A[t](e)):e.localeData().invalidDate()}function L(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(M.lastIndex=0;n>=0&&M.test(e);)e=e.replace(M,i),M.lastIndex=0,n-=1;return e}var V={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function F(e){return"string"==typeof e?V[e]||V[e.toLowerCase()]:void 0}function B(e){var t,n,i={};for(n in e)r(e,n)&&(t=F(n))&&(i[t]=e[n]);return i}var $,z,j,U,q={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1},H=/\d/,W=/\d\d/,Y=/\d{3}/,G=/\d{4}/,K=/[+-]?\d{6}/,X=/\d\d?/,Q=/\d\d\d\d?/,Z=/\d\d\d\d\d\d?/,J=/\d{1,3}/,ee=/\d{1,4}/,et=/[+-]?\d{1,6}/,en=/\d+/,ei=/[+-]?\d+/,er=/Z|[+-]\d\d:?\d\d/gi,es=/Z|[+-]\d\d(?::?\d\d)?/gi,ea=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,eo=/^[1-9]\d?/,el=/^([1-9]\d|\d)/;function eu(e,t,n){U[e]=E(t)?t:function(e,i){return e&&n?n:t}}function ec(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function eh(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ed(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=eh(t)),n}U={};var ep={};function ef(e,t){var n,i,r=t;for("string"==typeof e&&(e=[e]),o(t)&&(r=function(e,n){n[t]=ed(e)}),i=e.length,n=0;n<i;n++)ep[e[n]]=r}function em(e,t){ef(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function eg(e){return e%4==0&&e%100!=0||e%400==0}function ev(e){return eg(e)?366:365}D("Y",0,0,function(){var e=this.year();return e<=9999?N(e,4):"+"+e}),D(0,["YY",2],0,function(){return this.year()%100}),D(0,["YYYY",4],0,"year"),D(0,["YYYYY",5],0,"year"),D(0,["YYYYYY",6,!0],0,"year"),eu("Y",ei),eu("YY",X,W),eu("YYYY",ee,G),eu("YYYYY",et,K),eu("YYYYYY",et,K),ef(["YYYYY","YYYYYY"],0),ef("YYYY",function(e,n){n[0]=2===e.length?t.parseTwoDigitYear(e):ed(e)}),ef("YY",function(e,n){n[0]=t.parseTwoDigitYear(e)}),ef("Y",function(e,t){t[0]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return ed(e)+(ed(e)>68?1900:2e3)};var ey=e_("FullYear",!0);function e_(e,n){return function(i){return null!=i?(ex(this,e,i),t.updateOffset(this,n),this):eb(this,e)}}function eb(e,t){if(!e.isValid())return NaN;var n=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function ex(e,t,n){var i,r,s,a;if(!(!e.isValid()||isNaN(n))){switch(i=e._d,r=e._isUTC,t){case"Milliseconds":return void(r?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(r?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(r?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(r?i.setUTCHours(n):i.setHours(n));case"Date":return void(r?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}s=e.month(),a=29!==(a=e.date())||1!==s||eg(n)?a:28,r?i.setUTCFullYear(n,s,a):i.setFullYear(n,s,a)}}function ew(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1===n?eg(e)?29:28:31-n%7%2}ej=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return -1},D("M",["MM",2],"Mo",function(){return this.month()+1}),D("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),D("MMMM",0,0,function(e){return this.localeData().months(this,e)}),eu("M",X,eo),eu("MM",X,W),eu("MMM",function(e,t){return t.monthsShortRegex(e)}),eu("MMMM",function(e,t){return t.monthsRegex(e)}),ef(["M","MM"],function(e,t){t[1]=ed(e)-1}),ef(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[1]=r:d(n).invalidMonth=e});var ek="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),eS=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;function eC(e,t,n){var i,r,s,a=e.toLocaleLowerCase();if(!this._monthsParse)for(i=0,this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[];i<12;++i)s=h([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=ej.call(this._shortMonthsParse,a))?r:null:-1!==(r=ej.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=ej.call(this._shortMonthsParse,a))?r:-1!==(r=ej.call(this._longMonthsParse,a))?r:null:-1!==(r=ej.call(this._longMonthsParse,a))?r:-1!==(r=ej.call(this._shortMonthsParse,a))?r:null}function eE(e,t){if(!e.isValid())return e;if("string"==typeof t){if(/^\d+$/.test(t))t=ed(t);else if(!o(t=e.localeData().monthsParse(t)))return e}var n=t,i=e.date();return i=i<29?i:Math.min(i,ew(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,i):e._d.setMonth(n,i),e}function eP(e){return null!=e?(eE(this,e),t.updateOffset(this,!0),this):eb(this,"Month")}function eT(){function e(e,t){return t.length-e.length}var t,n,i,r,s=[],a=[],o=[];for(t=0;t<12;t++)n=h([2e3,t]),i=ec(this.monthsShort(n,"")),r=ec(this.months(n,"")),s.push(i),a.push(r),o.push(r),o.push(i);s.sort(e),a.sort(e),o.sort(e),this._monthsRegex=RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=RegExp("^("+s.join("|")+")","i")}function eN(e,t,n,i,r,s,a){var o;return e<100&&e>=0?isFinite((o=new Date(e+400,t,n,i,r,s,a)).getFullYear())&&o.setFullYear(e):o=new Date(e,t,n,i,r,s,a),o}function eI(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,isFinite((t=new Date(Date.UTC.apply(null,n))).getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function eM(e,t,n){var i=7+t-n;return-((7+eI(e,0,i).getUTCDay()-t)%7)+i-1}function eA(e,t,n,i,r){var s,a,o=1+7*(t-1)+(7+n-i)%7+eM(e,i,r);return o<=0?a=ev(s=e-1)+o:o>ev(e)?(s=e+1,a=o-ev(e)):(s=e,a=o),{year:s,dayOfYear:a}}function eO(e,t,n){var i,r,s=eM(e.year(),t,n),a=Math.floor((e.dayOfYear()-s-1)/7)+1;return a<1?i=a+eD(r=e.year()-1,t,n):a>eD(e.year(),t,n)?(i=a-eD(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function eD(e,t,n){var i=eM(e,t,n),r=eM(e+1,t,n);return(ev(e)-i+r)/7}function eR(e,t){return e.slice(t,7).concat(e.slice(0,t))}D("w",["ww",2],"wo","week"),D("W",["WW",2],"Wo","isoWeek"),eu("w",X,eo),eu("ww",X,W),eu("W",X,eo),eu("WW",X,W),em(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=ed(e)}),D("d",0,"do","day"),D("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),D("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),D("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),D("e",0,0,"weekday"),D("E",0,0,"isoWeekday"),eu("d",X),eu("e",X),eu("E",X),eu("dd",function(e,t){return t.weekdaysMinRegex(e)}),eu("ddd",function(e,t){return t.weekdaysShortRegex(e)}),eu("dddd",function(e,t){return t.weekdaysRegex(e)}),em(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:d(n).invalidWeekday=e}),em(["d","e","E"],function(e,t,n,i){t[i]=ed(e)});var eL="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function eV(e,t,n){var i,r,s,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(i=0,this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[];i<7;++i)s=h([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=ej.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=ej.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=ej.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=ej.call(this._weekdaysParse,a))||-1!==(r=ej.call(this._shortWeekdaysParse,a))?r:-1!==(r=ej.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=ej.call(this._shortWeekdaysParse,a))||-1!==(r=ej.call(this._weekdaysParse,a))?r:-1!==(r=ej.call(this._minWeekdaysParse,a))?r:null:-1!==(r=ej.call(this._minWeekdaysParse,a))||-1!==(r=ej.call(this._weekdaysParse,a))?r:-1!==(r=ej.call(this._shortWeekdaysParse,a))?r:null}function eF(){function e(e,t){return t.length-e.length}var t,n,i,r,s,a=[],o=[],l=[],u=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),i=ec(this.weekdaysMin(n,"")),r=ec(this.weekdaysShort(n,"")),s=ec(this.weekdays(n,"")),a.push(i),o.push(r),l.push(s),u.push(i),u.push(r),u.push(s);a.sort(e),o.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=RegExp("^("+a.join("|")+")","i")}function eB(){return this.hours()%12||12}function e$(e,t){D(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ez(e,t){return t._meridiemParse}D("H",["HH",2],0,"hour"),D("h",["hh",2],0,eB),D("k",["kk",2],0,function(){return this.hours()||24}),D("hmm",0,0,function(){return""+eB.apply(this)+N(this.minutes(),2)}),D("hmmss",0,0,function(){return""+eB.apply(this)+N(this.minutes(),2)+N(this.seconds(),2)}),D("Hmm",0,0,function(){return""+this.hours()+N(this.minutes(),2)}),D("Hmmss",0,0,function(){return""+this.hours()+N(this.minutes(),2)+N(this.seconds(),2)}),e$("a",!0),e$("A",!1),eu("a",ez),eu("A",ez),eu("H",X,el),eu("h",X,eo),eu("k",X,eo),eu("HH",X,W),eu("hh",X,W),eu("kk",X,W),eu("hmm",Q),eu("hmmss",Z),eu("Hmm",Q),eu("Hmmss",Z),ef(["H","HH"],3),ef(["k","kk"],function(e,t,n){var i=ed(e);t[3]=24===i?0:i}),ef(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ef(["h","hh"],function(e,t,n){t[3]=ed(e),d(n).bigHour=!0}),ef("hmm",function(e,t,n){var i=e.length-2;t[3]=ed(e.substr(0,i)),t[4]=ed(e.substr(i)),d(n).bigHour=!0}),ef("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=ed(e.substr(0,i)),t[4]=ed(e.substr(i,2)),t[5]=ed(e.substr(r)),d(n).bigHour=!0}),ef("Hmm",function(e,t,n){var i=e.length-2;t[3]=ed(e.substr(0,i)),t[4]=ed(e.substr(i))}),ef("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[3]=ed(e.substr(0,i)),t[4]=ed(e.substr(i,2)),t[5]=ed(e.substr(r))});var ej,eU,eq=e_("Hours",!0),eH={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:ek,week:{dow:0,doy:6},weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysShort:eL,meridiemParse:/[ap]\.?m?\.?/i},eW={},eY={};function eG(e){return e?e.toLowerCase().replace("_","-"):e}function eK(t){var n=null;if(void 0===eW[t]&&e&&e.exports&&t&&t.match("^[^/\\\\]*$"))try{n=eU._abbr,function(){var e=Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),eX(n)}catch(e){eW[t]=null}return eW[t]}function eX(e,t){var n;return e&&((n=a(t)?eZ(e):eQ(e,t))?eU=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),eU._abbr}function eQ(e,t){if(null===t)return delete eW[e],null;var n,i=eH;if(t.abbr=e,null!=eW[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=eW[e]._config;else if(null!=t.parentLocale){if(null!=eW[t.parentLocale])i=eW[t.parentLocale]._config;else{if(null==(n=eK(t.parentLocale)))return eY[t.parentLocale]||(eY[t.parentLocale]=[]),eY[t.parentLocale].push({name:e,config:t}),null;i=n._config}}return eW[e]=new T(P(i,t)),eY[e]&&eY[e].forEach(function(e){eQ(e.name,e.config)}),eX(e),eW[e]}function eZ(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return eU;if(!n(e)){if(t=eK(e))return t;e=[e]}return function(e){for(var t,n,i,r,s=0;s<e.length;){for(t=(r=eG(e[s]).split("-")).length,n=(n=eG(e[s+1]))?n.split("-"):null;t>0;){if(i=eK(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&function(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n+=1)if(e[n]!==t[n])return n;return i}(r,n)>=t-1)break;t--}s++}return eU}(e)}function eJ(e){var t,n=e._a;return n&&-2===d(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>ew(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,d(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),d(e)._overflowWeeks&&-1===t&&(t=7),d(e)._overflowWeekday&&-1===t&&(t=8),d(e).overflow=t),e}var e0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e1=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,e2=/Z|[+-]\d\d(?::?\d\d)?/,e3=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],e6=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],e4=/^\/?Date\((-?\d+)/i,e5=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,e8={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function e9(e){var t,n,i,r,s,a,o=e._i,l=e0.exec(o)||e1.exec(o),u=e3.length,c=e6.length;if(l){for(t=0,d(e).iso=!0,n=u;t<n;t++)if(e3[t][1].exec(l[1])){r=e3[t][0],i=!1!==e3[t][2];break}if(null==r){e._isValid=!1;return}if(l[3]){for(t=0,n=c;t<n;t++)if(e6[t][1].exec(l[3])){s=(l[2]||" ")+e6[t][0];break}if(null==s){e._isValid=!1;return}}if(!i&&null!=s){e._isValid=!1;return}if(l[4]){if(e2.exec(l[4]))a="Z";else{e._isValid=!1;return}}e._f=r+(s||"")+(a||""),tn(e)}else e._isValid=!1}function e7(e){var t,n,i,r,s,a,o,l,u,c=e5.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],i=c[3],r=c[2],s=c[5],a=c[6],o=c[7],l=[(t=parseInt(n,10))<=49?2e3+t:t<=999?1900+t:t,ek.indexOf(i),parseInt(r,10),parseInt(s,10),parseInt(a,10)],o&&l.push(parseInt(o,10)),(u=c[1])&&eL.indexOf(u)!==new Date(l[0],l[1],l[2]).getDay()&&(d(e).weekdayMismatch=!0,e._isValid=!1,1))return;e._a=l,e._tzm=function(e,t,n){if(e)return e8[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(c[8],c[9],c[10]),e._d=eI.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),d(e).rfc2822=!0}else e._isValid=!1}function te(e,t,n){return null!=e?e:null!=t?t:n}function tt(e){var n,i,r,s,a,o,l,u,c,h,p,f,m,g,v,y=[];if(!e._d){for(h=new Date(t.now()),m=e._useUTC?[h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()]:[h.getFullYear(),h.getMonth(),h.getDate()],e._w&&null==e._a[2]&&null==e._a[1]&&(null!=(n=e._w).GG||null!=n.W||null!=n.E?(a=1,o=4,i=te(n.GG,e._a[0],eO(ts(),1,4).year),r=te(n.W,1),((s=te(n.E,1))<1||s>7)&&(u=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=eO(ts(),a,o),i=te(n.gg,e._a[0],c.year),r=te(n.w,c.week),null!=n.d?((s=n.d)<0||s>6)&&(u=!0):null!=n.e?(s=n.e+a,(n.e<0||n.e>6)&&(u=!0)):s=a),r<1||r>eD(i,a,o)?d(e)._overflowWeeks=!0:null!=u?d(e)._overflowWeekday=!0:(l=eA(i,r,s,a,o),e._a[0]=l.year,e._dayOfYear=l.dayOfYear)),null!=e._dayOfYear&&(v=te(e._a[0],m[0]),(e._dayOfYear>ev(v)||0===e._dayOfYear)&&(d(e)._overflowDayOfYear=!0),f=eI(v,0,e._dayOfYear),e._a[1]=f.getUTCMonth(),e._a[2]=f.getUTCDate()),p=0;p<3&&null==e._a[p];++p)e._a[p]=y[p]=m[p];for(;p<7;p++)e._a[p]=y[p]=null==e._a[p]?2===p?1:0:e._a[p];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?eI:eN).apply(null,y),g=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==g&&(d(e).weekdayMismatch=!0)}}function tn(e){if(e._f===t.ISO_8601){e9(e);return}if(e._f===t.RFC_2822){e7(e);return}e._a=[],d(e).empty=!0;var n,i,s,a,o,l,u,c,h,p,f,m=""+e._i,g=m.length,v=0;for(o=0,f=(u=L(e._f,e._locale).match(I)||[]).length;o<f;o++)(c=u[o],(l=(m.match(r(U,c)?U[c](e._strict,e._locale):new RegExp(ec(c.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}))))||[])[0])&&((h=m.substr(0,m.indexOf(l))).length>0&&d(e).unusedInput.push(h),m=m.slice(m.indexOf(l)+l.length),v+=l.length),O[c])?(l?d(e).empty=!1:d(e).unusedTokens.push(c),null!=l&&r(ep,c)&&ep[c](l,e._a,e,c)):e._strict&&!l&&d(e).unusedTokens.push(c);d(e).charsLeftOver=g-v,m.length>0&&d(e).unusedInput.push(m),e._a[3]<=12&&!0===d(e).bigHour&&e._a[3]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[3]=(n=e._locale,i=e._a[3],null==(s=e._meridiem)?i:null!=n.meridiemHour?n.meridiemHour(i,s):(null!=n.isPM&&((a=n.isPM(s))&&i<12&&(i+=12),a||12!==i||(i=0)),i)),null!==(p=d(e).era)&&(e._a[0]=e._locale.erasConvertYear(p,e._a[0])),tt(e),eJ(e)}function ti(e){var r,s=e._i,h=e._f;return(e._locale=e._locale||eZ(e._l),null===s||void 0===h&&""===s)?f({nullInput:!0}):("string"==typeof s&&(e._i=s=e._locale.preparse(s)),x(s))?new b(eJ(s)):(l(s)?e._d=s:n(h)?function(e){var t,n,i,r,s,a,o=!1,l=e._f.length;if(0===l){d(e).invalidFormat=!0,e._d=new Date(NaN);return}for(r=0;r<l;r++)s=0,a=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],tn(t),p(t)&&(a=!0),s+=d(t).charsLeftOver+10*d(t).unusedTokens.length,d(t).score=s,o?s<i&&(i=s,n=t):(null==i||s<i||a)&&(i=s,n=t,a&&(o=!0));c(e,n||t)}(e):h?tn(e):a(r=e._i)?e._d=new Date(t.now()):l(r)?e._d=new Date(r.valueOf()):"string"==typeof r?function(e){var n=e4.exec(e._i);if(null!==n){e._d=new Date(+n[1]);return}e9(e),!1===e._isValid&&(delete e._isValid,e7(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:t.createFromInputFallback(e)))}(e):n(r)?(e._a=u(r.slice(0),function(e){return parseInt(e,10)}),tt(e)):i(r)?function(e){if(!e._d){var t=B(e._i),n=void 0===t.day?t.date:t.day;e._a=u([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),tt(e)}}(e):o(r)?e._d=new Date(r):t.createFromInputFallback(e),p(e)||(e._d=null),e)}function tr(e,t,r,a,o){var l,u={};return(!0===t||!1===t)&&(a=t,t=void 0),(!0===r||!1===r)&&(a=r,r=void 0),(i(e)&&s(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=t,u._strict=a,(l=new b(eJ(ti(u))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function ts(e,t,n,i){return tr(e,t,n,i,!1)}t.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){},t.RFC_2822=function(){};var ta=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ts.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),to=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ts.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()});function tl(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return ts();for(r=1,i=t[0];r<t.length;++r)(!t[r].isValid()||t[r][e](i))&&(i=t[r]);return i}var tu=["year","quarter","month","week","day","hour","minute","second","millisecond"];function tc(e){var t=B(e),n=t.year||0,i=t.quarter||0,s=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,u=t.minute||0,c=t.second||0,h=t.millisecond||0;this._isValid=function(e){var t,n,i=!1,s=tu.length;for(t in e)if(r(e,t)&&!(-1!==ej.call(tu,t)&&(null==e[t]||!isNaN(e[t]))))return!1;for(n=0;n<s;++n)if(e[tu[n]]){if(i)return!1;parseFloat(e[tu[n]])!==ed(e[tu[n]])&&(i=!0)}return!0}(t),this._milliseconds=+h+1e3*c+6e4*u+36e5*l,this._days=+o+7*a,this._months=+s+3*i+12*n,this._data={},this._locale=eZ(),this._bubble()}function th(e){return e instanceof tc}function td(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function tp(e,t){D(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+N(~~(e/60),2)+t+N(~~e%60,2)})}tp("Z",":"),tp("ZZ",""),eu("Z",es),eu("ZZ",es),ef(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=tm(es,e)});var tf=/([\+\-]|\d\d)/gi;function tm(e,t){var n,i,r=(t||"").match(e);return null===r?null:0===(i=+(60*(n=((r[r.length-1]||[])+"").match(tf)||["-",0,0])[1])+ed(n[2]))?0:"+"===n[0]?i:-i}function tg(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(x(e)||l(e)?e.valueOf():ts(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):ts(e).local()}function tv(e){return-Math.round(e._d.getTimezoneOffset())}function ty(){return!!this.isValid()&&this._isUTC&&0===this._offset}t.updateOffset=function(){};var t_=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,tb=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function tx(e,t){var n,i,s,a,l,u,c=e,h=null;return th(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:o(e)||!isNaN(+e)?(c={},t?c[t]=+e:c.milliseconds=+e):(h=t_.exec(e))?(a="-"===h[1]?-1:1,c={y:0,d:ed(h[2])*a,h:ed(h[3])*a,m:ed(h[4])*a,s:ed(h[5])*a,ms:ed(td(1e3*h[6]))*a}):(h=tb.exec(e))?(a="-"===h[1]?-1:1,c={y:tw(h[2],a),M:tw(h[3],a),w:tw(h[4],a),d:tw(h[5],a),h:tw(h[6],a),m:tw(h[7],a),s:tw(h[8],a)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(n=ts(c.from),i=ts(c.to),u=n.isValid()&&i.isValid()?(i=tg(i,n),n.isBefore(i)?s=tk(n,i):((s=tk(i,n)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(c={}).ms=u.milliseconds,c.M=u.months),l=new tc(c),th(e)&&r(e,"_locale")&&(l._locale=e._locale),th(e)&&r(e,"_isValid")&&(l._isValid=e._isValid),l}function tw(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function tk(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tS(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),tC(this,tx(n,i),e),this}}function tC(e,n,i,r){var s=n._milliseconds,a=td(n._days),o=td(n._months);e.isValid()&&(r=null==r||r,o&&eE(e,eb(e,"Month")+o*i),a&&ex(e,"Date",eb(e,"Date")+a*i),s&&e._d.setTime(e._d.valueOf()+s*i),r&&t.updateOffset(e,a||o))}tx.fn=tc.prototype,tx.invalid=function(){return tx(NaN)};var tE=tS(1,"add"),tP=tS(-1,"subtract");function tT(e){return"string"==typeof e||e instanceof String}function tN(e,t){if(e.date()<t.date())return-tN(t,e);var n,i=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(i,"months");return n=t-r<0?(t-r)/(r-e.clone().add(i-1,"months")):(t-r)/(e.clone().add(i+1,"months")-r),-(i+n)||0}function tI(e){var t;return void 0===e?this._locale._abbr:(null!=(t=eZ(e))&&(this._locale=t),this)}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var tM=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function tA(){return this._locale}function tO(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function tD(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function tR(e,t){return t.erasAbbrRegex(e)}function tL(){var e,t,n,i,r,s=[],a=[],o=[],l=[],u=this.eras();for(e=0,t=u.length;e<t;++e)n=ec(u[e].name),i=ec(u[e].abbr),r=ec(u[e].narrow),a.push(n),s.push(i),o.push(r),l.push(n),l.push(i),l.push(r);this._erasRegex=RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=RegExp("^("+o.join("|")+")","i")}function tV(e,t){D(0,[e,e.length],0,t)}function tF(e,t,n,i,r){var s;return null==e?eO(this,i,r).year:(t>(s=eD(e,i,r))&&(t=s),tB.call(this,e,t,n,i,r))}function tB(e,t,n,i,r){var s=eA(e,t,n,i,r),a=eI(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}D("N",0,0,"eraAbbr"),D("NN",0,0,"eraAbbr"),D("NNN",0,0,"eraAbbr"),D("NNNN",0,0,"eraName"),D("NNNNN",0,0,"eraNarrow"),D("y",["y",1],"yo","eraYear"),D("y",["yy",2],0,"eraYear"),D("y",["yyy",3],0,"eraYear"),D("y",["yyyy",4],0,"eraYear"),eu("N",tR),eu("NN",tR),eu("NNN",tR),eu("NNNN",function(e,t){return t.erasNameRegex(e)}),eu("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),ef(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){var r=n._locale.erasParse(e,i,n._strict);r?d(n).era=r:d(n).invalidEra=e}),eu("y",en),eu("yy",en),eu("yyy",en),eu("yyyy",en),eu("yo",function(e,t){return t._eraYearOrdinalRegex||en}),ef(["y","yy","yyy","yyyy"],0),ef(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[0]=n._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)}),D(0,["gg",2],0,function(){return this.weekYear()%100}),D(0,["GG",2],0,function(){return this.isoWeekYear()%100}),tV("gggg","weekYear"),tV("ggggg","weekYear"),tV("GGGG","isoWeekYear"),tV("GGGGG","isoWeekYear"),eu("G",ei),eu("g",ei),eu("GG",X,W),eu("gg",X,W),eu("GGGG",ee,G),eu("gggg",ee,G),eu("GGGGG",et,K),eu("ggggg",et,K),em(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=ed(e)}),em(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),D("Q",0,"Qo","quarter"),eu("Q",H),ef("Q",function(e,t){t[1]=(ed(e)-1)*3}),D("D",["DD",2],"Do","date"),eu("D",X,eo),eu("DD",X,W),eu("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ef(["D","DD"],2),ef("Do",function(e,t){t[2]=ed(e.match(X)[0])});var t$=e_("Date",!0);D("DDD",["DDDD",3],"DDDo","dayOfYear"),eu("DDD",J),eu("DDDD",Y),ef(["DDD","DDDD"],function(e,t,n){n._dayOfYear=ed(e)}),D("m",["mm",2],0,"minute"),eu("m",X,el),eu("mm",X,W),ef(["m","mm"],4);var tz=e_("Minutes",!1);D("s",["ss",2],0,"second"),eu("s",X,el),eu("ss",X,W),ef(["s","ss"],5);var tj=e_("Seconds",!1);for(D("S",0,0,function(){return~~(this.millisecond()/100)}),D(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),D(0,["SSS",3],0,"millisecond"),D(0,["SSSS",4],0,function(){return 10*this.millisecond()}),D(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),D(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),D(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),D(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),D(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),eu("S",J,H),eu("SS",J,W),eu("SSS",J,Y),m="SSSS";m.length<=9;m+="S")eu(m,en);function tU(e,t){t[6]=ed(("0."+e)*1e3)}for(m="S";m.length<=9;m+="S")ef(m,tU);g=e_("Milliseconds",!1),D("z",0,0,"zoneAbbr"),D("zz",0,0,"zoneName");var tq=b.prototype;function tH(e){return e}tq.add=tE,tq.calendar=function(e,a){if(1==arguments.length){if(arguments[0]){var u,c,h;(u=arguments[0],x(u)||l(u)||tT(u)||o(u)||(c=n(u),h=!1,c&&(h=0===u.filter(function(e){return!o(e)&&tT(u)}).length),c&&h)||function(e){var t,n,a=i(e)&&!s(e),o=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=l.length;for(t=0;t<u;t+=1)n=l[t],o=o||r(e,n);return a&&o}(u)||null==u)?(e=arguments[0],a=void 0):function(e){var t,n,a=i(e)&&!s(e),o=!1,l=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<l.length;t+=1)n=l[t],o=o||r(e,n);return a&&o}(arguments[0])&&(a=arguments[0],e=void 0)}else e=void 0,a=void 0}var d=e||ts(),p=tg(d,this).startOf("day"),f=t.calendarFormat(this,p)||"sameElse",m=a&&(E(a[f])?a[f].call(this,d):a[f]);return this.format(m||this.localeData().calendar(f,this,ts(d)))},tq.clone=function(){return new b(this)},tq.diff=function(e,t,n){var i,r,s;if(!this.isValid()||!(i=tg(e,this)).isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,t=F(t)){case"year":s=tN(this,i)/12;break;case"month":s=tN(this,i);break;case"quarter":s=tN(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:eh(s)},tq.endOf=function(e){var n,i;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?tD:tO,e){case"year":n=i(this.year()+1,0,1)-1;break;case"quarter":n=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=i(this.year(),this.month()+1,1)-1;break;case"week":n=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=36e5-((n+(this._isUTC?0:6e4*this.utcOffset()))%36e5+36e5)%36e5-1;break;case"minute":n=this._d.valueOf(),n+=6e4-(n%6e4+6e4)%6e4-1;break;case"second":n=this._d.valueOf(),n+=1e3-(n%1e3+1e3)%1e3-1}return this._d.setTime(n),t.updateOffset(this,!0),this},tq.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=R(this,e);return this.localeData().postformat(n)},tq.from=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||ts(e).isValid())?tx({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},tq.fromNow=function(e){return this.from(ts(),e)},tq.to=function(e,t){return this.isValid()&&(x(e)&&e.isValid()||ts(e).isValid())?tx({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},tq.toNow=function(e){return this.to(ts(),e)},tq.get=function(e){return E(this[e=F(e)])?this[e]():this},tq.invalidAt=function(){return d(this).overflow},tq.isAfter=function(e,t){var n=x(e)?e:ts(e);return!!(this.isValid()&&n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},tq.isBefore=function(e,t){var n=x(e)?e:ts(e);return!!(this.isValid()&&n.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},tq.isBetween=function(e,t,n,i){var r=x(e)?e:ts(e),s=x(t)?t:ts(t);return!!(this.isValid()&&r.isValid()&&s.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(s,n):!this.isAfter(s,n))},tq.isSame=function(e,t){var n,i=x(e)?e:ts(e);return!!(this.isValid()&&i.isValid())&&("millisecond"===(t=F(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},tq.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},tq.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},tq.isValid=function(){return p(this)},tq.lang=tM,tq.locale=tI,tq.localeData=tA,tq.max=to,tq.min=ta,tq.parsingFlags=function(){return c({},d(this))},tq.set=function(e,t){if("object"==typeof e){var n,i=function(e){var t,n=[];for(t in e)r(e,t)&&n.push({unit:t,priority:q[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=B(e)),s=i.length;for(n=0;n<s;n++)this[i[n].unit](e[i[n].unit])}else if(E(this[e=F(e)]))return this[e](t);return this},tq.startOf=function(e){var n,i;if(void 0===(e=F(e))||"millisecond"===e||!this.isValid())return this;switch(i=this._isUTC?tD:tO,e){case"year":n=i(this.year(),0,1);break;case"quarter":n=i(this.year(),this.month()-this.month()%3,1);break;case"month":n=i(this.year(),this.month(),1);break;case"week":n=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=i(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=((n+(this._isUTC?0:6e4*this.utcOffset()))%36e5+36e5)%36e5;break;case"minute":n=this._d.valueOf(),n-=(n%6e4+6e4)%6e4;break;case"second":n=this._d.valueOf(),n-=(n%1e3+1e3)%1e3}return this._d.setTime(n),t.updateOffset(this,!0),this},tq.subtract=tP,tq.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},tq.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},tq.toDate=function(){return new Date(this.valueOf())},tq.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return 0>n.year()||n.year()>9999?R(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+6e4*this.utcOffset()).toISOString().replace("Z",R(n,"Z")):R(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},tq.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,i,r="moment",s="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+r+'("]',t=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",i=s+'[")]',this.format(e+t+n+i)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(tq[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),tq.toJSON=function(){return this.isValid()?this.toISOString():null},tq.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},tq.unix=function(){return Math.floor(this.valueOf()/1e3)},tq.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},tq.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},tq.eraName=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].name;return""},tq.eraNarrow=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].narrow;return""},tq.eraAbbr=function(){var e,t,n,i=this.localeData().eras();for(e=0,t=i.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),i[e].since<=n&&n<=i[e].until||i[e].until<=n&&n<=i[e].since)return i[e].abbr;return""},tq.eraYear=function(){var e,n,i,r,s=this.localeData().eras();for(e=0,n=s.length;e<n;++e)if(i=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-t(s[e].since).year())*i+s[e].offset;return this.year()},tq.year=ey,tq.isLeapYear=function(){return eg(this.year())},tq.weekYear=function(e){return tF.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},tq.isoWeekYear=function(e){return tF.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},tq.quarter=tq.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)},tq.month=eP,tq.daysInMonth=function(){return ew(this.year(),this.month())},tq.week=tq.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add((e-t)*7,"d")},tq.isoWeek=tq.isoWeeks=function(e){var t=eO(this,1,4).week;return null==e?t:this.add((e-t)*7,"d")},tq.weeksInYear=function(){var e=this.localeData()._week;return eD(this.year(),e.dow,e.doy)},tq.weeksInWeekYear=function(){var e=this.localeData()._week;return eD(this.weekYear(),e.dow,e.doy)},tq.isoWeeksInYear=function(){return eD(this.year(),1,4)},tq.isoWeeksInISOWeekYear=function(){return eD(this.isoWeekYear(),1,4)},tq.date=t$,tq.day=tq.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=eb(this,"Day");return null==e?i:(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d"))},tq.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},tq.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n=(t=this.localeData(),"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?n:n-7)},tq.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},tq.hour=tq.hours=eq,tq.minute=tq.minutes=tz,tq.second=tq.seconds=tj,tq.millisecond=tq.milliseconds=g,tq.utcOffset=function(e,n,i){var r,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?s:tv(this);if("string"==typeof e){if(null===(e=tm(es,e)))return this}else 16>Math.abs(e)&&!i&&(e*=60);return!this._isUTC&&n&&(r=tv(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),s===e||(!n||this._changeInProgress?tC(this,tx(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this},tq.utc=function(e){return this.utcOffset(0,e)},tq.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(tv(this),"m")),this},tq.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=tm(er,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},tq.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?ts(e).utcOffset():0,(this.utcOffset()-e)%60==0)},tq.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},tq.isLocal=function(){return!!this.isValid()&&!this._isUTC},tq.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},tq.isUtc=ty,tq.isUTC=ty,tq.zoneAbbr=function(){return this._isUTC?"UTC":""},tq.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},tq.dates=k("dates accessor is deprecated. Use date instead.",t$),tq.months=k("months accessor is deprecated. Use month instead",eP),tq.years=k("years accessor is deprecated. Use year instead",ey),tq.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),tq.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=ti(t))._a?(e=t._isUTC?h(t._a):ts(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var i,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)ed(e[i])!==ed(t[i])&&a++;return a+s}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted});var tW=T.prototype;function tY(e,t,n,i){var r=eZ(),s=h().set(i,t);return r[n](s,e)}function tG(e,t,n){if(o(e)&&(t=e,e=void 0),e=e||"",null!=t)return tY(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=tY(e,i,n,"month");return r}function tK(e,t,n,i){"boolean"==typeof e||(n=t=e,e=!1),o(t)&&(n=t,t=void 0),t=t||"";var r,s=eZ(),a=e?s._week.dow:0,l=[];if(null!=n)return tY(t,(n+a)%7,i,"day");for(r=0;r<7;r++)l[r]=tY(t,(r+a)%7,i,"day");return l}tW.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return E(i)?i.call(t,n):i},tW.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(I).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},tW.invalidDate=function(){return this._invalidDate},tW.ordinal=function(e){return this._ordinal.replace("%d",e)},tW.preparse=tH,tW.postformat=tH,tW.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return E(r)?r(e,t,n,i):r.replace(/%d/i,e)},tW.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)},tW.set=function(e){var t,n;for(n in e)r(e,n)&&(E(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},tW.eras=function(e,n){var i,r,s,a=this._eras||eZ("en")._eras;for(i=0,r=a.length;i<r;++i)switch("string"==typeof a[i].since&&(s=t(a[i].since).startOf("day"),a[i].since=s.valueOf()),typeof a[i].until){case"undefined":a[i].until=Infinity;break;case"string":s=t(a[i].until).startOf("day").valueOf(),a[i].until=s.valueOf()}return a},tW.erasParse=function(e,t,n){var i,r,s,a,o,l=this.eras();for(i=0,e=e.toUpperCase(),r=l.length;i<r;++i)if(s=l[i].name.toUpperCase(),a=l[i].abbr.toUpperCase(),o=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return l[i];break;case"NNNN":if(s===e)return l[i];break;case"NNNNN":if(o===e)return l[i]}else if([s,a,o].indexOf(e)>=0)return l[i]},tW.erasConvertYear=function(e,n){var i=e.since<=e.until?1:-1;return void 0===n?t(e.since).year():t(e.since).year()+(n-e.offset)*i},tW.erasAbbrRegex=function(e){return r(this,"_erasAbbrRegex")||tL.call(this),e?this._erasAbbrRegex:this._erasRegex},tW.erasNameRegex=function(e){return r(this,"_erasNameRegex")||tL.call(this),e?this._erasNameRegex:this._erasRegex},tW.erasNarrowRegex=function(e){return r(this,"_erasNarrowRegex")||tL.call(this),e?this._erasNarrowRegex:this._erasRegex},tW.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||eS).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},tW.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[eS.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},tW.monthsParse=function(e,t,n){var i,r,s;if(this._monthsParseExact)return eC.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++)if(r=h([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e)||n&&"MMM"===t&&this._shortMonthsParse[i].test(e)||!n&&this._monthsParse[i].test(e))return i},tW.monthsRegex=function(e){return this._monthsParseExact?(r(this,"_monthsRegex")||eT.call(this),e)?this._monthsStrictRegex:this._monthsRegex:(r(this,"_monthsRegex")||(this._monthsRegex=ea),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},tW.monthsShortRegex=function(e){return this._monthsParseExact?(r(this,"_monthsRegex")||eT.call(this),e)?this._monthsShortStrictRegex:this._monthsShortRegex:(r(this,"_monthsShortRegex")||(this._monthsShortRegex=ea),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},tW.week=function(e){return eO(e,this._week.dow,this._week.doy).week},tW.firstDayOfYear=function(){return this._week.doy},tW.firstDayOfWeek=function(){return this._week.dow},tW.weekdays=function(e,t){var i=n(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?eR(i,this._week.dow):e?i[e.day()]:i},tW.weekdaysMin=function(e){return!0===e?eR(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},tW.weekdaysShort=function(e){return!0===e?eR(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},tW.weekdaysParse=function(e,t,n){var i,r,s;if(this._weekdaysParseExact)return eV.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=h([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e)||n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},tW.weekdaysRegex=function(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||eF.call(this),e)?this._weekdaysStrictRegex:this._weekdaysRegex:(r(this,"_weekdaysRegex")||(this._weekdaysRegex=ea),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},tW.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||eF.call(this),e)?this._weekdaysShortStrictRegex:this._weekdaysShortRegex:(r(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ea),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},tW.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(r(this,"_weekdaysRegex")||eF.call(this),e)?this._weekdaysMinStrictRegex:this._weekdaysMinRegex:(r(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ea),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},tW.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},tW.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},eX("en",{eras:[{since:"0001-01-01",until:Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===ed(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),t.lang=k("moment.lang is deprecated. Use moment.locale instead.",eX),t.langData=k("moment.langData is deprecated. Use moment.localeData instead.",eZ);var tX=Math.abs;function tQ(e,t,n,i){var r=tx(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function tZ(e){return e<0?Math.floor(e):Math.ceil(e)}function tJ(e){return 4800*e/146097}function t0(e){return 146097*e/4800}function t1(e){return function(){return this.as(e)}}var t2=t1("ms"),t3=t1("s"),t6=t1("m"),t4=t1("h"),t5=t1("d"),t8=t1("w"),t9=t1("M"),t7=t1("Q"),ne=t1("y");function nt(e){return function(){return this.isValid()?this._data[e]:NaN}}var nn=nt("milliseconds"),ni=nt("seconds"),nr=nt("minutes"),ns=nt("hours"),na=nt("days"),no=nt("months"),nl=nt("years"),nu=Math.round,nc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function nh(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}var nd=Math.abs;function np(e){return(e>0)-(e<0)||+e}function nf(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,i,r,s,a,o,l=nd(this._milliseconds)/1e3,u=nd(this._days),c=nd(this._months),h=this.asSeconds();return h?(e=eh(l/60),t=eh(e/60),l%=60,e%=60,n=eh(c/12),c%=12,i=l?l.toFixed(3).replace(/\.?0+$/,""):"",r=h<0?"-":"",s=np(this._months)!==np(h)?"-":"",a=np(this._days)!==np(h)?"-":"",o=np(this._milliseconds)!==np(h)?"-":"",r+"P"+(n?s+n+"Y":"")+(c?s+c+"M":"")+(u?a+u+"D":"")+(t||e||l?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(l?o+i+"S":"")):"P0D"}var nm=tc.prototype;return nm.isValid=function(){return this._isValid},nm.abs=function(){var e=this._data;return this._milliseconds=tX(this._milliseconds),this._days=tX(this._days),this._months=tX(this._months),e.milliseconds=tX(e.milliseconds),e.seconds=tX(e.seconds),e.minutes=tX(e.minutes),e.hours=tX(e.hours),e.months=tX(e.months),e.years=tX(e.years),this},nm.add=function(e,t){return tQ(this,e,t,1)},nm.subtract=function(e,t){return tQ(this,e,t,-1)},nm.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=F(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+tJ(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(t0(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw Error("Unknown unit "+e)}},nm.asMilliseconds=t2,nm.asSeconds=t3,nm.asMinutes=t6,nm.asHours=t4,nm.asDays=t5,nm.asWeeks=t8,nm.asMonths=t9,nm.asQuarters=t7,nm.asYears=ne,nm.valueOf=t2,nm._bubble=function(){var e,t,n,i,r,s=this._milliseconds,a=this._days,o=this._months,l=this._data;return s>=0&&a>=0&&o>=0||s<=0&&a<=0&&o<=0||(s+=864e5*tZ(t0(o)+a),a=0,o=0),l.milliseconds=s%1e3,e=eh(s/1e3),l.seconds=e%60,t=eh(e/60),l.minutes=t%60,n=eh(t/60),l.hours=n%24,a+=eh(n/24),o+=r=eh(tJ(a)),a-=tZ(t0(r)),i=eh(o/12),o%=12,l.days=a,l.months=o,l.years=i,this},nm.clone=function(){return tx(this)},nm.get=function(e){return e=F(e),this.isValid()?this[e+"s"]():NaN},nm.milliseconds=nn,nm.seconds=ni,nm.minutes=nr,nm.hours=ns,nm.days=na,nm.weeks=function(){return eh(this.days()/7)},nm.months=no,nm.years=nl,nm.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,i,r,s,a,o,l,u,c,h,d,p,f,m=!1,g=nc;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(m=e),"object"==typeof t&&(g=Object.assign({},nc,t),null!=t.s&&null==t.ss&&(g.ss=t.s-1)),p=this.localeData(),n=!m,i=g,r=tx(this).abs(),s=nu(r.as("s")),a=nu(r.as("m")),o=nu(r.as("h")),l=nu(r.as("d")),u=nu(r.as("M")),c=nu(r.as("w")),h=nu(r.as("y")),d=s<=i.ss&&["s",s]||s<i.s&&["ss",s]||a<=1&&["m"]||a<i.m&&["mm",a]||o<=1&&["h"]||o<i.h&&["hh",o]||l<=1&&["d"]||l<i.d&&["dd",l],null!=i.w&&(d=d||c<=1&&["w"]||c<i.w&&["ww",c]),(d=d||u<=1&&["M"]||u<i.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=n,d[3]=+this>0,d[4]=p,f=nh.apply(null,d),m&&(f=p.pastFuture(+this,f)),p.postformat(f)},nm.toISOString=nf,nm.toString=nf,nm.toJSON=nf,nm.locale=tI,nm.localeData=tA,nm.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nf),nm.lang=tM,D("X",0,0,"unix"),D("x",0,0,"valueOf"),eu("x",ei),eu("X",/[+-]?\d+(\.\d{1,3})?/),ef("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ef("x",function(e,t,n){n._d=new Date(ed(e))}),t.version="2.30.1",$=ts,t.fn=tq,t.min=function(){var e=[].slice.call(arguments,0);return tl("isBefore",e)},t.max=function(){var e=[].slice.call(arguments,0);return tl("isAfter",e)},t.now=function(){return Date.now?Date.now():+new Date},t.utc=h,t.unix=function(e){return ts(1e3*e)},t.months=function(e,t){return tG(e,t,"months")},t.isDate=l,t.locale=eX,t.invalid=f,t.duration=tx,t.isMoment=x,t.weekdays=function(e,t,n){return tK(e,t,n,"weekdays")},t.parseZone=function(){return ts.apply(null,arguments).parseZone()},t.localeData=eZ,t.isDuration=th,t.monthsShort=function(e,t){return tG(e,t,"monthsShort")},t.weekdaysMin=function(e,t,n){return tK(e,t,n,"weekdaysMin")},t.defineLocale=eQ,t.updateLocale=function(e,t){if(null!=t){var n,i,r=eH;null!=eW[e]&&null!=eW[e].parentLocale?eW[e].set(P(eW[e]._config,t)):(null!=(i=eK(e))&&(r=i._config),t=P(r,t),null==i&&(t.abbr=e),(n=new T(t)).parentLocale=eW[e],eW[e]=n),eX(e)}else null!=eW[e]&&(null!=eW[e].parentLocale?(eW[e]=eW[e].parentLocale,e===eX()&&eX(e)):null!=eW[e]&&delete eW[e]);return eW[e]},t.locales=function(){return j(eW)},t.weekdaysShort=function(e,t,n){return tK(e,t,n,"weekdaysShort")},t.normalizeUnits=F,t.relativeTimeRounding=function(e){return void 0===e?nu:"function"==typeof e&&(nu=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==nc[e]&&(void 0===t?nc[e]:(nc[e]=t,"s"===e&&(nc.ss=t-1),!0))},t.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=tq,t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},t},e.exports=i()},20932:function(e,t,n){"use strict";let i,r;n.d(t,{ZP:function(){return s8}});var s="undefined"!=typeof window?window:void 0,a="undefined"!=typeof globalThis?globalThis:s,o=Array.prototype,l=o.forEach,u=o.indexOf,c=null==a?void 0:a.navigator,h=null==a?void 0:a.document,d=null==a?void 0:a.location,p=null==a?void 0:a.fetch,f=null!=a&&a.XMLHttpRequest&&"withCredentials"in new a.XMLHttpRequest?a.XMLHttpRequest:void 0,m=null==a?void 0:a.AbortController,g=null==c?void 0:c.userAgent,v=null!=s?s:{},y={DEBUG:!1,LIB_VERSION:"1.261.0"};function _(){return(_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}function b(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}var x=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];function w(e,t){return -1!==e.indexOf(t)}var k=function(e){return e.trim()},S=function(e){return e.replace(/^\$/,"")},C=Array.isArray,E=Object.prototype,P=E.hasOwnProperty,T=E.toString,N=C||function(e){return"[object Array]"===T.call(e)},I=e=>"function"==typeof e,M=e=>e===Object(e)&&!N(e),A=e=>{if(M(e)){for(var t in e)if(P.call(e,t))return!1;return!0}return!1},O=e=>void 0===e,D=e=>"[object String]"==T.call(e),R=e=>D(e)&&0===e.trim().length,L=e=>null===e,V=e=>O(e)||L(e),F=e=>"[object Number]"==T.call(e),B=e=>"[object Boolean]"===T.call(e),$=e=>e instanceof FormData,z=e=>w(x,e),j=[!0,"true",1,"1","yes"],U=e=>w(j,e),q=[!1,"false",0,"0","no"];function H(e,t,n,i,r){return t>n&&(i.warn("min cannot be greater than max."),t=n),F(e)?e>n?(i.warn(" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(i.warn(" cannot be less than min: "+t+". Using min value instead."),t):e:(i.warn(" must be a number. using max or fallback. max: "+n+", fallback: "+r),H(r||n,t,n,i))}class W{stop(){this.t&&(clearInterval(this.t),this.t=void 0)}constructor(e){this.i=e,this.o={},this.h=()=>{Object.keys(this.o).forEach(e=>{var t=this.m(e)+this.S;t>=this.$?delete this.o[e]:this.k(e,t)})},this.m=e=>this.o[String(e)],this.k=(e,t)=>{this.o[String(e)]=t},this.consumeRateLimit=e=>{var t,n=null!=(t=this.m(e))?t:this.$;if(0===(n=Math.max(n-1,0)))return!0;this.k(e,n);var i,r=0===n;return r&&(null==(i=this.I)||i.call(this,e)),r},this.I=this.i.I,this.$=H(this.i.bucketSize,0,100,this.i.P),this.S=H(this.i.refillRate,0,this.$,this.i.P),this.R=H(this.i.refillInterval,0,864e5,this.i.P),this.t=setInterval(()=>{this.h()},this.R)}}var Y=e=>{var t={T:function(t){if(s&&(y.DEBUG||v.POSTHOG_DEBUG)&&!O(s.console)&&s.console){for(var n=("__rrweb_original__"in s.console[t])?s.console[t].__rrweb_original__:s.console[t],i=arguments.length,r=Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];n(e,...r)}},info:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];t.T("log",...n)},warn:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];t.T("warn",...n)},error:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];t.T("error",...n)},critical:function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];console.error(e,...n)},uninitializedWarning:e=>{t.error("You must initialize PostHog before calling "+e)},createLogger:t=>Y(e+" "+t)};return t},G=Y("[PostHog.js]"),K=G.createLogger,X=K("[ExternalScriptsLoader]"),Q=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return X.warn(t+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var i=null==h?void 0:h.querySelectorAll("script");if(i){for(var r=0;r<i.length;r++)if(i[r].src===t)return n()}var s=()=>{if(!h)return n("document not found");var i=h.createElement("script");if(i.type="text/javascript",i.crossOrigin="anonymous",i.src=t,i.onload=e=>n(void 0,e),i.onerror=e=>n(e),e.config.prepare_external_dependency_script&&(i=e.config.prepare_external_dependency_script(i)),!i)return n("prepare_external_dependency_script returned null");var r,s=h.querySelectorAll("body > script");s.length>0?null==(r=s[0].parentNode)||r.insertBefore(i,s[0]):h.body.appendChild(i)};null!=h&&h.body?s():null==h||h.addEventListener("DOMContentLoaded",s)};v.__PosthogExtensions__=v.__PosthogExtensions__||{},v.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var i="/static/"+t+".js?v="+e.version;"remote-config"===t&&(i="/array/"+e.config.token+"/config.js"),"toolbar"===t&&(i=i+"&t="+3e5*Math.floor(Date.now()/3e5));var r=e.requestRouter.endpointFor("assets",i);Q(e,r,n)},v.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var i=e.requestRouter.endpointFor("api",t);Q(e,i,n)};var Z={};function J(e,t,n){if(N(e)){if(l&&e.forEach===l)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var i=0,r=e.length;i<r;i++)if(i in e&&t.call(n,e[i],i)===Z)return}}}function ee(e,t,n){if(!V(e)){if(N(e))return J(e,t,n);if($(e)){for(var i of e.entries())if(t.call(n,i[1],i[0])===Z)return}else for(var r in e)if(P.call(e,r)&&t.call(n,e[r],r)===Z)return}}var et=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return J(n,function(t){for(var n in t)void 0!==t[n]&&(e[n]=t[n])}),e},en=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return J(n,function(t){J(t,function(t){e.push(t)})}),e};function ei(e){for(var t=Object.keys(e),n=t.length,i=Array(n);n--;)i[n]=[t[n],e[t[n]]];return i}var er=function(e){try{return e()}catch(e){return}},es=function(e){return function(){try{for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(this,n)}catch(e){G.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),G.critical(e)}}},ea=function(e){var t={};return ee(e,function(e,n){(D(e)&&e.length>0||F(e))&&(t[n]=e)}),t},eo=["herokuapp.com","vercel.app","netlify.app"];function el(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function eu(e,t,n,i){var{capture:r=!1,passive:s=!0}=null!=i?i:{};null==e||e.addEventListener(t,n,{capture:r,passive:s})}var ec="$people_distinct_id",eh="__alias",ed="__timers",ep="$autocapture_disabled_server_side",ef="$heatmaps_enabled_server_side",em="$exception_capture_enabled_server_side",eg="$error_tracking_suppression_rules",ev="$error_tracking_capture_extension_exceptions",ey="$web_vitals_enabled_server_side",e_="$dead_clicks_enabled_server_side",eb="$web_vitals_allowed_metrics",ex="$session_recording_enabled_server_side",ew="$console_log_recording_enabled_server_side",ek="$session_recording_network_payload_capture",eS="$session_recording_masking",eC="$session_recording_canvas_recording",eE="$replay_sample_rate",eP="$replay_minimum_duration",eT="$replay_script_config",eN="$sesid",eI="$session_is_sampled",eM="$session_recording_url_trigger_activated_session",eA="$session_recording_event_trigger_activated_session",eO="$enabled_feature_flags",eD="$early_access_features",eR="$feature_flag_details",eL="$stored_person_properties",eV="$stored_group_properties",eF="$surveys",eB="$surveys_activated",e$="$flag_call_reported",ez="$user_state",ej="$client_session_props",eU="$capture_rate_limit",eq="$initial_campaign_params",eH="$initial_referrer_info",eW="$initial_person_info",eY="$epp",eG="__POSTHOG_TOOLBAR__",eK="$posthog_cookieless",eX=[ec,eh,"__cmpns",ed,ex,ef,eN,eO,eg,ez,eD,eR,eV,eL,eF,e$,ej,eU,eq,eH,eY,eW];function eQ(e){return e instanceof Element&&(e.id===eG||!(null==e.closest||!e.closest(".toolbar-global-fade-container")))}function eZ(e){return!!e&&1===e.nodeType}function eJ(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function e0(e){return!!e&&3===e.nodeType}function e1(e){return!!e&&11===e.nodeType}function e2(e){return e?k(e).split(/\s+/):[]}function e3(e){var t=null==s?void 0:s.location.href;return!!(t&&e&&e.some(e=>t.match(e)))}function e6(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return e2(t)}function e4(e){return V(e)?null:k(e).split(/(\s+)/).filter(e=>tl(e)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function e5(e){var t="";return te(e)&&!tt(e)&&e.childNodes&&e.childNodes.length&&ee(e.childNodes,function(e){var n;e0(e)&&e.textContent&&(t+=null!==(n=e4(e.textContent))&&void 0!==n?n:"")}),k(t)}function e8(e){var t;return O(e.target)?e.srcElement||null:null!=(t=e.target)&&t.shadowRoot?e.composedPath()[0]||null:e.target||null}var e9=["a","button","form","input","select","textarea","label"];function e7(e){var t=e.parentNode;return!(!t||!eZ(t))&&t}function te(e){for(var t=e;t.parentNode&&!eJ(t,"body");t=t.parentNode){var n=e6(t);if(w(n,"ph-sensitive")||w(n,"ph-no-capture"))return!1}if(w(e6(e),"ph-include"))return!0;var i=e.type||"";if(D(i))switch(i.toLowerCase()){case"hidden":case"password":return!1}var r=e.name||e.id||"";return!(D(r)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g,"")))}function tt(e){return!!(eJ(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||eJ(e,"select")||eJ(e,"textarea")||"true"===e.getAttribute("contenteditable"))}var tn="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",ti=RegExp("^(?:"+tn+")$"),tr=new RegExp(tn),ts="\\d{3}-?\\d{2}-?\\d{4}",ta=RegExp("^("+ts+")$"),to=RegExp("("+ts+")");function tl(e,t){return void 0===t&&(t=!0),!(V(e)||D(e)&&(e=k(e),(t?ti:tr).test((e||"").replace(/[- ]/g,""))||(t?ta:to).test(e)))}function tu(e){var t=e5(e);return tl(t=(t+" "+function e(t){var n="";return t&&t.childNodes&&t.childNodes.length&&ee(t.childNodes,function(t){var i;if(t&&"span"===(null==(i=t.tagName)?void 0:i.toLowerCase()))try{var r=e5(t);n=(n+" "+r).trim(),t.childNodes&&t.childNodes.length&&(n=(n+" "+e(t)).trim())}catch(e){G.error("[AutoCapture]",e)}}),n}(e)).trim())?t:""}function tc(e){return e.replace(/"|\\"/g,'\\"')}class th{constructor(){this.clicks=[]}isRageClick(e,t,n){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(e-i.x)+Math.abs(t-i.y)<30&&n-i.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:n}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:n}];return!1}}var td="$copy_autocapture",tp=((tP={}).GZipJS="gzip-js",tP.Base64="base64",tP),tf=["fatal","error","warning","log","info","debug"],tm=["localhost","127.0.0.1"],tg=e=>{var t=null==h?void 0:h.createElement("a");return O(t)?null:(t.href=e,t)},tv=function(e,t){void 0===t&&(t="&");var n,i,r=[];return ee(e,function(e,t){O(e)||O(t)||"undefined"===t||(n=encodeURIComponent(e instanceof File?e.name:e.toString()),i=encodeURIComponent(t),r[r.length]=i+"="+n)}),r.join(t)},ty=function(e,t){for(var n,i=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),r=0;r<i.length;r++){var s=i[r].split("=");if(s[0]===t){n=s;break}}if(!N(n)||n.length<2)return"";var a=n[1];try{a=decodeURIComponent(a)}catch(e){G.error("Skipping decoding for malformed query param: "+a)}return a.replace(/\+/g," ")},t_=function(e,t,n){if(!e||!t||!t.length)return e;for(var i=e.split("#"),r=i[0]||"",s=i[1],a=r.split("?"),o=a[1],l=a[0],u=(o||"").split("&"),c=[],h=0;h<u.length;h++){var d=u[h].split("=");N(d)&&(t.includes(d[0])?c.push(d[0]+"="+n):c.push(u[h]))}var p=l;return null!=o&&(p+="?"+c.join("&")),null!=s&&(p+="#"+s),p},tb=function(e,t){var n=e.match(RegExp(t+"=([^&]*)"));return n?n[1]:null},tx=K("[AutoCapture]");function tw(e,t){return t.length>e?t.slice(0,e)+"...":t}class tk{constructor(e){this.C=!1,this.M=null,this.rageclicks=new th,this.F=!1,this.instance=e,this.O=null}get A(){var e,t,n=M(this.instance.config.autocapture)?this.instance.config.autocapture:{};return n.url_allowlist=null==(e=n.url_allowlist)?void 0:e.map(e=>new RegExp(e)),n.url_ignorelist=null==(t=n.url_ignorelist)?void 0:t.map(e=>new RegExp(e)),n}D(){if(this.isBrowserSupported()){if(s&&h){var e=e=>{e=e||(null==s?void 0:s.event);try{this.j(e)}catch(e){tx.error("Failed to capture event",e)}};if(eu(h,"submit",e,{capture:!0}),eu(h,"change",e,{capture:!0}),eu(h,"click",e,{capture:!0}),this.A.capture_copied_text){var t=e=>{e=e||(null==s?void 0:s.event),this.j(e,td)};eu(h,"copy",t,{capture:!0}),eu(h,"cut",t,{capture:!0})}}}else tx.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.C&&(this.D(),this.C=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this.F=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[ep]:!!e.autocapture_opt_out}),this.M=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this.O=e}getElementSelectors(e){var t,n=[];return null==(t=this.O)||t.forEach(t=>{var i=null==h?void 0:h.querySelectorAll(t);null==i||i.forEach(i=>{e===i&&n.push(t)})}),n}get isEnabled(){var e,t,n=null==(e=this.instance.persistence)?void 0:e.props[ep];if(L(this.M)&&!B(n)&&!this.instance.L())return!1;var i=null!==(t=this.M)&&void 0!==t?t:!!n;return!!this.instance.config.autocapture&&!i}j(e,t){if(void 0===t&&(t="$autocapture"),this.isEnabled){var n,i=e8(e);e0(i)&&(i=i.parentNode||null),"$autocapture"===t&&"click"===e.type&&e instanceof MouseEvent&&this.instance.config.rageclick&&null!=(n=this.rageclicks)&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.j(e,"$rageclick");var r=t===td;if(i&&function(e,t,n,i,r){if(void 0===n&&(n=void 0),!s||!e||eJ(e,"html")||!eZ(e)||null!=(a=n)&&a.url_allowlist&&!e3(n.url_allowlist)||null!=(o=n)&&o.url_ignorelist&&e3(n.url_ignorelist))return!1;if(null!=(l=n)&&l.dom_event_allowlist){var a,o,l,u=n.dom_event_allowlist;if(u&&!u.some(e=>t.type===e))return!1}for(var c=!1,h=[e],d=!0,p=e;p.parentNode&&!eJ(p,"body");)if(e1(p.parentNode))h.push(p.parentNode.host),p=p.parentNode.host;else{if(!(d=e7(p)))break;if(i||e9.indexOf(d.tagName.toLowerCase())>-1)c=!0;else{var f=s.getComputedStyle(d);f&&"pointer"===f.getPropertyValue("cursor")&&(c=!0)}h.push(d),p=d}if(!function(e,t){var n=null==t?void 0:t.element_allowlist;if(O(n))return!0;var i,r=function(e){if(n.some(t=>e.tagName.toLowerCase()===t))return{v:!0}};for(var s of e)if(i=r(s))return i.v;return!1}(h,n)||!function(e,t){var n=null==t?void 0:t.css_selector_allowlist;if(O(n))return!0;var i,r=function(e){if(n.some(t=>e.matches(t)))return{v:!0}};for(var s of e)if(i=r(s))return i.v;return!1}(h,n))return!1;var m=s.getComputedStyle(e);if(m&&"pointer"===m.getPropertyValue("cursor")&&"click"===t.type)return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(r||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(r||["change","click"]).indexOf(t.type)>=0;default:return c?(r||["click"]).indexOf(t.type)>=0:(r||["click"]).indexOf(t.type)>=0&&(e9.indexOf(g)>-1||"true"===e.getAttribute("contenteditable"))}}(i,e,this.A,r,r?["copy","cut"]:void 0)){var{props:a,explicitNoCapture:o}=function(e,t){for(var n,i,{e:r,maskAllElementAttributes:a,maskAllText:o,elementAttributeIgnoreList:l,elementsChainAsString:u}=t,c=[e],h=e;h.parentNode&&!eJ(h,"body");)e1(h.parentNode)?(c.push(h.parentNode.host),h=h.parentNode.host):(c.push(h.parentNode),h=h.parentNode);var d,p=[],f={},m=!1,g=!1;if(ee(c,e=>{var t=te(e);"a"===e.tagName.toLowerCase()&&(m=e.getAttribute("href"),m=t&&m&&tl(m)&&m),w(e6(e),"ph-no-capture")&&(g=!0),p.push(function(e,t,n,i){var r=e.tagName.toLowerCase(),s={tag_name:r};e9.indexOf(r)>-1&&!n&&("a"===r.toLowerCase()||"button"===r.toLowerCase()?s.$el_text=tw(1024,tu(e)):s.$el_text=tw(1024,e5(e)));var a=e6(e);a.length>0&&(s.classes=a.filter(function(e){return""!==e})),ee(e.attributes,function(n){var r;if((!tt(e)||-1!==["name","id","class","aria-label"].indexOf(n.name))&&(null==i||!i.includes(n.name))&&!t&&tl(n.value)&&(!D(r=n.name)||"_ngcontent"!==r.substring(0,10)&&"_nghost"!==r.substring(0,7))){var a=n.value;"class"===n.name&&(a=e2(a).join(" ")),s["attr__"+n.name]=tw(1024,a)}});for(var o=1,l=1,u=e;u=function(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!eZ(t));return t}(u);)o++,u.tagName===e.tagName&&l++;return s.nth_child=o,s.nth_of_type=l,s}(e,a,o,l)),et(f,function(e){if(!te(e))return{};var t={};return ee(e.attributes,function(e){if(e.name&&0===e.name.indexOf("data-ph-capture-attribute")){var n=e.name.replace("data-ph-capture-attribute-",""),i=e.value;n&&i&&tl(i)&&(t[n]=i)}}),t}(e))}),g)return{props:{},explicitNoCapture:g};if(o||("a"===e.tagName.toLowerCase()||"button"===e.tagName.toLowerCase()?p[0].$el_text=tu(e):p[0].$el_text=e5(e)),m){p[0].attr__href=m;var v,y,b=null==(v=tg(m))?void 0:v.host,x=null==s||null==(y=s.location)?void 0:y.host;b&&x&&b!==x&&(d=m)}return{props:et({$event_type:r.type,$ce_version:1},u?{}:{$elements:p},{$elements_chain:p.map(e=>{var t,n,i,r={text:null==(n=e.$el_text)?void 0:n.slice(0,400),tag_name:e.tag_name,href:null==(i=e.attr__href)?void 0:i.slice(0,2048),attr_class:(t=e.attr__class)?N(t)?t:e2(t):void 0,attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return ei(e).filter(e=>{var[t]=e;return 0===t.indexOf("attr__")}).forEach(e=>{var[t,n]=e;return r.attributes[t]=n}),r}).map(e=>{var t,n,i="";if(e.tag_name&&(i+=e.tag_name),e.attr_class)for(var r of(e.attr_class.sort(),e.attr_class))i+="."+r.replace(/"/g,"");var s=_({},e.text?{text:e.text}:{},{"nth-child":null!==(t=e.nth_child)&&void 0!==t?t:0,"nth-of-type":null!==(n=e.nth_of_type)&&void 0!==n?n:0},e.href?{href:e.href}:{},e.attr_id?{attr_id:e.attr_id}:{},e.attributes),a={};return ei(s).sort((e,t)=>{var[n]=e,[i]=t;return n.localeCompare(i)}).forEach(e=>{var[t,n]=e;return a[tc(t.toString())]=tc(n.toString())}),i+=":"+ei(a).map(e=>{var[t,n]=e;return t+'="'+n+'"'}).join("")}).join(";")},null!=(n=p[0])&&n.$el_text?{$el_text:null==(i=p[0])?void 0:i.$el_text}:{},d&&"click"===r.type?{$external_click_url:d}:{},f)}}(i,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.A.element_attribute_ignorelist,elementsChainAsString:this.F});if(o)return!1;var l=this.getElementSelectors(i);if(l&&l.length>0&&(a.$element_selectors=l),t===td){var u,c=e4(null==s||null==(u=s.getSelection())?void 0:u.toString()),h=e.type||"clipboard";if(!c)return!1;a.$selected_content=c,a.$copy_type=h}return this.instance.capture(t,a),!0}}}isBrowserSupported(){return I(null==h?void 0:h.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return F(e)&&isFinite(e)&&Math.floor(e)===e});var tS="0123456789abcdef";class tC{constructor(e){if(this.bytes=e,16!==e.length)throw TypeError("not 128-bit length")}static fromFieldsV7(e,t,n,i){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(i)||e<0||t<0||n<0||i<0||e>0xffffffffffff||t>4095||n>1073741823||i>4294967295)throw RangeError("invalid field value");var r=new Uint8Array(16);return r[0]=e/1099511627776,r[1]=e/4294967296,r[2]=e/16777216,r[3]=e/65536,r[4]=e/256,r[5]=e,r[6]=112|t>>>8,r[7]=t,r[8]=128|n>>>24,r[9]=n>>>16,r[10]=n>>>8,r[11]=n,r[12]=i>>>24,r[13]=i>>>16,r[14]=i>>>8,r[15]=i,new tC(r)}toString(){for(var e="",t=0;t<this.bytes.length;t++)e=e+tS.charAt(this.bytes[t]>>>4)+tS.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+="-");if(36!==e.length)throw Error("Invalid UUIDv7 was generated");return e}clone(){return new tC(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var n=this.bytes[t]-e.bytes[t];if(0!==n)return Math.sign(n)}return 0}}class tE{constructor(){this.N=0,this.U=0,this.q=new tI}generate(){var e=this.generateOrAbort();if(O(e)){this.N=0;var t=this.generateOrAbort();if(O(t))throw Error("Could not generate UUID after timestamp reset");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.N)this.N=e,this.B();else{if(!(e+1e4>this.N))return;this.U++,this.U>4398046511103&&(this.N++,this.B())}return tC.fromFieldsV7(this.N,Math.trunc(this.U/1073741824),1073741823&this.U,this.q.nextUint32())}B(){this.U=1024*this.q.nextUint32()+(1023&this.q.nextUint32())}}var tP,tT,tN=e=>{if("undefined"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};s&&!O(s.crypto)&&crypto.getRandomValues&&(tN=e=>crypto.getRandomValues(e));class tI{constructor(){this.H=new Uint32Array(8),this.W=1/0}nextUint32(){return this.W>=this.H.length&&(tN(this.H),this.W=0),this.H[this.W++]}}var tM=()=>tA().toString(),tA=()=>(tT||(tT=new tE)).generate(),tO="",tD=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,tR={G:()=>!!h,J:function(e){G.error("cookieStore error: "+e)},V:function(e){if(h){try{for(var t=e+"=",n=h.cookie.split(";").filter(e=>e.length),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}}catch(e){}return null}},K:function(e){var t;try{t=JSON.parse(tR.V(e))||{}}catch(e){}return t},Y:function(e,t,n,i,r){if(h)try{var s="",a="",o=function(e,t){if(t){var n=function(e,t){if(void 0===t&&(t=h),tO)return tO;if(!t||["localhost","127.0.0.1"].includes(e))return"";for(var n=e.split("."),i=Math.min(n.length,8),r="dmn_chk_"+tM();!tO&&i--;){var s=n.slice(i).join("."),a=r+"=1;domain=."+s+";path=/";t.cookie=a+";max-age=3",t.cookie.includes(r)&&(t.cookie=a+";max-age=0",tO=s)}return tO}(e);if(!n){var i,r=(i=e.match(tD))?i[0]:"";r!==n&&G.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}(h.location.hostname,i);if(n){var l=new Date;l.setTime(l.getTime()+24*n*36e5),s="; expires="+l.toUTCString()}r&&(a="; secure");var u=e+"="+encodeURIComponent(JSON.stringify(t))+s+"; SameSite=Lax; path=/"+o+a;return u.length>3686.4&&G.warn("cookieStore warning: large cookie, len="+u.length),h.cookie=u,u}catch(e){return}},X:function(e,t){if(null!=h&&h.cookie)try{tR.Y(e,"",-1,t)}catch(e){return}}},tL=null,tV={G:function(){if(!L(tL))return tL;var e=!0;if(O(s))e=!1;else try{var t="__mplssupport__";tV.Y(t,"xyz"),'"xyz"'!==tV.V(t)&&(e=!1),tV.X(t)}catch(t){e=!1}return e||G.error("localStorage unsupported; falling back to cookie store"),tL=e,e},J:function(e){G.error("localStorage error: "+e)},V:function(e){try{return null==s?void 0:s.localStorage.getItem(e)}catch(e){tV.J(e)}return null},K:function(e){try{return JSON.parse(tV.V(e))||{}}catch(e){}return null},Y:function(e,t){try{null==s||s.localStorage.setItem(e,JSON.stringify(t))}catch(e){tV.J(e)}},X:function(e){try{null==s||s.localStorage.removeItem(e)}catch(e){tV.J(e)}}},tF=["distinct_id",eN,eI,eY,eW],tB=_({},tV,{K:function(e){try{var t={};try{t=tR.K(e)||{}}catch(e){}var n=et(t,JSON.parse(tV.V(e)||"{}"));return tV.Y(e,n),n}catch(e){}return null},Y:function(e,t,n,i,r,s){try{tV.Y(e,t,void 0,void 0,s);var a={};tF.forEach(e=>{t[e]&&(a[e]=t[e])}),Object.keys(a).length&&tR.Y(e,a,n,i,r,s)}catch(e){tV.J(e)}},X:function(e,t){try{null==s||s.localStorage.removeItem(e),tR.X(e,t)}catch(e){tV.J(e)}}}),t$={},tz={G:function(){return!0},J:function(e){G.error("memoryStorage error: "+e)},V:function(e){return t$[e]||null},K:function(e){return t$[e]||null},Y:function(e,t){t$[e]=t},X:function(e){delete t$[e]}},tj=null,tU={G:function(){if(!L(tj))return tj;if(tj=!0,O(s))tj=!1;else try{var e="__support__";tU.Y(e,"xyz"),'"xyz"'!==tU.V(e)&&(tj=!1),tU.X(e)}catch(e){tj=!1}return tj},J:function(e){G.error("sessionStorage error: ",e)},V:function(e){try{return null==s?void 0:s.sessionStorage.getItem(e)}catch(e){tU.J(e)}return null},K:function(e){try{return JSON.parse(tU.V(e))||null}catch(e){}return null},Y:function(e,t){try{null==s||s.sessionStorage.setItem(e,JSON.stringify(t))}catch(e){tU.J(e)}},X:function(e){try{null==s||s.sessionStorage.removeItem(e)}catch(e){tU.J(e)}}},tq=((t4={})[t4.PENDING=-1]="PENDING",t4[t4.DENIED=0]="DENIED",t4[t4.GRANTED=1]="GRANTED",t4);class tH{constructor(e){this._instance=e}get A(){return this._instance.config}get consent(){return this.Z()?tq.DENIED:this.tt}isOptedOut(){return"always"===this.A.cookieless_mode||this.consent===tq.DENIED||this.consent===tq.PENDING&&(this.A.opt_out_capturing_by_default||"on_reject"===this.A.cookieless_mode)}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===tq.DENIED}optInOut(e){this.it.Y(this.et,e?1:0,this.A.cookie_expiration,this.A.cross_subdomain_cookie,this.A.secure_cookie)}reset(){this.it.X(this.et,this.A.cross_subdomain_cookie)}get et(){var{token:e,opt_out_capturing_cookie_prefix:t,consent_persistence_name:n}=this._instance.config;return n||(t?t+e:"__ph_opt_in_out_"+e)}get tt(){var e=this.it.V(this.et);return U(e)?tq.GRANTED:w(q,e)?tq.DENIED:tq.PENDING}get it(){if(!this.rt){var e=this.A.opt_out_capturing_persistence_type;this.rt="localStorage"===e?tV:tR;var t="localStorage"===e?tR:tV;t.V(this.et)&&(this.rt.V(this.et)||this.optInOut(U(t.V(this.et))),t.X(this.et,this.A.cross_subdomain_cookie))}return this.rt}Z(){return!!this.A.respect_dnt&&!!el([null==c?void 0:c.doNotTrack,null==c?void 0:c.msDoNotTrack,v.doNotTrack],e=>U(e))}}var tW=K("[Dead Clicks]"),tY=()=>!0,tG=e=>{var t,n=!(null==(t=e.instance.persistence)||!t.get_property(e_)),i=e.instance.config.capture_dead_clicks;return B(i)?i:n};class tK{get lazyLoadedDeadClicksAutocapture(){return this.st}constructor(e,t,n){this.instance=e,this.isEnabled=t,this.onCapture=n,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[e_]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.nt(()=>{this.ot()})}nt(e){var t,n;null!=(t=v.__PosthogExtensions__)&&t.initDeadClicksAutocapture&&e(),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,"dead-clicks-autocapture",t=>{t?tW.error("failed to load script",t):e()})}ot(){var e;if(h){if(!this.st&&null!=(e=v.__PosthogExtensions__)&&e.initDeadClicksAutocapture){var t=M(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this.st=v.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this.st.start(h),tW.info("starting...")}}else tW.error("`document` not found. Cannot start.")}stop(){this.st&&(this.st.stop(),this.st=void 0,tW.info("stopping..."))}}var tX=K("[ExceptionAutocapture]");class tQ{constructor(e){var t,n,i;this.lt=()=>{var e;if(s&&this.isEnabled&&null!=(e=v.__PosthogExtensions__)&&e.errorWrappingFunctions){var t=v.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,n=v.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,i=v.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.ut&&this.A.capture_unhandled_errors&&(this.ut=t(this.captureException.bind(this))),!this.ht&&this.A.capture_unhandled_rejections&&(this.ht=n(this.captureException.bind(this))),!this.dt&&this.A.capture_console_errors&&(this.dt=i(this.captureException.bind(this)))}catch(e){tX.error("failed to start",e),this.vt()}}},this._instance=e,this.ct=!(null==(t=this._instance.persistence)||!t.props[em]),this.A=this.ft(),this.gt=new W({refillRate:null!==(n=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==n?n:1,bucketSize:null!==(i=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==i?i:10,refillInterval:1e4,P:tX}),this.startIfEnabled()}ft(){var e=this._instance.config.capture_exceptions,t={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return M(e)?t=_({},t,e):(O(e)?this.ct:e)&&(t=_({},t,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),t}get isEnabled(){return this.A.capture_console_errors||this.A.capture_unhandled_errors||this.A.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(tX.info("enabled"),this.nt(this.lt))}nt(e){var t,n;null!=(t=v.__PosthogExtensions__)&&t.errorWrappingFunctions&&e(),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"exception-autocapture",t=>{if(t)return tX.error("failed to load script",t);e()})}vt(){var e,t,n;null==(e=this.ut)||e.call(this),this.ut=void 0,null==(t=this.ht)||t.call(this),this.ht=void 0,null==(n=this.dt)||n.call(this),this.dt=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.ct=!!t,this.A=this.ft(),this._instance.persistence&&this._instance.persistence.register({[em]:this.ct}),this.startIfEnabled()}captureException(e){var t,n=this._instance.requestRouter.endpointFor("ui");e.$exception_personURL=n+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id();var i=null!==(t=e.$exception_list[0].type)&&void 0!==t?t:"Exception";this.gt.consumeRateLimit(i)?tX.info("Skipping exception capture because of client rate limiting.",{exception:e.$exception_list[0].type}):this._instance.exceptions.sendExceptionEvent(e)}}function tZ(e){return!O(Event)&&tJ(e,Event)}function tJ(e,t){try{return e instanceof t}catch(e){return!1}}function t0(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return tJ(e,Error)}}function t1(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function t2(e){return t1(e,"DOMError")}var t3=/\(error: (.*)\)/;function t6(e,t,n,i){var r={platform:"web:javascript",filename:e,function:"<anonymous>"===t?"?":t,in_app:!0};return O(n)||(r.lineno=n),O(i)||(r.colno=i),r}var t4,t5,t8,t9,t7=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,ne=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,nt=/\((\S*)(?::(\d+))(?::(\d+))\)/,nn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ni=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,nr=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return function(e,t){void 0===t&&(t=0);for(var n=[],r=e.split("\n"),s=t;s<r.length;s++){var a=r[s];if(!(a.length>1024)){var o=t3.test(a)?a.replace(t3,"$1"):a;if(!o.match(/\S*Error: /)){for(var l of i){var u=l(o);if(u){n.push(u);break}}if(n.length>=50)break}}}return function(e){if(!e.length)return[];var t=Array.from(e);return t.reverse(),t.slice(0,50).map(e=>_({},e,{filename:e.filename||(t[t.length-1]||{}).filename,function:e.function||"?"}))}(n)}}([30,e=>{var t=t7.exec(e);if(t){var[,n,i,r]=t;return t6(n,"?",+i,+r)}var s=ne.exec(e);if(s){if(s[2]&&0===s[2].indexOf("eval")){var a=nt.exec(s[2]);a&&(s[2]=a[1],s[3]=a[2],s[4]=a[3])}var[o,l]=ns(s[1]||"?",s[2]);return t6(l,o,s[3]?+s[3]:void 0,s[4]?+s[4]:void 0)}}],[50,e=>{var t=nn.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=ni.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var i=t[3],r=t[1]||"?";return[r,i]=ns(r,i),t6(i,r,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]),ns=(e,t)=>{var n=-1!==e.indexOf("safari-extension"),i=-1!==e.indexOf("safari-web-extension");return n||i?[-1!==e.indexOf("@")?e.split("@")[0]:"?",n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},na=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function no(e,t){void 0===t&&(t=0);var n=e.stacktrace||e.stack||"",i=e&&nl.test(e.message)?1:0;try{var r,s,a=(r=nr(n,i),s=function(e){var t=globalThis._posthogChunkIds;if(!t)return{};var n=Object.keys(t);return t9&&n.length===t8||(t8=n.length,t9=n.reduce((n,i)=>{t5||(t5={});var r=t5[i];if(r)n[r[0]]=r[1];else for(var s=e(i),a=s.length-1;a>=0;a--){var o=s[a],l=null==o?void 0:o.filename,u=t[i];if(l&&u){n[l]=u,t5[i]=[l,u];break}}return n},{})),t9}(nr),r.forEach(e=>{e.filename&&(e.chunk_id=s[e.filename])}),r);return a.slice(0,a.length-t)}catch(e){}return[]}var nl=/Minified React error #\d+;/i;function nu(e,t){return{$exception_list:function e(t,n){var i,r,s,a,o,l,u=(a=no(t),o=null===(r=null==n?void 0:n.handled)||void 0===r||r,l=null!==(s=null==n?void 0:n.synthetic)&&void 0!==s&&s,{type:null!=n&&n.overrideExceptionType?n.overrideExceptionType:t.name,value:(i=t.message).error&&"string"==typeof i.error.message?String(i.error.message):String(i),stacktrace:{frames:a,type:"raw"},mechanism:{handled:o,synthetic:l}});return t.cause&&t0(t.cause)&&t.cause!==t?[u,...e(t.cause,{handled:null==n?void 0:n.handled,synthetic:null==n?void 0:n.synthetic})]:[u]}(e,t),$exception_level:"error"}}function nc(e,t){var n,i,r,s=null===(n=null==t?void 0:t.handled)||void 0===n||n,a=null===(i=null==t?void 0:t.synthetic)||void 0===i||i,o={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:null!==(r=null==t?void 0:t.defaultExceptionType)&&void 0!==r?r:"Error",value:e||(null==t?void 0:t.defaultExceptionMessage),mechanism:{handled:s,synthetic:a}};if(null!=t&&t.syntheticException){var l=no(t.syntheticException,1);l.length&&(o.stacktrace={frames:l,type:"raw"})}return{$exception_list:[o],$exception_level:"error"}}function nh(e,t,n){try{if(!(t in e))return()=>{};var i=e[t],r=n(i);return I(r)&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=r,()=>{e[t]=i}}catch(e){return()=>{}}}class nd{constructor(e){var t;this._instance=e,this._t=(null==s||null==(t=s.location)?void 0:t.pathname)||""}get isEnabled(){return"history_change"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(G.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.bt&&this.bt(),this.bt=void 0,G.info("History API monitoring stopped")}monitorHistoryChanges(){var e,t;if(s&&s.history){var n=this;null!=(e=s.history.pushState)&&e.__posthog_wrapped__||nh(s.history,"pushState",e=>function(t,i,r){e.call(this,t,i,r),n.yt("pushState")}),null!=(t=s.history.replaceState)&&t.__posthog_wrapped__||nh(s.history,"replaceState",e=>function(t,i,r){e.call(this,t,i,r),n.yt("replaceState")}),this.wt()}}yt(e){try{var t,n=null==s||null==(t=s.location)?void 0:t.pathname;if(!n)return;n!==this._t&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:e}),this._t=n}catch(t){G.error("Error capturing "+e+" pageview",t)}}wt(){if(!this.bt){var e=()=>{this.yt("popstate")};eu(s,"popstate",e),this.bt=()=>{s&&s.removeEventListener("popstate",e)}}}}function np(e){var t,n;return(null==(t=JSON.stringify(e,(n=[],function(e,t){if(M(t)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(t)?"[Circular]":(n.push(t),t)}return t})))?void 0:t.length)||0}var nf=((i=nf||{})[i.DomContentLoaded=0]="DomContentLoaded",i[i.Load=1]="Load",i[i.FullSnapshot=2]="FullSnapshot",i[i.IncrementalSnapshot=3]="IncrementalSnapshot",i[i.Meta=4]="Meta",i[i.Custom=5]="Custom",i[i.Plugin=6]="Plugin",i),nm=((r=nm||{})[r.Mutation=0]="Mutation",r[r.MouseMove=1]="MouseMove",r[r.MouseInteraction=2]="MouseInteraction",r[r.Scroll=3]="Scroll",r[r.ViewportResize=4]="ViewportResize",r[r.Input=5]="Input",r[r.TouchMove=6]="TouchMove",r[r.MediaInteraction=7]="MediaInteraction",r[r.StyleSheetRule=8]="StyleSheetRule",r[r.CanvasMutation=9]="CanvasMutation",r[r.Font=10]="Font",r[r.Log=11]="Log",r[r.Drag=12]="Drag",r[r.StyleDeclaration=13]="StyleDeclaration",r[r.Selection=14]="Selection",r[r.AdoptedStyleSheet=15]="AdoptedStyleSheet",r[r.CustomElement=16]="CustomElement",r),ng="[SessionRecording]",nv="redacted",ny={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com","bam.nr-data.net"]},n_=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],nb=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],nx=["/s/","/e/","/i/"];function nw(e,t,n,i){if(V(e))return e;var r=(null==t?void 0:t["content-length"])||new Blob([e]).size;return D(r)&&(r=parseInt(r)),r>n?ng+" "+i+" body too large to record ("+r+" bytes)":e}function nk(e,t){if(V(e))return e;var n=e;return tl(n,!1)||(n=ng+" "+t+" body "+nv),ee(nb,e=>{var i,r;null!=(i=n)&&i.length&&-1!==(null==(r=n)?void 0:r.indexOf(e))&&(n=ng+" "+t+" body "+nv+" as might contain: "+e)}),n}var nS=(e,t)=>{var n,i,r={payloadSizeLimitBytes:ny.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...ny.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...ny.payloadHostDenyList]},s=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,o=!1!==e.capture_performance&&t.recordPerformance,l=(i=Math.min(1e6,null!==(n=r.payloadSizeLimitBytes)&&void 0!==n?n:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=nw(e.requestBody,e.requestHeaders,i,"Request")),null!=e&&e.responseBody&&(e.responseBody=nw(e.responseBody,e.responseHeaders,i,"Response")),e)),u=t=>{var n;return l(((e,t)=>{var n,i=tg(e.name),r=0===t.indexOf("http")?null==(n=tg(t))?void 0:n.pathname:t;"/"===r&&(r="");var s=null==i?void 0:i.pathname.replace(r||"","");if(!(i&&s&&nx.some(e=>0===s.indexOf(e))))return e})((V(n=t.requestHeaders)||ee(Object.keys(null!=n?n:{}),e=>{n_.includes(e.toLowerCase())&&(n[e]=nv)}),t),e.api_host))},c=I(e.session_recording.maskNetworkRequestFn);return c&&I(e.session_recording.maskCapturedNetworkRequestFn)&&G.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),c&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var n=e.session_recording.maskNetworkRequestFn({url:t.name});return _({},t,{name:null==n?void 0:n.url})}),r.maskRequestFn=I(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var n,i=u(t);return i&&null!==(n=null==e.session_recording.maskCapturedNetworkRequestFn?void 0:e.session_recording.maskCapturedNetworkRequestFn(i))&&void 0!==n?n:void 0}:e=>(function(e){if(!O(e))return e.requestBody=nk(e.requestBody,"Request"),e.responseBody=nk(e.responseBody,"Response"),e})(u(e)),_({},ny,r,{recordHeaders:s,recordBody:a,recordPerformance:o,recordInitialRequests:o})};class nC{constructor(e,t){var n,i;void 0===t&&(t={}),this.St={},this.$t=e=>{if(!this.St[e]){this.St[e]=!0;var t,n,i=this.xt(e);null==(t=(n=this.i).onBlockedNode)||t.call(n,e,i)}},this.kt=e=>{var t=this.xt(e);if("svg"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var n=t.closest("svg");if(n)return[this._rrweb.mirror.getId(n),n]}return[e,t]},this.xt=e=>this._rrweb.mirror.getNode(e),this.Et=e=>{var t,n,i,r,s,a,o,l;return(null!==(t=null==(n=e.removes)?void 0:n.length)&&void 0!==t?t:0)+(null!==(i=null==(r=e.attributes)?void 0:r.length)&&void 0!==i?i:0)+(null!==(s=null==(a=e.texts)?void 0:a.length)&&void 0!==s?s:0)+(null!==(o=null==(l=e.adds)?void 0:l.length)&&void 0!==o?o:0)},this.throttleMutations=e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,n=this.Et(t);t.attributes&&(t.attributes=t.attributes.filter(e=>{var[t]=this.kt(e.id);return!this.gt.consumeRateLimit(t)&&e}));var i=this.Et(t);return 0!==i||n===i?e:void 0},this._rrweb=e,this.i=t,this.gt=new W({bucketSize:null!==(n=this.i.bucketSize)&&void 0!==n?n:100,refillRate:null!==(i=this.i.refillRate)&&void 0!==i?i:10,refillInterval:1e3,I:this.$t,P:G})}}var nE=Uint8Array,nP=Uint16Array,nT=Uint32Array,nN=new nE([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),nI=new nE([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),nM=new nE([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),nA=function(e,t){for(var n=new nP(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var r=new nT(n[30]);for(i=1;i<30;++i)for(var s=n[i];s<n[i+1];++s)r[s]=s-n[i]<<5|i;return[n,r]},nO=nA(nN,2),nD=nO[0],nR=nO[1];nD[28]=258,nR[258]=28;for(var nL=nA(nI,0)[1],nV=new nP(32768),nF=0;nF<32768;++nF){var nB=(43690&nF)>>>1|(21845&nF)<<1;nB=(61680&(nB=(52428&nB)>>>2|(13107&nB)<<2))>>>4|(3855&nB)<<4,nV[nF]=((65280&nB)>>>8|(255&nB)<<8)>>>1}var n$=function(e,t,n){for(var i=e.length,r=0,s=new nP(t);r<i;++r)++s[e[r]-1];var a,o=new nP(t);for(r=0;r<t;++r)o[r]=o[r-1]+s[r-1]<<1;if(n){a=new nP(1<<t);var l=15-t;for(r=0;r<i;++r)if(e[r])for(var u=r<<4|e[r],c=t-e[r],h=o[e[r]-1]++<<c,d=h|(1<<c)-1;h<=d;++h)a[nV[h]>>>l]=u}else for(a=new nP(i),r=0;r<i;++r)a[r]=nV[o[e[r]-1]++]>>>15-e[r];return a},nz=new nE(288);for(nF=0;nF<144;++nF)nz[nF]=8;for(nF=144;nF<256;++nF)nz[nF]=9;for(nF=256;nF<280;++nF)nz[nF]=7;for(nF=280;nF<288;++nF)nz[nF]=8;var nj=new nE(32);for(nF=0;nF<32;++nF)nj[nF]=5;var nU=n$(nz,9,0),nq=n$(nj,5,0),nH=function(e){return(e/8>>0)+(7&e&&1)},nW=function(e,t,n){(null==n||n>e.length)&&(n=e.length);var i=new(e instanceof nP?nP:e instanceof nT?nT:nE)(n-t);return i.set(e.subarray(t,n)),i},nY=function(e,t,n){n<<=7&t;var i=t/8>>0;e[i]|=n,e[i+1]|=n>>>8},nG=function(e,t,n){n<<=7&t;var i=t/8>>0;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},nK=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,s=n.slice();if(!r)return[new nE(0),0];if(1==r){var a=new nE(n[0].s+1);return a[n[0].s]=1,[a,1]}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],u=0,c=1,h=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=r-1;)o=n[n[u].f<n[h].f?u++:h++],l=n[u!=c&&n[u].f<n[h].f?u++:h++],n[c++]={s:-1,f:o.f+l.f,l:o,r:l};var d=s[0].s;for(i=1;i<r;++i)s[i].s>d&&(d=s[i].s);var p=new nP(d+1),f=nX(n[c-1],p,0);if(f>t){i=0;var m=0,g=f-t,v=1<<g;for(s.sort(function(e,t){return p[t.s]-p[e.s]||e.f-t.f});i<r;++i){var y=s[i].s;if(!(p[y]>t))break;m+=v-(1<<f-p[y]),p[y]=t}for(m>>>=g;m>0;){var _=s[i].s;p[_]<t?m-=1<<t-p[_]++-1:++i}for(;i>=0&&m;--i){var b=s[i].s;p[b]==t&&(--p[b],++m)}f=t}return[new nE(p),f]},nX=function(e,t,n){return -1==e.s?Math.max(nX(e.l,t,n+1),nX(e.r,t,n+1)):t[e.s]=n},nQ=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new nP(++t),i=0,r=e[0],s=1,a=function(e){n[i++]=e},o=1;o<=t;++o)if(e[o]==r&&o!=t)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=e[o]}return[n.subarray(0,i),t]},nZ=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},nJ=function(e,t,n){var i=n.length,r=nH(t+2);e[r]=255&i,e[r+1]=i>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var s=0;s<i;++s)e[r+s+4]=n[s];return 8*(r+4+i)},n0=function(e,t,n,i,r,s,a,o,l,u,c){nY(t,c++,n),++r[256];for(var h=nK(r,15),d=h[0],p=h[1],f=nK(s,15),m=f[0],g=f[1],v=nQ(d),y=v[0],_=v[1],b=nQ(m),x=b[0],w=b[1],k=new nP(19),S=0;S<y.length;++S)k[31&y[S]]++;for(S=0;S<x.length;++S)k[31&x[S]]++;for(var C=nK(k,7),E=C[0],P=C[1],T=19;T>4&&!E[nM[T-1]];--T);var N,I,M,A,O=u+5<<3,D=nZ(r,nz)+nZ(s,nj)+a,R=nZ(r,d)+nZ(s,m)+a+14+3*T+nZ(k,E)+(2*k[16]+3*k[17]+7*k[18]);if(O<=D&&O<=R)return nJ(t,c,e.subarray(l,l+u));if(nY(t,c,1+(R<D)),c+=2,R<D){N=n$(d,p,0),I=d,M=n$(m,g,0),A=m;var L=n$(E,P,0);for(nY(t,c,_-257),nY(t,c+5,w-1),nY(t,c+10,T-4),c+=14,S=0;S<T;++S)nY(t,c+3*S,E[nM[S]]);c+=3*T;for(var V=[y,x],F=0;F<2;++F){var B=V[F];for(S=0;S<B.length;++S){var $=31&B[S];nY(t,c,L[$]),c+=E[$],$>15&&(nY(t,c,B[S]>>>5&127),c+=B[S]>>>12)}}}else N=nU,I=nz,M=nq,A=nj;for(S=0;S<o;++S)if(i[S]>255){nG(t,c,N[($=i[S]>>>18&31)+257]),c+=I[$+257],$>7&&(nY(t,c,i[S]>>>23&31),c+=nN[$]);var z=31&i[S];nG(t,c,M[z]),c+=A[z],z>3&&(nG(t,c,i[S]>>>5&8191),c+=nI[z])}else nG(t,c,N[i[S]]),c+=I[i[S]];return nG(t,c,N[256]),c+I[256]},n1=new nT([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),n2=function(){for(var e=new nT(256),t=0;t<256;++t){for(var n=t,i=9;--i;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),n3=function(){var e=4294967295;return{p:function(t){for(var n=e,i=0;i<t.length;++i)n=n2[255&n^t[i]]^n>>>8;e=n},d:function(){return 4294967295^e}}},n6=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},n4=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&n6(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var i=0;i<=n.length;++i)e[i+10]=n.charCodeAt(i)}};function n5(e,t){void 0===t&&(t={});var n,i,r,s=n3(),a=e.length;s.p(e);var o=(i=t,r=10+((n=t).filename&&n.filename.length+1||0),function(e,t,n,i,r,s){var a=e.length,o=new nE(i+a+5*(1+Math.floor(a/7e3))+8),l=o.subarray(i,o.length-8),u=0;if(!t||a<8)for(var c=0;c<=a;c+=65535){var h=c+65535;h<a?u=nJ(l,u,e.subarray(c,h)):(l[c]=s,u=nJ(l,u,e.subarray(c,a)))}else{for(var d=n1[t-1],p=d>>>13,f=8191&d,m=(1<<n)-1,g=new nP(32768),v=new nP(m+1),y=Math.ceil(n/3),_=2*y,b=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<_)&m},x=new nT(25e3),w=new nP(288),k=new nP(32),S=0,C=0,E=(c=0,0),P=0,T=0;c<a;++c){var N=b(c),I=32767&c,M=v[N];if(g[I]=M,v[N]=I,P<=c){var A=a-c;if((S>7e3||E>24576)&&A>423){u=n0(e,l,0,x,w,k,C,E,T,c-T,u),E=S=C=0,T=c;for(var O=0;O<286;++O)w[O]=0;for(O=0;O<30;++O)k[O]=0}var D=2,R=0,L=f,V=I-M&32767;if(A>2&&N==b(c-V))for(var F=Math.min(p,A)-1,B=Math.min(32767,c),$=Math.min(258,A);V<=B&&--L&&I!=M;){if(e[c+D]==e[c+D-V]){for(var z=0;z<$&&e[c+z]==e[c+z-V];++z);if(z>D){if(D=z,R=V,z>F)break;var j=Math.min(V,z-2),U=0;for(O=0;O<j;++O){var q=c-V+O+32768&32767,H=q-g[q]+32768&32767;H>U&&(U=H,M=q)}}}V+=(I=M)-(M=g[I])+32768&32767}if(R){x[E++]=268435456|nR[D]<<18|nL[R];var W=31&nR[D],Y=31&nL[R];C+=nN[W]+nI[Y],++w[257+W],++k[Y],P=c+D,++S}else x[E++]=e[c],++w[e[c]]}}u=n0(e,l,s,x,w,k,C,E,T,c-T,u)}return nW(o,0,i+nH(u)+r)}(e,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+i.mem,r,8,!0)),l=o.length;return n4(o,t),n6(o,l-8,s.d()),n6(o,l-4,a),o}function n8(e,t){var n=e.length;if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var i=new nE(e.length+(e.length>>>1)),r=0,s=function(e){i[r++]=e},a=0;a<n;++a){if(r+5>i.length){var o=new nE(r+8+(n-a<<1));o.set(i),i=o}var l=e.charCodeAt(a);l<128||t?s(l):(l<2048?s(192|l>>>6):(l>55295&&l<57344?(s(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++a))>>>18),s(128|l>>>12&63)):s(224|l>>>12),s(128|l>>>6&63)),s(128|63&l))}return nW(i,0,r)}var n9="disabled",n7="sampled",ie="active",it="buffering",ii="paused",ir="trigger",is=ir+"_activated",ia=ir+"_pending",io=ir+"_"+n9;function il(e,t){return t.some(t=>"regex"===t.matching&&new RegExp(t.url).test(e))}class iu{constructor(e){this.It=e}triggerStatus(e){var t=this.It.map(t=>t.triggerStatus(e));return t.includes(is)?is:t.includes(ia)?ia:io}stop(){this.It.forEach(e=>e.stop())}}class ic{constructor(e){this.It=e}triggerStatus(e){var t=new Set;for(var n of this.It)t.add(n.triggerStatus(e));switch(t.delete(io),t.size){case 0:return io;case 1:return Array.from(t)[0];default:return ia}}stop(){this.It.forEach(e=>e.stop())}}class ih{triggerStatus(){return ia}stop(){}}class id{constructor(e){this.Pt=[],this.Rt=[],this.urlBlocked=!1,this._instance=e}onRemoteConfig(e){var t,n;this.Pt=(null==(t=e.sessionRecording)?void 0:t.urlTriggers)||[],this.Rt=(null==(n=e.sessionRecording)?void 0:n.urlBlocklist)||[]}Tt(e){var t;return 0===this.Pt.length?io:(null==(t=this._instance)?void 0:t.get_property(eM))===e?is:ia}triggerStatus(e){var t=this.Tt(e),n=t===is?is:t===ia?ia:io;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:n}),n}checkUrlTriggerConditions(e,t,n){if(void 0!==s&&s.location.href){var i=s.location.href,r=this.urlBlocked,a=il(i,this.Rt);r&&a||(a&&!r?e():!a&&r&&t(),il(i,this.Pt)&&n("url"))}}stop(){}}class ip{constructor(e){this.linkedFlag=null,this.linkedFlagSeen=!1,this.Ct=()=>{},this._instance=e}triggerStatus(){var e=ia;return V(this.linkedFlag)&&(e=io),this.linkedFlagSeen&&(e=is),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:e}),e}onRemoteConfig(e,t){var n;if(this.linkedFlag=(null==(n=e.sessionRecording)?void 0:n.linkedFlag)||null,!V(this.linkedFlag)&&!this.linkedFlagSeen){var i=D(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,r=D(this.linkedFlag)?null:this.linkedFlag.variant;this.Ct=this._instance.onFeatureFlags((e,n)=>{var s=!1;if(M(n)&&i in n){var a=n[i];s=B(a)?!0===a:r?a===r:!!a}this.linkedFlagSeen=s,s&&t(i,r)})}}stop(){this.Ct()}}class im{constructor(e){this.Mt=[],this._instance=e}onRemoteConfig(e){var t;this.Mt=(null==(t=e.sessionRecording)?void 0:t.eventTriggers)||[]}Ft(e){var t;return 0===this.Mt.length?io:(null==(t=this._instance)?void 0:t.get_property(eA))===e?is:ia}triggerStatus(e){var t=this.Ft(e),n=t===is?is:t===ia?ia:io;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:n}),n}stop(){}}function ig(e){return e.isRecordingEnabled?it:n9}function iv(e){if(!e.receivedFlags)return it;if(!e.isRecordingEnabled)return n9;if(e.urlTriggerMatching.urlBlocked)return ii;var t=!0===e.isSampled,n=new iu([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId);return t?n7:n===is?ie:n===ia?it:!1===e.isSampled?n9:ie}function iy(e){if(!e.receivedFlags)return it;if(!e.isRecordingEnabled)return n9;if(e.urlTriggerMatching.urlBlocked)return ii;var t=new ic([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId),n=t!==io,i=B(e.isSampled);return n&&t===ia?it:n&&t===io||i&&!e.isSampled?n9:!0===e.isSampled?n7:ie}var i_="[SessionRecording]",ib=K(i_);function ix(){var e;return null==v||null==(e=v.__PosthogExtensions__)||null==(e=e.rrweb)?void 0:e.record}var iw=[nm.MouseMove,nm.MouseInteraction,nm.Scroll,nm.ViewportResize,nm.Input,nm.TouchMove,nm.MediaInteraction,nm.Drag],ik=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function iS(e){return function(e,t){for(var n="",i=0;i<e.length;){var r=e[i++];r<128||t?n+=String.fromCharCode(r):r<224?n+=String.fromCharCode((31&r)<<6|63&e[i++]):r<240?n+=String.fromCharCode((15&r)<<12|(63&e[i++])<<6|63&e[i++]):n+=String.fromCharCode(55296|(r=((15&r)<<18|(63&e[i++])<<12|(63&e[i++])<<6|63&e[i++])-65536)>>10,56320|1023&r)}return n}(n5(n8(JSON.stringify(e))),!0)}function iC(e){return e.type===nf.Custom&&"sessionIdle"===e.data.tag}class iE{get sessionId(){return this.Ot}get At(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Dt}get jt(){if(!this._instance.sessionManager)throw Error(i_+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Lt(){var e,t;return this.Nt.triggerStatus(this.sessionId)===ia?6e4:null!==(e=null==(t=this._instance.config.session_recording)?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:3e5}get zt(){var e=this._instance.get_property(eI);return B(e)?e:null}get Ut(){var e,t,n=null==(e=this.H)?void 0:e.data[(null==(t=this.H)?void 0:t.data.length)-1],{sessionStartTimestamp:i}=this.jt.checkAndGetSessionAndWindowId(!0);return n?n.timestamp-i:null}get qt(){var e=!!this._instance.get_property(ex),t=!this._instance.config.disable_session_recording;return s&&e&&t}get Bt(){var e=!!this._instance.get_property(ew),t=this._instance.config.enable_recording_console_log;return null!=t?t:e}get Ht(){var e,t,n,i,r,s,a=this._instance.config.session_recording.captureCanvas,o=this._instance.get_property(eC),l=null!==(e=null!==(t=null==a?void 0:a.recordCanvas)&&void 0!==t?t:null==o?void 0:o.enabled)&&void 0!==e&&e,u=null!==(n=null!==(i=null==a?void 0:a.canvasFps)&&void 0!==i?i:null==o?void 0:o.fps)&&void 0!==n?n:4,c=null!==(r=null!==(s=null==a?void 0:a.canvasQuality)&&void 0!==s?s:null==o?void 0:o.quality)&&void 0!==r?r:.4;if("string"==typeof c){var h=parseFloat(c);c=isNaN(h)?.4:h}return{enabled:l,fps:H(u,0,12,ib.createLogger("canvas recording fps"),4),quality:H(c,0,1,ib.createLogger("canvas recording quality"),.4)}}get Wt(){var e,t,n=this._instance.get_property(ek),i={recordHeaders:null==(e=this._instance.config.session_recording)?void 0:e.recordHeaders,recordBody:null==(t=this._instance.config.session_recording)?void 0:t.recordBody},r=(null==i?void 0:i.recordHeaders)||(null==n?void 0:n.recordHeaders),s=(null==i?void 0:i.recordBody)||(null==n?void 0:n.recordBody),a=M(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,o=!!(B(a)?a:null==n?void 0:n.capturePerformance);return r||s||o?{recordHeaders:r,recordBody:s,recordPerformance:o}:void 0}get Gt(){var e,t,n,i,r,s,a=this._instance.get_property(eS),o={maskAllInputs:null==(e=this._instance.config.session_recording)?void 0:e.maskAllInputs,maskTextSelector:null==(t=this._instance.config.session_recording)?void 0:t.maskTextSelector,blockSelector:null==(n=this._instance.config.session_recording)?void 0:n.blockSelector},l=null!==(i=null==o?void 0:o.maskAllInputs)&&void 0!==i?i:null==a?void 0:a.maskAllInputs,u=null!==(r=null==o?void 0:o.maskTextSelector)&&void 0!==r?r:null==a?void 0:a.maskTextSelector,c=null!==(s=null==o?void 0:o.blockSelector)&&void 0!==s?s:null==a?void 0:a.blockSelector;return O(l)&&O(u)&&O(c)?void 0:{maskAllInputs:null==l||l,maskTextSelector:u,blockSelector:c}}get Jt(){var e=this._instance.get_property(eE);return F(e)?e:null}get Vt(){var e=this._instance.get_property(eP);return F(e)?e:null}get status(){return this.Kt?this.Yt({receivedFlags:this.Kt,isRecordingEnabled:this.qt,isSampled:this.zt,urlTriggerMatching:this.Xt,eventTriggerMatching:this.Qt,linkedFlagMatching:this.Zt,sessionId:this.sessionId}):it}constructor(e){if(this.Yt=ig,this.Kt=!1,this.ti=[],this.ii="unknown",this.ei=Date.now(),this.Nt=new ih,this.ri=void 0,this.si=void 0,this.ni=void 0,this.oi=void 0,this.ai=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.li=()=>{this.ui()},this.hi=()=>{this.di("browser offline",{})},this.vi=()=>{this.di("browser online",{})},this.ci=()=>{if(null!=h&&h.visibilityState){var e="window "+h.visibilityState;this.di(e,{})}},this._instance=e,this.Dt=!1,this.fi="/s/",this.pi=void 0,this.Kt=!1,!this._instance.sessionManager)throw ib.error("started without valid sessionManager"),Error(i_+" started without valid sessionManager. This is a bug.");if("always"===this._instance.config.cookieless_mode)throw Error(i_+' cannot be used with cookieless_mode="always"');this.Zt=new ip(this._instance),this.Xt=new id(this._instance),this.Qt=new im(this._instance);var{sessionId:t,windowId:n}=this.jt.checkAndGetSessionAndWindowId();this.Ot=t,this.gi=n,this.H=this.mi(),this.At>=this.jt.sessionTimeoutMs&&ib.warn("session_idle_threshold_ms ("+this.At+") is greater than the session timeout ("+this.jt.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(e){this.qt?(this.bi(e),eu(s,"beforeunload",this.li),eu(s,"offline",this.hi),eu(s,"online",this.vi),eu(s,"visibilitychange",this.ci),this.yi(),this.wi(),V(this.ri)&&(this.ri=this._instance.on("eventCaptured",e=>{try{if("$pageview"===e.event){var t=null!=e&&e.properties.$current_url?this.Si(null==e?void 0:e.properties.$current_url):"";if(!t)return;this.di("$pageview",{href:t})}}catch(e){ib.error("Could not add $pageview to rrweb session",e)}})),this.si||(this.si=this.jt.onSessionId((e,t,n)=>{var i,r;n&&(this.di("$session_id_change",{sessionId:e,windowId:t,changeReason:n}),null==(i=this._instance)||null==(i=i.persistence)||i.unregister(eA),null==(r=this._instance)||null==(r=r.persistence)||r.unregister(eM))}))):this.stopRecording()}stopRecording(){var e,t,n,i;this.Dt&&this.pi&&(this.pi(),this.pi=void 0,this.Dt=!1,null==s||s.removeEventListener("beforeunload",this.li),null==s||s.removeEventListener("offline",this.hi),null==s||s.removeEventListener("online",this.vi),null==s||s.removeEventListener("visibilitychange",this.ci),this.mi(),clearInterval(this.$i),null==(e=this.ri)||e.call(this),this.ri=void 0,null==(t=this.ai)||t.call(this),this.ai=void 0,null==(n=this.si)||n.call(this),this.si=void 0,null==(i=this.oi)||i.call(this),this.oi=void 0,this.Qt.stop(),this.Xt.stop(),this.Zt.stop(),ib.info("stopped"))}xi(){var e;null==(e=this._instance.persistence)||e.unregister(eI)}ki(e){var t,n=this.Ot!==e,i=this.Jt;if(F(i)){var r=this.zt,s=n||!B(r),a=s?function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return Math.abs(t)}(e)%100<H(100*i,0,100,G):r;s&&(a?this.Ei(n7):ib.warn("Sample rate ("+i+") has determined that this sessionId ("+e+") will not be sent to the server."),this.di("samplingDecisionMade",{sampleRate:i,isSampled:a})),null==(t=this._instance.persistence)||t.register({[eI]:a})}else this.xi()}onRemoteConfig(e){var t,n,i,r;this.di("$remote_config_received",e),this.Ii(e),null!=(t=e.sessionRecording)&&t.endpoint&&(this.fi=null==(r=e.sessionRecording)?void 0:r.endpoint),this.yi(),"any"===(null==(n=e.sessionRecording)?void 0:n.triggerMatchType)?(this.Yt=iv,this.Nt=new iu([this.Qt,this.Xt])):(this.Yt=iy,this.Nt=new ic([this.Qt,this.Xt])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:null==(i=e.sessionRecording)?void 0:i.triggerMatchType}),this.Xt.onRemoteConfig(e),this.Qt.onRemoteConfig(e),this.Zt.onRemoteConfig(e,(e,t)=>{this.Ei("linked_flag_matched",{flag:e,variant:t})}),this.Kt=!0,this.startIfEnabledOrStop()}yi(){F(this.Jt)&&V(this.oi)&&(this.oi=this.jt.onSessionId(e=>{this.ki(e)}))}Ii(e){if(this._instance.persistence){var t,n=this._instance.persistence,i=()=>{var t,i,r,s,a,o,l,u,c,h=null==(t=e.sessionRecording)?void 0:t.sampleRate,d=V(h)?null:parseFloat(h);V(d)&&this.xi();var p=null==(i=e.sessionRecording)?void 0:i.minimumDurationMilliseconds;n.register({[ex]:!!e.sessionRecording,[ew]:null==(r=e.sessionRecording)?void 0:r.consoleLogRecordingEnabled,[ek]:_({capturePerformance:e.capturePerformance},null==(s=e.sessionRecording)?void 0:s.networkPayloadCapture),[eS]:null==(a=e.sessionRecording)?void 0:a.masking,[eC]:{enabled:null==(o=e.sessionRecording)?void 0:o.recordCanvas,fps:null==(l=e.sessionRecording)?void 0:l.canvasFps,quality:null==(u=e.sessionRecording)?void 0:u.canvasQuality},[eE]:d,[eP]:O(p)?null:p,[eT]:null==(c=e.sessionRecording)?void 0:c.scriptConfig})};i(),null==(t=this.ni)||t.call(this),this.ni=this.jt.onSessionId(i)}}log(e,t){var n;void 0===t&&(t="log"),null==(n=this._instance.sessionRecording)||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:t,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}bi(e){if(!O(Object.assign)&&!O(Array.from)&&!(this.Dt||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var t;(this.Dt=!0,this.jt.checkAndGetSessionAndWindowId(),ix())?this.Pi():null==(t=v.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this._instance,this.Ri,e=>{if(e)return ib.error("could not load recorder",e);this.Pi()}),ib.info("starting"),this.status===ie&&this.Ei(e||"recording_initialized")}}get Ri(){var e;return(null==(e=this._instance)||null==(e=e.persistence)||null==(e=e.get_property(eT))?void 0:e.script)||"recorder"}Ti(e){var t;return 3===e.type&&-1!==iw.indexOf(null==(t=e.data)?void 0:t.source)}Ci(e){var t=this.Ti(e);t||this.ii||e.timestamp-this.ei>this.At&&(this.ii=!0,clearInterval(this.$i),this.di("sessionIdle",{eventTimestamp:e.timestamp,lastActivityTimestamp:this.ei,threshold:this.At,bufferLength:this.H.data.length,bufferSize:this.H.size}),this.ui());var n=!1;if(t&&(this.ei=e.timestamp,this.ii)){var i="unknown"===this.ii;this.ii=!1,i||(this.di("sessionNoLongerIdle",{reason:"user activity",type:e.type}),n=!0)}if(!this.ii){var{windowId:r,sessionId:s}=this.jt.checkAndGetSessionAndWindowId(!t,e.timestamp),a=this.Ot!==s,o=this.gi!==r;this.gi=r,this.Ot=s,a||o?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):n&&this.Mi()}}Fi(e){try{return e.rrwebMethod(),!0}catch(t){return this.ti.length<10?this.ti.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):ib.warn("could not emit queued rrweb event.",t,e),!1}}di(e,t){return this.Fi(ik(()=>ix().addCustomEvent(e,t)))}Oi(){return this.Fi(ik(()=>ix().takeFullSnapshot()))}Pi(){var e,t,n,i,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};for(var[s,a]of Object.entries(this._instance.config.session_recording||{}))s in r&&("maskInputOptions"===s?r.maskInputOptions=_({password:!0},a):r[s]=a);this.Ht&&this.Ht.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.Ht.fps},r.dataURLOptions={type:"image/webp",quality:this.Ht.quality}),this.Gt&&(r.maskAllInputs=null===(t=this.Gt.maskAllInputs)||void 0===t||t,r.maskTextSelector=null!==(n=this.Gt.maskTextSelector)&&void 0!==n?n:void 0,r.blockSelector=null!==(i=this.Gt.blockSelector)&&void 0!==i?i:void 0);var o=ix();if(o){this.Ai=null!==(e=this.Ai)&&void 0!==e?e:new nC(o,{refillRate:this._instance.config.session_recording.__mutationThrottlerRefillRate,bucketSize:this._instance.config.session_recording.__mutationThrottlerBucketSize,onBlockedNode:(e,t)=>{var n="Too many mutations on node '"+e+"'. Rate limiting. This could be due to SVG animations or something similar";ib.info(n,{node:t}),this.log(i_+" "+n,"warn")}});var l=this.Di();this.pi=o(_({emit:e=>{this.onRRwebEmit(e)},plugins:l},r)),this.ei=Date.now(),this.ii=B(this.ii)?this.ii:"unknown",this.di("$session_options",{sessionRecordingOptions:r,activePlugins:l.map(e=>null==e?void 0:e.name)}),this.di("$posthog_config",{config:this._instance.config})}else ib.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Mi(){if(this.$i&&clearInterval(this.$i),!0!==this.ii){var e=this.Lt;e&&(this.$i=setInterval(()=>{this.Oi()},e))}}Di(){var e,t,n=[],i=null==(e=v.__PosthogExtensions__)||null==(e=e.rrwebPlugins)?void 0:e.getRecordConsolePlugin;i&&this.Bt&&n.push(i());var r=null==(t=v.__PosthogExtensions__)||null==(t=t.rrwebPlugins)?void 0:t.getRecordNetworkPlugin;return this.Wt&&I(r)&&(!tm.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?n.push(r(nS(this._instance.config,this.Wt))):ib.info("NetworkCapture not started because we are on localhost.")),n}onRRwebEmit(e){var t;if(this.ji(),e&&M(e)){if(e.type===nf.Meta){var n=this.Si(e.data.href);if(this.Li=n,!n)return;e.data.href=n}else this.Ni();if(this.Xt.checkUrlTriggerConditions(()=>this.zi(),()=>this.Ui(),e=>this.qi(e)),!this.Xt.urlBlocked||e.type===nf.Custom&&"recording paused"===e.data.tag){e.type===nf.FullSnapshot&&this.Mi(),e.type===nf.FullSnapshot&&this.Kt&&this.Nt.triggerStatus(this.sessionId)===ia&&this.mi();var i=this.Ai?this.Ai.throttleMutations(e):e;if(i){var r=function(e){if(e&&M(e)&&6===e.type&&M(e.data)&&"rrweb/console@1"===e.data.plugin){e.data.payload.payload.length>10&&(e.data.payload.payload=e.data.payload.payload.slice(0,10),e.data.payload.payload.push("...[truncated]"));for(var t=[],n=0;n<e.data.payload.payload.length;n++)e.data.payload.payload[n]&&e.data.payload.payload[n].length>2e3?t.push(e.data.payload.payload[n].slice(0,2e3)+"...[truncated]"):t.push(e.data.payload.payload[n]);return e.data.payload.payload=t,e}return e}(i);if(this.Ci(r),!0!==this.ii||iC(r)){if(iC(r)){var s=r.data.payload;if(s){var a=s.lastActivityTimestamp,o=s.threshold;r.timestamp=a+o}}var l=null===(t=this._instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(1024>np(e))return e;try{if(e.type===nf.FullSnapshot)return _({},e,{data:iS(e.data),cv:"2024-10"});if(e.type===nf.IncrementalSnapshot&&e.data.source===nm.Mutation)return _({},e,{cv:"2024-10",data:_({},e.data,{texts:iS(e.data.texts),attributes:iS(e.data.attributes),removes:iS(e.data.removes),adds:iS(e.data.adds)})});if(e.type===nf.IncrementalSnapshot&&e.data.source===nm.StyleSheetRule)return _({},e,{cv:"2024-10",data:_({},e.data,{adds:e.data.adds?iS(e.data.adds):void 0,removes:e.data.removes?iS(e.data.removes):void 0})})}catch(e){ib.error("could not compress event - will use uncompressed event",e)}return e}(r):r,u={$snapshot_bytes:np(l),$snapshot_data:l,$session_id:this.Ot,$window_id:this.gi};this.status!==n9?this.Bi(u):this.mi()}}}}}Ni(){if(!this._instance.config.capture_pageview&&s){var e=this.Si(s.location.href);this.Li!==e&&(this.di("$url_changed",{href:e}),this.Li=e)}}ji(){if(this.ti.length){var e=[...this.ti];this.ti=[],e.forEach(e=>{Date.now()-e.enqueuedAt<=2e3&&this.Fi(e)})}}Si(e){var t=this._instance.config.session_recording;if(t.maskNetworkRequestFn){var n,i={url:e};return null==(n=i=t.maskNetworkRequestFn(i))?void 0:n.url}return e}mi(){return this.H={size:0,data:[],sessionId:this.Ot,windowId:this.gi},this.H}ui(){this.Hi&&(clearTimeout(this.Hi),this.Hi=void 0);var e=this.Vt,t=this.Ut,n=F(t)&&t>=0,i=F(e)&&n&&t<e;return this.status===it||this.status===ii||this.status===n9||i?(this.Hi=setTimeout(()=>{this.ui()},2e3),this.H):(this.H.data.length>0&&(function e(t,n){if(void 0===n&&(n=6606028.8),t.size>=n&&t.data.length>1){var i=Math.floor(t.data.length/2),r=t.data.slice(0,i),s=t.data.slice(i);return[e({size:np(r),data:r,sessionId:t.sessionId,windowId:t.windowId}),e({size:np(s),data:s,sessionId:t.sessionId,windowId:t.windowId})].flatMap(e=>e)}return[t]})(this.H).forEach(e=>{this.Wi({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:"web",$lib_version:y.LIB_VERSION})}),this.mi())}Bi(e){var t,n=2+((null==(t=this.H)?void 0:t.data.length)||0);!this.ii&&(this.H.size+e.$snapshot_bytes+n>943718.4||this.H.sessionId!==this.Ot)&&(this.H=this.ui()),this.H.size+=e.$snapshot_bytes,this.H.data.push(e.$snapshot_data),this.Hi||this.ii||(this.Hi=setTimeout(()=>{this.ui()},2e3))}Wi(e){this._instance.capture("$snapshot",e,{_url:this._instance.requestRouter.endpointFor("api",this.fi),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}qi(e){var t;this.Nt.triggerStatus(this.sessionId)===ia&&(null==(t=this._instance)||null==(t=t.persistence)||t.register({["url"===e?eM:eA]:this.Ot}),this.ui(),this.Ei(e+"_trigger_matched"))}zi(){this.Xt.urlBlocked||(this.Xt.urlBlocked=!0,clearInterval(this.$i),ib.info("recording paused due to URL blocker"),this.di("recording paused",{reason:"url blocker"}))}Ui(){this.Xt.urlBlocked&&(this.Xt.urlBlocked=!1,this.Oi(),this.Mi(),this.di("recording resumed",{reason:"left blocked url"}),ib.info("recording resumed"))}wi(){0!==this.Qt.Mt.length&&V(this.ai)&&(this.ai=this._instance.on("eventCaptured",e=>{try{this.Qt.Mt.includes(e.event)&&this.qi("event")}catch(e){ib.error("Could not activate event trigger",e)}}))}overrideLinkedFlag(){this.Zt.linkedFlagSeen=!0,this.Oi(),this.Ei("linked_flag_overridden")}overrideSampling(){var e;null==(e=this._instance.persistence)||e.register({[eI]:!0}),this.Oi(),this.Ei("sampling_overridden")}overrideTrigger(e){this.qi(e)}Ei(e,t){this._instance.register_for_session({$session_recording_start_reason:e}),ib.info(e.replace("_"," "),t),w(["recording_initialized","session_id_changed"],e)||this.di(e,t)}get sdkDebugProperties(){var{sessionStartTimestamp:e}=this.jt.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.H.data.length,$sdk_debug_replay_internal_buffer_size:this.H.size,$sdk_debug_current_session_duration:this.Ut,$sdk_debug_session_start:e}}}var iP=K("[SegmentIntegration]"),iT="posthog-js";function iN(e,t){var{organization:n,projectId:i,prefix:r,severityAllowList:s=["error"]}=void 0===t?{}:t;return t=>{if(!("*"===s||s.includes(t.level))||!e.__loaded)return t;t.tags||(t.tags={});var a,o,l,u,c,h=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());t.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(t.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var d=(null==(a=t.exception)?void 0:a.values)||[],p=d.map(e=>_({},e,{stacktrace:e.stacktrace?_({},e.stacktrace,{type:"raw",frames:(e.stacktrace.frames||[]).map(e=>_({},e,{platform:"web:javascript"}))}):void 0})),f={$exception_message:(null==(o=d[0])?void 0:o.value)||t.message,$exception_type:null==(l=d[0])?void 0:l.type,$exception_personURL:h,$exception_level:t.level,$exception_list:p,$sentry_event_id:t.event_id,$sentry_exception:t.exception,$sentry_exception_message:(null==(u=d[0])?void 0:u.value)||t.message,$sentry_exception_type:null==(c=d[0])?void 0:c.type,$sentry_tags:t.tags};return n&&i&&(f.$sentry_url=(r||"https://sentry.io/organizations/")+n+"/issues/?project="+i+"&query="+t.event_id),e.exceptions.sendExceptionEvent(f),t}}class iI{constructor(e,t,n,i,r){this.name=iT,this.setupOnce=function(s){s(iN(e,{organization:t,projectId:n,prefix:i,severityAllowList:r}))}}}var iM=null!=s&&s.location?tb(s.location.hash,"__posthog")||tb(location.hash,"state"):null,iA="_postHogToolbarParams",iO=K("[Toolbar]"),iD=((sK=iD||{})[sK.UNINITIALIZED=0]="UNINITIALIZED",sK[sK.LOADING=1]="LOADING",sK[sK.LOADED=2]="LOADED",sK);class iR{constructor(e){this.instance=e}Gi(e){v.ph_toolbar_state=e}Ji(){var e;return null!==(e=v.ph_toolbar_state)&&void 0!==e?e:iD.UNINITIALIZED}maybeLoadToolbar(e,t,n){if(void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===n&&(n=void 0),!s||!h)return!1;e=null!=e?e:s.location,n=null!=n?n:s.history;try{if(!t){try{s.localStorage.setItem("test","test"),s.localStorage.removeItem("test")}catch(e){return!1}t=null==s?void 0:s.localStorage}var i,r=iM||tb(e.hash,"__posthog")||tb(e.hash,"state"),a=r?er(()=>JSON.parse(atob(decodeURIComponent(r))))||er(()=>JSON.parse(decodeURIComponent(r))):null;return a&&"ph_authorize"===a.action?((i=a).source="url",i&&Object.keys(i).length>0&&(a.desiredHash?e.hash=a.desiredHash:n?n.replaceState(n.state,"",e.pathname+e.search):e.hash="")):((i=JSON.parse(t.getItem(iA)||"{}")).source="localstorage",delete i.userIntent),!(!i.token||this.instance.config.token!==i.token)&&(this.loadToolbar(i),!0)}catch(e){return!1}}Vi(e){var t=v.ph_load_toolbar||v.ph_load_editor;!V(t)&&I(t)?t(e,this.instance):iO.warn("No toolbar load function found")}loadToolbar(e){var t,n=!(null==h||!h.getElementById(eG));if(!s||n)return!1;var i="custom"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,r=_({token:this.instance.config.token},e,{apiURL:this.instance.requestRouter.endpointFor("ui")},i?{instrument:!1}:{});return(s.localStorage.setItem(iA,JSON.stringify(_({},r,{source:void 0}))),this.Ji()===iD.LOADED)?this.Vi(r):this.Ji()===iD.UNINITIALIZED&&(this.Gi(iD.LOADING),null==(t=v.__PosthogExtensions__)||null==t.loadExternalDependency||t.loadExternalDependency(this.instance,"toolbar",e=>{if(e)return iO.error("[Toolbar] Failed to load",e),void this.Gi(iD.UNINITIALIZED);this.Gi(iD.LOADED),this.Vi(r)}),eu(s,"turbolinks:load",()=>{this.Gi(iD.UNINITIALIZED),this.loadToolbar(r)})),!0}Ki(e){return this.loadToolbar(e)}maybeLoadEditor(e,t,n){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===n&&(n=void 0),this.maybeLoadToolbar(e,t,n)}}var iL=K("[TracingHeaders]");class iV{constructor(e){this.Yi=void 0,this.Xi=void 0,this.lt=()=>{var e,t;O(this.Yi)&&(null==(e=v.__PosthogExtensions__)||null==(e=e.tracingHeadersPatchFns)||e._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager)),O(this.Xi)&&(null==(t=v.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=e}nt(e){var t,n;null!=(t=v.__PosthogExtensions__)&&t.tracingHeadersPatchFns&&e(),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"tracing-headers",t=>{if(t)return iL.error("failed to load script",t);e()})}startIfEnabledOrStop(){var e,t;this._instance.config.__add_tracing_headers?this.nt(this.lt):(null==(e=this.Yi)||e.call(this),null==(t=this.Xi)||t.call(this),this.Yi=void 0,this.Xi=void 0)}}var iF=K("[Web Vitals]");class iB{constructor(e){var t;this.Qi=!1,this.C=!1,this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Zi=()=>{clearTimeout(this.te),0!==this.H.metrics.length&&(this._instance.capture("$web_vitals",this.H.metrics.reduce((e,t)=>_({},e,{["$web_vitals_"+t.name+"_event"]:_({},t),["$web_vitals_"+t.name+"_value"]:t.value}),{})),this.H={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.ie=e=>{var t,n=null==(t=this._instance.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0);if(O(n))iF.error("Could not read session ID. Dropping metrics!");else{this.H=this.H||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var i=this.ee();O(i)||(V(null==e?void 0:e.name)||V(null==e?void 0:e.value)?iF.error("Invalid metric received",e):this.re&&e.value>=this.re?iF.error("Ignoring metric with value >= "+this.re,e):(this.H.url!==i&&(this.Zi(),this.te=setTimeout(this.Zi,this.flushToCaptureTimeoutMs)),O(this.H.url)&&(this.H.url=i),this.H.firstMetricTimestamp=O(this.H.firstMetricTimestamp)?Date.now():this.H.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.H.metrics.push(_({},e,{$current_url:i,$session_id:n.sessionId,$window_id:n.windowId,timestamp:Date.now()})),this.H.metrics.length===this.allowedMetrics.length&&this.Zi()))}},this.lt=()=>{var e,t,n,i,r=v.__PosthogExtensions__;O(r)||O(r.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:n,onINP:i}=r.postHogWebVitalsCallbacks),e&&t&&n&&i?(this.allowedMetrics.indexOf("LCP")>-1&&e(this.ie.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&t(this.ie.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&n(this.ie.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&i(this.ie.bind(this)),this.C=!0):iF.error("web vitals callbacks not loaded - not starting")},this._instance=e,this.Qi=!(null==(t=this._instance.persistence)||!t.props[ey]),this.startIfEnabled()}get allowedMetrics(){var e,t,n=M(this._instance.config.capture_performance)?null==(e=this._instance.config.capture_performance)?void 0:e.web_vitals_allowed_metrics:void 0;return O(n)?(null==(t=this._instance.persistence)?void 0:t.props[eb])||["CLS","FCP","INP","LCP"]:n}get flushToCaptureTimeoutMs(){return(M(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get re(){var e=M(this._instance.config.capture_performance)&&F(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:9e5;return 0<e&&e<=6e4?9e5:e}get isEnabled(){var e=null==d?void 0:d.protocol;if("http:"!==e&&"https:"!==e)return iF.info("Web Vitals are disabled on non-http/https protocols"),!1;var t=M(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:B(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return B(t)?t:this.Qi}startIfEnabled(){this.isEnabled&&!this.C&&(iF.info("enabled, starting..."),this.nt(this.lt))}onRemoteConfig(e){var t=M(e.capturePerformance)&&!!e.capturePerformance.web_vitals,n=M(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[ey]:t}),this._instance.persistence.register({[eb]:n})),this.Qi=t,this.startIfEnabled()}nt(e){var t,n;null!=(t=v.__PosthogExtensions__)&&t.postHogWebVitalsCallbacks&&e(),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"web-vitals",t=>{t?iF.error("failed to load script",t):e()})}ee(){var e=s?s.location.href:void 0;return e||iF.error("Could not determine current URL"),e}}var i$=K("[Heatmaps]");function iz(e){return M(e)&&"clientX"in e&&"clientY"in e&&F(e.clientX)&&F(e.clientY)}class ij{constructor(e){var t;this.rageclicks=new th,this.Qi=!1,this.C=!1,this.se=null,this.instance=e,this.Qi=!(null==(t=this.instance.persistence)||!t.props[ef])}get flushIntervalMilliseconds(){var e=5e3;return M(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return O(this.instance.config.capture_heatmaps)?O(this.instance.config.enable_heatmaps)?this.Qi:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled)this.C||(i$.info("starting..."),this.ne(),this.se=setInterval(this.oe.bind(this),this.flushIntervalMilliseconds));else{var e,t;clearInterval(null!==(e=this.se)&&void 0!==e?e:void 0),null==(t=this.ae)||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[ef]:t}),this.Qi=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.H;return this.H=void 0,e}le(e){this.ue(e.originalEvent,"deadclick")}ne(){s&&h&&(eu(s,"beforeunload",this.oe.bind(this)),eu(h,"click",e=>this.ue(e||(null==s?void 0:s.event)),{capture:!0}),eu(h,"mousemove",e=>this.he(e||(null==s?void 0:s.event)),{capture:!0}),this.ae=new tK(this.instance,tY,this.le.bind(this)),this.ae.startIfEnabled(),this.C=!0)}de(e,t){var n=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),r=this.instance.scrollManager.scrollElement(),a=function(e,t,n){for(var i=e;i&&eZ(i)&&!eJ(i,"body")&&i!==n;){if(w(t,null==s?void 0:s.getComputedStyle(i).position))return!0;i=e7(i)}return!1}(e8(e),["fixed","sticky"],r);return{x:e.clientX+(a?0:i),y:e.clientY+(a?0:n),target_fixed:a,type:t}}ue(e,t){var n;if(void 0===t&&(t="click"),!eQ(e.target)&&iz(e)){var i=this.de(e,t);null!=(n=this.rageclicks)&&n.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this.ve(_({},i,{type:"rageclick"})),this.ve(i)}}he(e){!eQ(e.target)&&iz(e)&&(clearTimeout(this.ce),this.ce=setTimeout(()=>{this.ve(this.de(e,"mousemove"))},500))}ve(e){if(s){var t=s.location.href;this.H=this.H||{},this.H[t]||(this.H[t]=[]),this.H[t].push(e)}}oe(){this.H&&!A(this.H)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class iU{constructor(e){this._instance=e}doPageView(e,t){var n,i=this.fe(e,t);return this.pe={pathname:null!==(n=null==s?void 0:s.location.pathname)&&void 0!==n?n:"",pageViewId:t,timestamp:e},this._instance.scrollManager.resetContext(),i}doPageLeave(e){var t;return this.fe(e,null==(t=this.pe)?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null==(e=this.pe)?void 0:e.pageViewId}}fe(e,t){var n=this.pe;if(!n)return{$pageview_id:t};var i={$pageview_id:t,$prev_pageview_id:n.pageViewId},r=this._instance.scrollManager.getContext();if(r&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:s,lastScrollY:a,maxScrollY:o,maxContentHeight:l,lastContentY:u,maxContentY:c}=r;if(!(O(s)||O(a)||O(o)||O(l)||O(u)||O(c))){s=Math.ceil(s),a=Math.ceil(a),o=Math.ceil(o),l=Math.ceil(l),u=Math.ceil(u),c=Math.ceil(c);var h=s<=1?1:H(a/s,0,1,G),d=s<=1?1:H(o/s,0,1,G),p=l<=1?1:H(u/l,0,1,G),f=l<=1?1:H(c/l,0,1,G);i=et(i,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:o,$prev_pageview_max_scroll_percentage:d,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:p,$prev_pageview_max_content:c,$prev_pageview_max_content_percentage:f})}}return n.pathname&&(i.$prev_pageview_pathname=n.pathname),n.timestamp&&(i.$prev_pageview_duration=(e.getTime()-n.timestamp.getTime())/1e3),i}}var iq=function(e){var t,n,i,r,s="";for(t=n=0,i=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,r=0;r<i;r++){var a=e.charCodeAt(r),o=null;a<128?n++:o=a>127&&a<2048?String.fromCharCode(a>>6|192,63&a|128):String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128),L(o)||(n>t&&(s+=e.substring(t,n)),s+=o,t=n=r+1)}return n>t&&(s+=e.substring(t,e.length)),s},iH=!!f||!!p,iW="text/plain",iY=(e,t)=>{var[n,i]=e.split("?"),r=_({},t);null==i||i.split("&").forEach(e=>{var[t]=e.split("=");delete r[t]});var s=tv(r);return n+"?"+(s=s?(i?i+"&":"")+s:i)},iG=(e,t)=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t,t),iK=e=>{var{data:t,compression:n}=e;if(t){if(n===tp.GZipJS){var i=new Blob([n5(n8(iG(t)),{mtime:0})],{type:iW});return{contentType:iW,body:i,estimatedSize:i.size}}if(n===tp.Base64){let e;var r="data="+encodeURIComponent("string"==typeof(e=function(e){var t,n,i,r,s,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,l=0,u="",c=[];if(!e)return e;e=iq(e);do t=(s=e.charCodeAt(o++)<<16|e.charCodeAt(o++)<<8|e.charCodeAt(o++))>>18&63,n=s>>12&63,i=s>>6&63,r=63&s,c[l++]=a.charAt(t)+a.charAt(n)+a.charAt(i)+a.charAt(r);while(o<e.length);switch(u=c.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}(iG(t)))?e:iG(e));return{contentType:"application/x-www-form-urlencoded",body:r,estimatedSize:new Blob([r]).size}}var s=iG(t);return{contentType:"application/json",body:s,estimatedSize:new Blob([s]).size}}},iX=[];p&&iX.push({transport:"fetch",method:e=>{var t,n,{contentType:i,body:r,estimatedSize:s}=null!==(t=iK(e))&&void 0!==t?t:{},a=new Headers;ee(e.headers,function(e,t){a.append(t,e)}),i&&a.append("Content-Type",i);var o=e.url,l=null;if(m){var u=new m;l={signal:u.signal,timeout:setTimeout(()=>u.abort(),e.timeout)}}p(o,_({method:(null==e?void 0:e.method)||"GET",headers:a,keepalive:"POST"===e.method&&52428.8>(s||0),body:r,signal:null==(n=l)?void 0:n.signal},e.fetchOptions)).then(t=>t.text().then(n=>{var i={statusCode:t.status,text:n};if(200===t.status)try{i.json=JSON.parse(n)}catch(e){G.error(e)}null==e.callback||e.callback(i)})).catch(t=>{G.error(t),null==e.callback||e.callback({statusCode:0,text:t})}).finally(()=>l?clearTimeout(l.timeout):null)}}),f&&iX.push({transport:"XHR",method:e=>{var t,n=new f;n.open(e.method||"GET",e.url,!0);var{contentType:i,body:r}=null!==(t=iK(e))&&void 0!==t?t:{};ee(e.headers,function(e,t){n.setRequestHeader(t,e)}),i&&n.setRequestHeader("Content-Type",i),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(4===n.readyState){var t={statusCode:n.status,text:n.responseText};if(200===n.status)try{t.json=JSON.parse(n.responseText)}catch(e){}null==e.callback||e.callback(t)}},n.send(r)}}),null!=c&&c.sendBeacon&&iX.push({transport:"sendBeacon",method:e=>{var t=iY(e.url,{beacon:"1"});try{var n,{contentType:i,body:r}=null!==(n=iK(e))&&void 0!==n?n:{},s="string"==typeof r?new Blob([r],{type:i}):r;c.sendBeacon(t,s)}catch(e){}}});var iQ=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}};function iZ(e,t,n){return iG({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:n})}var iJ={exact:(e,t)=>t.some(t=>e.some(e=>t===e)),is_not:(e,t)=>t.every(t=>e.every(e=>t!==e)),regex:(e,t)=>t.some(t=>e.some(e=>iQ(t,e))),not_regex:(e,t)=>t.every(t=>e.every(e=>!iQ(t,e))),icontains:(e,t)=>t.map(i0).some(t=>e.map(i0).some(e=>t.includes(e))),not_icontains:(e,t)=>t.map(i0).every(t=>e.map(i0).every(e=>!t.includes(e)))},i0=e=>e.toLowerCase(),i1=K("[Error tracking]");class i2{constructor(e){var t,n;this.ge=[],this._instance=e,this.ge=null!==(t=null==(n=this._instance.persistence)?void 0:n.get_property(eg))&&void 0!==t?t:[]}onRemoteConfig(e){var t,n,i,r=null!==(t=null==(n=e.errorTracking)?void 0:n.suppressionRules)&&void 0!==t?t:[],s=null==(i=e.errorTracking)?void 0:i.captureExtensionExceptions;this.ge=r,this._instance.persistence&&this._instance.persistence.register({[eg]:this.ge,[ev]:s})}get _e(){var e,t=!!this._instance.get_property(ev),n=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(e=null!=n?n:t)&&void 0!==e&&e}sendExceptionEvent(e){if(this.me(e))i1.info("Skipping exception capture because a suppression rule matched");else{if(this._e||!this.be(e))return this._instance.capture("$exception",e,{_noTruncate:!0,_batchKey:"exceptionEvent"});i1.info("Skipping exception capture because it was thrown by an extension")}}me(e){var t=e.$exception_list;if(!t||!N(t)||0===t.length)return!1;var n=t.reduce((e,t)=>{var{type:n,value:i}=t;return D(n)&&n.length>0&&e.$exception_types.push(n),D(i)&&i.length>0&&e.$exception_values.push(i),e},{$exception_types:[],$exception_values:[]});return this.ge.some(e=>{var t=e.values.map(e=>{var t,i=iJ[e.operator],r=N(e.value)?e.value:[e.value],s=null!==(t=n[e.key])&&void 0!==t?t:[];return r.length>0&&i(r,s)});return"OR"===e.type?t.some(Boolean):t.every(Boolean)})}be(e){var t=e.$exception_list;return!(!t||!N(t))&&t.flatMap(e=>{var t,n;return null!==(t=null==(n=e.stacktrace)?void 0:n.frames)&&void 0!==t?t:[]}).some(e=>e.filename&&e.filename.startsWith("chrome-extension://"))}}var i3="Mobile",i6="Android",i4="Tablet",i5=i6+" "+i4,i8="iPad",i9="Apple",i7=i9+" Watch",re="Safari",rt="BlackBerry",rn="Samsung",ri=rn+"Browser",rr=rn+" Internet",rs="Chrome",ra=rs+" OS",ro=rs+" iOS",rl="Internet Explorer",ru=rl+" "+i3,rc="Opera",rh=rc+" Mini",rd="Edge",rp="Microsoft "+rd,rf="Firefox",rm=rf+" iOS",rg="Nintendo",rv="PlayStation",ry="Xbox",r_=i6+" "+i3,rb=i3+" "+re,rx="Windows",rw=rx+" Phone",rk="Nokia",rS="Ouya",rC="Generic",rE=rC+" "+i3.toLowerCase(),rP=rC+" "+i4.toLowerCase(),rT="Konqueror",rN="(\\d+(\\.\\d+)?)",rI=RegExp("Version/"+rN),rM=RegExp(ry,"i"),rA=RegExp(rv+" \\w+","i"),rO=RegExp(rg+" \\w+","i"),rD=RegExp(rt+"|PlayBook|BB10","i"),rR={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},rL=(e,t)=>t&&w(t,i9)||w(e,re)&&!w(e,rs)&&!w(e,i6),rV=function(e,t){return t=t||"",w(e," OPR/")&&w(e,"Mini")?rh:w(e," OPR/")?rc:rD.test(e)?rt:w(e,"IE"+i3)||w(e,"WPDesktop")?ru:w(e,ri)?rr:w(e,rd)||w(e,"Edg/")?rp:w(e,"FBIOS")?"Facebook "+i3:w(e,"UCWEB")||w(e,"UCBrowser")?"UC Browser":w(e,"CriOS")?ro:w(e,"CrMo")||w(e,rs)?rs:w(e,i6)&&w(e,re)?r_:w(e,"FxiOS")?rm:w(e.toLowerCase(),rT.toLowerCase())?rT:rL(e,t)?w(e,i3)?rb:re:w(e,rf)?rf:w(e,"MSIE")||w(e,"Trident/")?rl:w(e,"Gecko")?rf:""},rF={[ru]:[RegExp("rv:"+rN)],[rp]:[RegExp(rd+"?\\/"+rN)],[rs]:[RegExp("("+rs+"|CrMo)\\/"+rN)],[ro]:[RegExp("CriOS\\/"+rN)],"UC Browser":[RegExp("(UCBrowser|UCWEB)\\/"+rN)],[re]:[rI],[rb]:[rI],[rc]:[RegExp("(Opera|OPR)\\/"+rN)],[rf]:[RegExp(rf+"\\/"+rN)],[rm]:[RegExp("FxiOS\\/"+rN)],[rT]:[RegExp("Konqueror[:/]?"+rN,"i")],[rt]:[RegExp(rt+" "+rN),rI],[r_]:[RegExp("android\\s"+rN,"i")],[rr]:[RegExp(ri+"\\/"+rN)],[rl]:[RegExp("(rv:|MSIE )"+rN)],Mozilla:[RegExp("rv:"+rN)]},rB=function(e,t){var n=rF[rV(e,t)];if(O(n))return null;for(var i=0;i<n.length;i++){var r=n[i],s=e.match(r);if(s)return parseFloat(s[s.length-2])}return null},r$=[[RegExp(ry+"; "+ry+" (.*?)[);]","i"),e=>[ry,e&&e[1]||""]],[RegExp(rg,"i"),[rg,""]],[RegExp(rv,"i"),[rv,""]],[rD,[rt,""]],[RegExp(rx,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[rw,""];if(new RegExp(i3).test(t)&&!/IEMobile\b/.test(t))return[rx+" "+i3,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var i=rR[n[1]]||"";return/arm/i.test(t)&&(i="RT"),[rx,i]}return[rx,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>e&&e[3]?["iOS",[e[3],e[4],e[5]||"0"].join(".")]:["iOS",""]],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=O(e[2])?e[3]:e[2]),["watchOS",t]}],[RegExp("("+i6+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+i6+")","i"),e=>e&&e[2]?[i6,[e[2],e[3],e[4]||"0"].join(".")]:[i6,""]],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[ra,""]],[/Linux|debian/i,["Linux",""]]],rz=function(e){return rO.test(e)?rg:rA.test(e)?rv:rM.test(e)?ry:RegExp(rS,"i").test(e)?rS:RegExp("("+rw+"|WPDesktop)","i").test(e)?rw:/iPad/.test(e)?i8:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?i7:rD.test(e)?rt:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":RegExp(rk,"i").test(e)?rk:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(i3).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?i6:i5:i6:RegExp("(pda|"+i3+")","i").test(e)?rE:RegExp(i4,"i").test(e)&&!RegExp(i4+" pc","i").test(e)?rP:""},rj="https?://(.*)",rU=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],rq=en(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],rU),rH="<masked>",rW=["li_fat_id"];function rY(e,t,n){if(!h)return{};var i,r=t?en([],rU,n||[]):[],s=rG(t_(h.URL,r,rH),e);return et((i={},ee(rW,function(e){var t=tR.V(e);i[e]=t||null}),i),s)}function rG(e,t){var n=rq.concat(t||[]),i={};return ee(n,function(t){var n=ty(e,t);i[t]=n||null}),i}function rK(e){var t=e?0===e.search(rj+"google.([^/?]*)")?"google":0===e.search(rj+"bing.com")?"bing":0===e.search(rj+"yahoo.com")?"yahoo":0===e.search(rj+"duckduckgo.com")?"duckduckgo":null:null,n={};if(!L(t)){n.$search_engine=t;var i=h?ty(h.referrer,"yahoo"!=t?"q":"p"):"";i.length&&(n.ph_keyword=i)}return n}function rX(){return navigator.language||navigator.userLanguage}function rQ(){return(null==h?void 0:h.referrer)||"$direct"}function rZ(e,t){var n=e?en([],rU,t||[]):[],i=null==d?void 0:d.href.substring(0,1e3);return{r:rQ().substring(0,1e3),u:i?t_(i,n,rH):void 0}}function rJ(e){var t,{r:n,u:i}=e,r={$referrer:n,$referring_domain:null==n?void 0:"$direct"==n?"$direct":null==(t=tg(n))?void 0:t.host};if(i){r.$current_url=i;var s=tg(i);r.$host=null==s?void 0:s.host,r.$pathname=null==s?void 0:s.pathname,et(r,rG(i))}return n&&et(r,rK(n)),r}function r0(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}var r1=K("[FeatureFlags]"),r2="$active_feature_flags",r3="$override_feature_flags",r6="$feature_flag_payloads",r4="$override_feature_flag_payloads",r5="$feature_flag_request_id",r8=e=>{var t={};for(var[n,i]of ei(e||{}))i&&(t[n]=i);return t},r9=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(e=>{var n;return[e,null!==(n=t[e].variant)&&void 0!==n?n:t[e].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(e=>t[e].enabled).filter(e=>{var n;return null==(n=t[e].metadata)?void 0:n.payload}).map(e=>{var n;return[e,null==(n=t[e].metadata)?void 0:n.payload]}))):r1.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e},r7=((sX={}).FeatureFlags="feature_flags",sX.Recordings="recordings",sX);class se{constructor(e){this.ye=!1,this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.ke=!1,this.Ee=!1,this._instance=e,this.featureFlagEventHandlers=[]}flags(){if(this._instance.config.__preview_remote_config)this.ke=!0;else{var e=!this.Ie&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.Pe({disableFlags:e})}}get hasLoadedFlags(){return this.we}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var e=this._instance.get_property(eR),t=this._instance.get_property(r3),n=this._instance.get_property(r4);if(!n&&!t)return e||{};var i=et({},e||{});for(var r of[...new Set([...Object.keys(n||{}),...Object.keys(t||{})])]){var s,a,o=i[r],l=null==t?void 0:t[r],u=O(l)?null!==(s=null==o?void 0:o.enabled)&&void 0!==s&&s:!!l,c=O(l)?o.variant:"string"==typeof l?l:void 0,h=null==n?void 0:n[r],d=_({},o,{enabled:u,variant:u?null!=c?c:null==o?void 0:o.variant:void 0});u!==(null==o?void 0:o.enabled)&&(d.original_enabled=null==o?void 0:o.enabled),c!==(null==o?void 0:o.variant)&&(d.original_variant=null==o?void 0:o.variant),h&&(d.metadata=_({},null==o?void 0:o.metadata,{payload:h,original_payload:null==o||null==(a=o.metadata)?void 0:a.payload})),i[r]=d}return this.ye||(r1.warn(" Overriding feature flag details!",{flagDetails:e,overriddenPayloads:n,finalDetails:i}),this.ye=!0),i}getFlagVariants(){var e=this._instance.get_property(eO),t=this._instance.get_property(r3);if(!t)return e||{};for(var n=et({},e),i=Object.keys(t),r=0;r<i.length;r++)n[i[r]]=t[i[r]];return this.ye||(r1.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:t,finalFlags:n}),this.ye=!0),n}getFlagPayloads(){var e=this._instance.get_property(r6),t=this._instance.get_property(r4);if(!t)return e||{};for(var n=et({},e||{}),i=Object.keys(t),r=0;r<i.length;r++)n[i[r]]=t[i[r]];return this.ye||(r1.warn(" Overriding feature flag payloads!",{flagPayloads:e,overriddenPayloads:t,finalPayloads:n}),this.ye=!0),n}reloadFeatureFlags(){this.$e||this._instance.config.advanced_disable_feature_flags||this.Ie||(this.Ie=setTimeout(()=>{this.Pe()},5))}Re(){clearTimeout(this.Ie),this.Ie=void 0}ensureFlagsLoaded(){this.we||this.Se||this.Ie||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this.$e=e}Pe(e){var t;if(this.Re(),!this._instance.L()){if(this.Se)this.xe=!0;else{var n={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:_({},(null==(t=this._instance.persistence)?void 0:t.get_initial_props())||{},this._instance.get_property(eL)||{}),group_properties:this._instance.get_property(eV)};(null!=e&&e.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(n.disable_flags=!0);var i=this._instance.config.__preview_remote_config,r=this._instance.config.advanced_only_evaluate_survey_feature_flags?"&only_evaluate_survey_feature_flags=true":"",s=this._instance.requestRouter.endpointFor("api",(i?"/flags/?v=2":"/flags/?v=2&config=true")+r);i&&(n.timezone=r0()),this.Se=!0,this._instance.Te({method:"POST",url:s,data:n,compression:this._instance.config.disable_compression?void 0:tp.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,i,r,s=!0;200===e.statusCode&&(this.xe||(this.$anon_distinct_id=void 0),s=!1),this.Se=!1,this.ke||(this.ke=!0,this._instance.Ce(null!==(r=e.json)&&void 0!==r?r:{})),(!n.disable_flags||this.xe)&&((this.Ee=!s,e.json&&null!=(i=e.json.quotaLimited)&&i.includes(r7.FeatureFlags))?r1.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(n.disable_flags||this.receivedFeatureFlags(null!==(t=e.json)&&void 0!==t?t:{},s),this.xe&&(this.xe=!1,this.Pe())))}})}}}getFeatureFlag(e,t){if(void 0===t&&(t={}),this.we||this.getFlags()&&this.getFlags().length>0){var n=this.getFlagVariants()[e],i=""+n,r=this._instance.get_property(r5)||void 0,s=this._instance.get_property(e$)||{};if((t.send_event||!("send_event"in t))&&(!(e in s)||!s[e].includes(i))){N(s[e])?s[e].push(i):s[e]=[i],null==(l=this._instance.persistence)||l.register({[e$]:s});var a=this.getFeatureFlagDetails(e),o={$feature_flag:e,$feature_flag_response:n,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:r,$feature_flag_bootstrapped_response:(null==(u=this._instance.config.bootstrap)||null==(u=u.featureFlags)?void 0:u[e])||null,$feature_flag_bootstrapped_payload:(null==(c=this._instance.config.bootstrap)||null==(c=c.featureFlagPayloads)?void 0:c[e])||null,$used_bootstrap_value:!this.Ee};O(null==a||null==(h=a.metadata)?void 0:h.version)||(o.$feature_flag_version=a.metadata.version);var l,u,c,h,d,p,f,m,g,v,y=null!==(d=null==a||null==(p=a.reason)?void 0:p.description)&&void 0!==d?d:null==a||null==(f=a.reason)?void 0:f.code;y&&(o.$feature_flag_reason=y),null!=a&&null!=(m=a.metadata)&&m.id&&(o.$feature_flag_id=a.metadata.id),O(null==a?void 0:a.original_variant)&&O(null==a?void 0:a.original_enabled)||(o.$feature_flag_original_response=O(a.original_variant)?a.original_enabled:a.original_variant),null!=a&&null!=(g=a.metadata)&&g.original_payload&&(o.$feature_flag_original_payload=null==a||null==(v=a.metadata)?void 0:v.original_payload),this._instance.capture("$feature_flag_called",o)}return n}r1.warn('getFeatureFlag for key "'+e+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(e){return this.getFlagsWithDetails()[e]}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(e,t){var n=this._instance.config.token;this._instance.Te({method:"POST",url:this._instance.requestRouter.endpointFor("api","/flags/?v=2&config=true"),data:{distinct_id:this._instance.get_distinct_id(),token:n},compression:this._instance.config.disable_compression?void 0:tp.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:n=>{var i,r=null==(i=n.json)?void 0:i.featureFlagPayloads;t((null==r?void 0:r[e])||void 0)}})}isFeatureEnabled(e,t){if(void 0===t&&(t={}),this.we||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);r1.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(t=>t!==e)}receivedFeatureFlags(e,t){if(this._instance.persistence){this.we=!0;var n=this.getFlagVariants(),i=this.getFlagPayloads(),r=this.getFlagsWithDetails();!function(e,t,n,i,r){void 0===n&&(n={}),void 0===i&&(i={}),void 0===r&&(r={});var s=r9(e),a=s.flags,o=s.featureFlags,l=s.featureFlagPayloads;if(o){var u=e.requestId;if(N(o)){r1.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var c={};if(o)for(var h=0;h<o.length;h++)c[o[h]]=!0;t&&t.register({[r2]:o,[eO]:c})}else{var d=o,p=l,f=a;e.errorsWhileComputingFlags&&(d=_({},n,d),p=_({},i,p),f=_({},r,f)),t&&t.register(_({[r2]:Object.keys(r8(d)),[eO]:d||{},[r6]:p||{},[eR]:f||{}},u?{[r5]:u}:{}))}}}(e,this._instance.persistence,n,i,r),this.Me(t)}}override(e,t){void 0===t&&(t=!1),r1.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this._instance.__loaded||!this._instance.persistence)return r1.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(!1===e)return this._instance.persistence.unregister(r3),this._instance.persistence.unregister(r4),void this.Me();if(e&&"object"==typeof e&&("flags"in e||"payloads"in e)){var t;if(this.ye=!!(null!==(t=e.suppressWarning)&&void 0!==t&&t),"flags"in e){if(!1===e.flags)this._instance.persistence.unregister(r3);else if(e.flags){if(N(e.flags)){for(var n={},i=0;i<e.flags.length;i++)n[e.flags[i]]=!0;this._instance.persistence.register({[r3]:n})}else this._instance.persistence.register({[r3]:e.flags})}}return"payloads"in e&&(!1===e.payloads?this._instance.persistence.unregister(r4):e.payloads&&this._instance.persistence.register({[r4]:e.payloads})),void this.Me()}this.Me()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this.we){var{flags:t,flagVariants:n}=this.Fe();e(t,n)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t,n){var i,r=(this._instance.get_property(eD)||[]).find(t=>t.flagKey===e),s={["$feature_enrollment/"+e]:t},a={$feature_flag:e,$feature_enrollment:t,$set:s};r&&(a.$early_access_feature_name=r.name),n&&(a.$feature_enrollment_stage=n),this._instance.capture("$feature_enrollment_update",a),this.setPersonPropertiesForFlags(s,!1);var o=_({},this.getFlagVariants(),{[e]:t});null==(i=this._instance.persistence)||i.register({[r2]:Object.keys(r8(o)),[eO]:o}),this.Me()}getEarlyAccessFeatures(e,t,n){void 0===t&&(t=!1);var i=this._instance.get_property(eD),r=n?"&"+n.map(e=>"stage="+e).join("&"):"";if(i&&!t)return e(i);this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+r),method:"GET",callback:t=>{var n,i;if(t.json){var r=t.json.earlyAccessFeatures;return null==(n=this._instance.persistence)||n.unregister(eD),null==(i=this._instance.persistence)||i.register({[eD]:r}),e(r)}}})}Fe(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter(e=>t[e]),flagVariants:Object.keys(t).filter(e=>t[e]).reduce((e,n)=>(e[n]=t[n],e),{})}}Me(e){var{flags:t,flagVariants:n}=this.Fe();this.featureFlagEventHandlers.forEach(i=>i(t,n,{errorsLoading:e}))}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0);var n=this._instance.get_property(eL)||{};this._instance.register({[eL]:_({},n,e)}),t&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(eL)}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0);var n=this._instance.get_property(eV)||{};0!==Object.keys(n).length&&Object.keys(n).forEach(t=>{n[t]=_({},n[t],e[t]),delete e[t]}),this._instance.register({[eV]:_({},n,e)}),t&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this._instance.get_property(eV)||{};this._instance.register({[eV]:_({},t,{[e]:{}})})}else this._instance.unregister(eV)}reset(){this.we=!1,this.Se=!1,this.$e=!1,this.xe=!1,this.ke=!1,this.Ee=!1,this.$anon_distinct_id=void 0,this.Re(),this.ye=!1}}var st=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class sn{constructor(e,t){var n;this.A=e,this.props={},this.Oe=!1,this.Ae=(n="",e.token&&(n=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),e.persistence_name?"ph_"+e.persistence_name:"ph_"+n+"_posthog"),this.it=this.De(e),this.load(),e.debug&&G.info("Persistence loaded",e.persistence,_({},this.props)),this.update_config(e,e,t),this.save()}isDisabled(){return!!this.je}De(e){-1===st.indexOf(e.persistence.toLowerCase())&&(G.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var t=e.persistence.toLowerCase();return"localstorage"===t&&tV.G()?tV:"localstorage+cookie"===t&&tB.G()?tB:"sessionstorage"===t&&tU.G()?tU:"memory"===t?tz:"cookie"===t?tR:tB.G()?tB:tR}properties(){var e={};return ee(this.props,function(t,n){if(n===eO&&M(t))for(var i,r=Object.keys(t),s=0;s<r.length;s++)e["$feature/"+r[s]]=t[r[s]];else i=!1,(L(eX)?i:u&&eX.indexOf===u?-1!=eX.indexOf(n):(ee(eX,function(e){if(i||(i=e===n))return Z}),i))||(e[n]=t)}),e}load(){if(!this.je){var e=this.it.K(this.Ae);e&&(this.props=et({},e))}}save(){this.je||this.it.Y(this.Ae,this.props,this.Le,this.Ne,this.ze,this.A.debug)}remove(){this.it.X(this.Ae,!1),this.it.X(this.Ae,!0)}clear(){this.remove(),this.props={}}register_once(e,t,n){if(M(e)){O(t)&&(t="None"),this.Le=O(n)?this.Ue:n;var i=!1;if(ee(e,(e,n)=>{this.props.hasOwnProperty(n)&&this.props[n]!==t||(this.props[n]=e,i=!0)}),i)return this.save(),!0}return!1}register(e,t){if(M(e)){this.Le=O(t)?this.Ue:t;var n=!1;if(ee(e,(t,i)=>{e.hasOwnProperty(i)&&this.props[i]!==t&&(this.props[i]=t,n=!0)}),n)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.Oe){var e=rY(this.A.custom_campaign_params,this.A.mask_personal_data_properties,this.A.custom_personal_data_properties);A(ea(e))||this.register(e),this.Oe=!0}}update_search_keyword(){var e;this.register((e=null==h?void 0:h.referrer)?rK(e):{})}update_referrer_info(){var e;this.register_once({$referrer:rQ(),$referring_domain:null!=h&&h.referrer&&(null==(e=tg(h.referrer))?void 0:e.host)||"$direct"},void 0)}set_initial_person_info(){this.props[eq]||this.props[eH]||this.register_once({[eW]:rZ(this.A.mask_personal_data_properties,this.A.custom_personal_data_properties)},void 0)}get_initial_props(){var e={};ee([eH,eq],t=>{var n=this.props[t];n&&ee(n,function(t,n){e["$initial_"+S(n)]=t})});var t,n,i=this.props[eW];return i&&et(e,(t=rJ(i),n={},ee(t,function(e,t){n["$initial_"+S(t)]=e}),n)),e}safe_merge(e){return ee(this.props,function(t,n){n in e||(e[n]=t)}),e}update_config(e,t,n){if(this.Ue=this.Le=e.cookie_expiration,this.set_disabled(e.disable_persistence||!!n),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var i=this.De(e),r=this.props;this.clear(),this.it=i,this.props=r,this.save()}}set_disabled(e){this.je=e,this.je?this.remove():this.save()}set_cross_subdomain(e){e!==this.Ne&&(this.Ne=e,this.remove(),this.save())}set_secure(e){e!==this.ze&&(this.ze=e,this.remove(),this.save())}set_event_timer(e,t){var n=this.props[ed]||{};n[e]=t,this.props[ed]=n,this.save()}remove_event_timer(e){var t=(this.props[ed]||{})[e];return O(t)||(delete this.props[ed][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}class si{constructor(){this.qe={},this.qe={}}on(e,t){return this.qe[e]||(this.qe[e]=[]),this.qe[e].push(t),()=>{this.qe[e]=this.qe[e].filter(e=>e!==t)}}emit(e,t){for(var n of this.qe[e]||[])n(t);for(var i of this.qe["*"]||[])i(e,t)}}class sr{constructor(e){this.Be=new si,this.He=(e,t)=>this.We(e,t)&&this.Ge(e,t)&&this.Je(e,t),this.We=(e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event),this._instance=e,this.Ve=new Set,this.Ke=new Set}init(){var e,t;O(null==(e=this._instance)?void 0:e.Ye)||null==(t=this._instance)||t.Ye((e,t)=>{this.on(e,t)})}register(e){var t,n;if(!O(null==(t=this._instance)?void 0:t.Ye)&&(e.forEach(e=>{var t,n;null==(t=this.Ke)||t.add(e),null==(n=e.steps)||n.forEach(e=>{var t;null==(t=this.Ve)||t.add((null==e?void 0:e.event)||"")})}),null!=(n=this._instance)&&n.autocapture)){var i,r=new Set;e.forEach(e=>{var t;null==(t=e.steps)||t.forEach(e=>{null!=e&&e.selector&&r.add(null==e?void 0:e.selector)})}),null==(i=this._instance)||i.autocapture.setElementSelectors(r)}}on(e,t){var n;null!=t&&0!=e.length&&(this.Ve.has(e)||this.Ve.has(null==t?void 0:t.event))&&this.Ke&&(null==(n=this.Ke)?void 0:n.size)>0&&this.Ke.forEach(e=>{this.Xe(t,e)&&this.Be.emit("actionCaptured",e.name)})}Qe(e){this.onAction("actionCaptured",t=>e(t))}Xe(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var n of t.steps)if(this.He(e,n))return!0;return!1}onAction(e,t){return this.Be.on(e,t)}Ge(e,t){if(null!=t&&t.url){var n,i=null==e||null==(n=e.properties)?void 0:n.$current_url;if(!i||"string"!=typeof i||!sr.Ze(i,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||"contains"))return!1}return!0}static Ze(e,t,n){switch(n){case"regex":return!!s&&iQ(e,t);case"exact":return t===e;case"contains":return iQ(e,sr.tr(t).replace(/_/g,".").replace(/%/g,".*"));default:return!1}}static tr(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Je(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.ir(e).some(e=>!(null!=t&&t.href&&!sr.Ze(e.href||"",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||"exact"))&&(null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!sr.Ze(e.text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact")&&!sr.Ze(e.$el_text||"",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||"exact"))))return!1;if(null!=t&&t.selector){var n,i=null==e||null==(n=e.properties)?void 0:n.$element_selectors;if(!i||!i.includes(null==t?void 0:t.selector))return!1}return!0}ir(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}(sQ={}).Button="button",sQ.Tab="tab",sQ.Selector="selector",(sZ={}).TopLeft="top_left",sZ.TopRight="top_right",sZ.TopCenter="top_center",sZ.MiddleLeft="middle_left",sZ.MiddleRight="middle_right",sZ.MiddleCenter="middle_center",sZ.Left="left",sZ.Center="center",sZ.Right="right",sZ.NextToTrigger="next_to_trigger";var ss=((sJ={}).Popover="popover",sJ.API="api",sJ.Widget="widget",sJ.ExternalSurvey="external_survey",sJ),sa=((s0={}).Open="open",s0.MultipleChoice="multiple_choice",s0.SingleChoice="single_choice",s0.Rating="rating",s0.Link="link",(s1={}).NextQuestion="next_question",s1.End="end",s1.ResponseBased="response_based",s1.SpecificQuestion="specific_question",(s2={}).Once="once",s2.Recurring="recurring",s2.Always="always",(s3={}).SHOWN="survey shown",s3.DISMISSED="survey dismissed",s3.SENT="survey sent",s3),so=((s6={}).SURVEY_ID="$survey_id",s6.SURVEY_NAME="$survey_name",s6.SURVEY_RESPONSE="$survey_response",s6.SURVEY_ITERATION="$survey_iteration",s6.SURVEY_ITERATION_START_DATE="$survey_iteration_start_date",s6.SURVEY_PARTIALLY_COMPLETED="$survey_partially_completed",s6.SURVEY_SUBMISSION_ID="$survey_submission_id",s6.SURVEY_QUESTIONS="$survey_questions",s6.SURVEY_COMPLETED="$survey_completed",s6),sl=K("[Surveys]"),su="seenSurvey_",sc=(e,t)=>{var n="$survey_"+t+"/"+e.id;return e.current_iteration&&e.current_iteration>0&&(n="$survey_"+t+"/"+e.id+"/"+e.current_iteration),n},sh=e=>{var t=""+su+e.id;return e.current_iteration&&e.current_iteration>0&&(t=""+su+e.id+"_"+e.current_iteration),t},sd=[ss.Popover,ss.Widget,ss.API];class sp{constructor(e){this._instance=e,this.er=new Map,this.rr=new Map}register(e){var t;O(null==(t=this._instance)?void 0:t.Ye)||(this.sr(e),this.nr(e))}nr(e){var t=e.filter(e=>{var t,n;return(null==(t=e.conditions)?void 0:t.actions)&&(null==(n=e.conditions)||null==(n=n.actions)||null==(n=n.values)?void 0:n.length)>0});0!==t.length&&(null==this.ar&&(this.ar=new sr(this._instance),this.ar.init(),this.ar.Qe(e=>{this.onAction(e)})),t.forEach(e=>{var t,n,i,r,s;e.conditions&&null!=(t=e.conditions)&&t.actions&&null!=(n=e.conditions)&&null!=(n=n.actions)&&n.values&&(null==(i=e.conditions)||null==(i=i.actions)||null==(i=i.values)?void 0:i.length)>0&&(null==(r=this.ar)||r.register(e.conditions.actions.values),null==(s=e.conditions)||null==(s=s.actions)||null==(s=s.values)||s.forEach(t=>{if(t&&t.name){var n=this.rr.get(t.name);n&&n.push(e.id),this.rr.set(t.name,n||[e.id])}}))}))}sr(e){var t;0!==e.filter(e=>{var t,n;return(null==(t=e.conditions)?void 0:t.events)&&(null==(n=e.conditions)||null==(n=n.events)||null==(n=n.values)?void 0:n.length)>0}).length&&(null==(t=this._instance)||t.Ye((e,t)=>{this.onEvent(e,t)}),e.forEach(e=>{var t;null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||t.forEach(t=>{if(t&&t.name){var n=this.er.get(t.name);n&&n.push(e.id),this.er.set(t.name,n||[e.id])}})}))}onEvent(e,t){var n,i=(null==(n=this._instance)||null==(n=n.persistence)?void 0:n.props[eB])||[];if("survey shown"===e&&t&&i.length>0){sl.info("survey event matched, removing survey from activated surveys",{event:e,eventPayload:t,existingActivatedSurveys:i});var r,s=null==t||null==(r=t.properties)?void 0:r.$survey_id;if(s){var a=i.indexOf(s);a>=0&&(i.splice(a,1),this.lr(i))}}else this.er.has(e)&&(sl.info("survey event matched, updating activated surveys",{event:e,surveys:this.er.get(e)}),this.lr(i.concat(this.er.get(e)||[])))}onAction(e){var t,n=(null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[eB])||[];this.rr.has(e)&&this.lr(n.concat(this.rr.get(e)||[]))}lr(e){var t;null==(t=this._instance)||null==(t=t.persistence)||t.register({[eB]:[...new Set(e)]})}getSurveys(){var e;return(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[eB])||[]}getEventToSurveys(){return this.er}ur(){return this.ar}}class sf{constructor(e){this.hr=void 0,this._surveyManager=null,this.dr=!1,this.vr=!1,this.cr=[],this._instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){var t=e.surveys;if(V(t))return sl.warn("Flags not loaded yet. Not loading surveys.");var n=N(t);this.hr=n?t.length>0:t,sl.info("flags response received, isSurveysEnabled: "+this.hr),this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var e=[],t=0;t<localStorage.length;t++){var n=localStorage.key(t);(null!=n&&n.startsWith(su)||null!=n&&n.startsWith("inProgressSurvey_"))&&e.push(n)}e.forEach(e=>localStorage.removeItem(e))}loadIfEnabled(){if(!this._surveyManager){if(this.vr)sl.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)sl.info("Disabled. Not loading surveys.");else if(this._instance.config.cookieless_mode)sl.info("Not loading surveys in cookieless mode.");else{var e=null==v?void 0:v.__PosthogExtensions__;if(e){if(!O(this.hr)||this._instance.config.advanced_enable_surveys){var t=this.hr||this._instance.config.advanced_enable_surveys;this.vr=!0;try{var n=e.generateSurveys;if(n)return void this.pr(n,t);var i=e.loadExternalDependency;if(!i)return void this.gr("PostHog loadExternalDependency extension not found.");i(this._instance,"surveys",n=>{n||!e.generateSurveys?this.gr("Could not load surveys script",n):this.pr(e.generateSurveys,t)})}catch(e){throw this.gr("Error initializing surveys",e),e}finally{this.vr=!1}}}else sl.error("PostHog Extensions not found.")}}}pr(e,t){this._surveyManager=e(this._instance,t),this._surveyEventReceiver=new sp(this._instance),sl.info("Surveys loaded successfully"),this._r({isLoaded:!0})}gr(e,t){sl.error(e,t),this._r({isLoaded:!1,error:e})}onSurveysLoaded(e){return this.cr.push(e),this._surveyManager&&this._r({isLoaded:!0}),()=>{this.cr=this.cr.filter(t=>t!==e)}}getSurveys(e,t){if(void 0===t&&(t=!1),this._instance.config.disable_surveys)return sl.info("Disabled. Not loading surveys."),e([]);var n=this._instance.get_property(eF);if(n&&!t)return e(n,{isLoaded:!0});if(this.dr)return e([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.dr=!0,this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:t=>{this.dr=!1;var n=t.statusCode;if(200!==n||!t.json){var i="Surveys API could not be loaded, status: "+n;return sl.error(i),e([],{isLoaded:!1,error:i})}var r,s,a=t.json.surveys||[],o=a.filter(e=>{var t,n;return!(!e.start_date||e.end_date)&&(!(null==(t=e.conditions)||null==(t=t.events)||null==(t=t.values)||!t.length)||!(null==(n=e.conditions)||null==(n=n.actions)||null==(n=n.values)||!n.length))});return o.length>0&&(null==(s=this._surveyEventReceiver)||s.register(o)),null==(r=this._instance.persistence)||r.register({[eF]:a}),e(a,{isLoaded:!0})}})}catch(e){throw this.dr=!1,e}}_r(e){for(var t of this.cr)try{if(!e.isLoaded)return t([],e);this.getSurveys(t)}catch(e){sl.error("Error in survey callback",e)}}getActiveMatchingSurveys(e,t){if(void 0===t&&(t=!1),!V(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(e,t);sl.warn("init was not called")}mr(e){var t=null;return this.getSurveys(n=>{var i;t=null!==(i=n.find(t=>t.id===e))&&void 0!==i?i:null}),t}br(e){if(V(this._surveyManager))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var t="string"==typeof e?this.mr(e):e;return t?this._surveyManager.checkSurveyEligibility(t):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(e){if(V(this._surveyManager))return sl.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var t=this.br(e);return{visible:t.eligible,disabledReason:t.reason}}canRenderSurveyAsync(e,t){return V(this._surveyManager)?(sl.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(n=>{this.getSurveys(t=>{var i,r=null!==(i=t.find(t=>t.id===e))&&void 0!==i?i:null;if(r){var s=this.br(r);n({visible:s.eligible,disabledReason:s.reason})}else n({visible:!1,disabledReason:"Survey not found"})},t)})}renderSurvey(e,t){if(V(this._surveyManager))sl.warn("init was not called");else{var n=this.mr(e);if(n){if(sd.includes(n.type)){var i=null==h?void 0:h.querySelector(t);i?this._surveyManager.renderSurvey(n,i):sl.warn("Survey element not found")}else sl.warn("Surveys of type "+n.type+" cannot be rendered in the app")}else sl.warn("Survey not found")}}}var sm=K("[RateLimiter]");class sg{constructor(e){var t,n;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach(e=>{sm.info((e||"events")+" is quota limited."),this.serverLimits[e]=(new Date).getTime()+6e4})}catch(e){return void sm.warn('could not rate limit - continuing. Error: "'+(null==e?void 0:e.message)+'"',{text:t})}},this.instance=e,this.captureEventsPerSecond=(null==(t=e.config.rate_limiting)?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(n=e.config.rate_limiting)?void 0:n.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(e){void 0===e&&(e=!1);var t,n,i,r=(new Date).getTime(),s=null!==(t=null==(n=this.instance.persistence)?void 0:n.get_property(eU))&&void 0!==t?t:{tokens:this.captureEventsBurstLimit,last:r};s.tokens+=(r-s.last)/1e3*this.captureEventsPerSecond,s.last=r,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var a=s.tokens<1;return a||e||(s.tokens=Math.max(0,s.tokens-1)),!a||this.lastEventRateLimited||e||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,null==(i=this.instance.persistence)||i.set_property(eU,s),{isRateLimited:a,remainingTokens:s.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||"events"]||!1;return!1!==t&&(new Date).getTime()<t}}var sv=K("[RemoteConfig]");class sy{constructor(e){this._instance=e}get remoteConfig(){var e;return null==(e=v._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.config}yr(e){var t,n;null!=(t=v.__PosthogExtensions__)&&t.loadExternalDependency?null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,"remote-config",()=>e(this.remoteConfig)):(sv.error("PostHog Extensions not found. Cannot load remote config."),e())}wr(e){this._instance.Te({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return sv.info("Using preloaded remote config",this.remoteConfig),void this.Ce(this.remoteConfig);if(this._instance.L())return void sv.warn("Remote config is disabled. Falling back to local config.");this.yr(e=>{if(!e)return sv.info("No config found after loading remote JS config. Falling back to JSON."),void this.wr(e=>{this.Ce(e)});this.Ce(e)})}catch(e){sv.error("Error loading remote config",e)}}Ce(e){e?this._instance.config.__preview_remote_config?(this._instance.Ce(e),!1!==e.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):sv.info("__preview_remote_config is disabled. Logging config instead",e):sv.error("Failed to fetch remote config from PostHog.")}}class s_{constructor(e,t){this.Sr=!0,this.$r=[],this.kr=H((null==t?void 0:t.flush_interval_ms)||3e3,250,5e3,G.createLogger("flush interval"),3e3),this.Er=e}enqueue(e){this.$r.push(e),this.Ir||this.Pr()}unload(){this.Rr();var e=Object.values(this.$r.length>0?this.Tr():{});[...e.filter(e=>0===e.url.indexOf("/e")),...e.filter(e=>0!==e.url.indexOf("/e"))].map(e=>{this.Er(_({},e,{transport:"sendBeacon"}))})}enable(){this.Sr=!1,this.Pr()}Pr(){var e=this;this.Sr||(this.Ir=setTimeout(()=>{if(this.Rr(),this.$r.length>0){var t=this.Tr();for(var n in t)!function(){var i=t[n],r=(new Date).getTime();i.data&&N(i.data)&&ee(i.data,e=>{e.offset=Math.abs(e.timestamp-r),delete e.timestamp}),e.Er(i)}()}},this.kr))}Rr(){clearTimeout(this.Ir),this.Ir=void 0}Tr(){var e={};return ee(this.$r,t=>{var n,i=(t?t.batchKey:null)||t.url;O(e[i])&&(e[i]=_({},t,{data:[]})),null==(n=e[i].data)||n.push(t.data)}),this.$r=[],e}}var sb=["retriesPerformedSoFar"];class sx{constructor(e){this.Cr=!1,this.Mr=3e3,this.$r=[],this._instance=e,this.$r=[],this.Fr=!0,!O(s)&&"onLine"in s.navigator&&(this.Fr=s.navigator.onLine,eu(s,"online",()=>{this.Fr=!0,this.oe()}),eu(s,"offline",()=>{this.Fr=!1}))}get length(){return this.$r.length}retriableRequest(e){var{retriesPerformedSoFar:t}=e,n=b(e,sb);F(t)&&t>0&&(n.url=iY(n.url,{retry_count:t})),this._instance.Te(_({},n,{callback:e=>{200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.Or(_({retriesPerformedSoFar:t},n)):null==n.callback||n.callback(e)}}))}Or(e){var t,n,i,r=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=r+1;var s=(i=(Math.random()-.5)*((n=Math.min(18e5,t=3e3*Math.pow(2,r)))-t/2),Math.ceil(n+i)),a=Date.now()+s;this.$r.push({retryAt:a,requestOptions:e});var o="Enqueued failed request for retry in "+s;navigator.onLine||(o+=" (Browser is offline)"),G.warn(o),this.Cr||(this.Cr=!0,this.Ar())}Ar(){this.Dr&&clearTimeout(this.Dr),this.Dr=setTimeout(()=>{this.Fr&&this.$r.length>0&&this.oe(),this.Ar()},this.Mr)}oe(){var e=Date.now(),t=[],n=this.$r.filter(n=>n.retryAt<e||(t.push(n),!1));if(this.$r=t,n.length>0)for(var{requestOptions:i}of n)this.retriableRequest(i)}unload(){for(var{requestOptions:e}of(this.Dr&&(clearTimeout(this.Dr),this.Dr=void 0),this.$r))try{this._instance.Te(_({},e,{transport:"sendBeacon"}))}catch(e){G.error(e)}this.$r=[]}}class sw{constructor(e){this.jr=()=>{this.Lr||(this.Lr={});var e,t,n,i,r=this.scrollElement(),s=this.scrollY(),a=r?Math.max(0,r.scrollHeight-r.clientHeight):0,o=s+((null==r?void 0:r.clientHeight)||0),l=(null==r?void 0:r.scrollHeight)||0;this.Lr.lastScrollY=Math.ceil(s),this.Lr.maxScrollY=Math.max(s,null!==(e=this.Lr.maxScrollY)&&void 0!==e?e:0),this.Lr.maxScrollHeight=Math.max(a,null!==(t=this.Lr.maxScrollHeight)&&void 0!==t?t:0),this.Lr.lastContentY=o,this.Lr.maxContentY=Math.max(o,null!==(n=this.Lr.maxContentY)&&void 0!==n?n:0),this.Lr.maxContentHeight=Math.max(l,null!==(i=this.Lr.maxContentHeight)&&void 0!==i?i:0)},this._instance=e}getContext(){return this.Lr}resetContext(){var e=this.Lr;return setTimeout(this.jr,0),e}startMeasuringScrollPosition(){eu(s,"scroll",this.jr,{capture:!0}),eu(s,"scrollend",this.jr,{capture:!0}),eu(s,"resize",this.jr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==s?void 0:s.document.documentElement;for(var e of N(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector]){var t=null==s?void 0:s.document.querySelector(e);if(t)return t}}scrollY(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return s&&(s.scrollY||s.pageYOffset||s.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return s&&(s.scrollX||s.pageXOffset||s.document.documentElement.scrollLeft)||0}}var sk=e=>rZ(null==e?void 0:e.config.mask_personal_data_properties,null==e?void 0:e.config.custom_personal_data_properties);class sS{constructor(e,t,n,i){this.Nr=e=>{var t=this.zr();if(!t||t.sessionId!==e){var n={sessionId:e,props:this.Ur(this._instance)};this.qr.register({[ej]:n})}},this._instance=e,this.Br=t,this.qr=n,this.Ur=i||sk,this.Br.onSessionId(this.Nr)}zr(){return this.qr.props[ej]}getSetOnceProps(){var e,t=null==(e=this.zr())?void 0:e.props;return t?"r"in t?rJ(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return ee(ea(this.getSetOnceProps()),(t,n)=>{"$current_url"===n&&(n="url"),e["$session_entry_"+S(n)]=t}),e}}var sC=K("[SessionId]");class sE{constructor(e,t,n){if(this.Hr=[],this.Wr=(e,t)=>Math.abs(e-t)>this.sessionTimeoutMs,!e.persistence)throw Error("SessionIdManager requires a PostHogPersistence instance");if("always"===e.config.cookieless_mode)throw Error('SessionIdManager cannot be used with cookieless_mode="always"');this.A=e.config,this.qr=e.persistence,this.gi=void 0,this.Ot=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Gr=t||tM,this.Jr=n||tM;var i,r=this.A.persistence_name||this.A.token,s=this.A.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*H(s,60,36e3,sC.createLogger("session_idle_timeout_seconds"),1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Vr(),this.Kr="ph_"+r+"_window_id",this.Yr="ph_"+r+"_primary_window_exists",this.Xr()){var a=tU.K(this.Kr),o=tU.K(this.Yr);a&&!o?this.gi=a:tU.X(this.Kr),tU.Y(this.Yr,!0)}if(null!=(i=this.A.bootstrap)&&i.sessionID)try{var l=(e=>{var t=e.replace(/-/g,"");if(32!==t.length)throw Error("Not a valid UUID");if("7"!==t[12])throw Error("Not a UUIDv7");return parseInt(t.substring(0,12),16)})(this.A.bootstrap.sessionID);this.Qr(this.A.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){sC.error("Invalid sessionID in bootstrap",e)}this.Zr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return O(this.Hr)&&(this.Hr=[]),this.Hr.push(e),this.Ot&&e(this.Ot,this.gi),()=>{this.Hr=this.Hr.filter(t=>t!==e)}}Xr(){return"memory"!==this.A.persistence&&!this.qr.je&&tU.G()}ts(e){e!==this.gi&&(this.gi=e,this.Xr()&&tU.Y(this.Kr,e))}es(){return this.gi?this.gi:this.Xr()?tU.K(this.Kr):null}Qr(e,t,n){e===this.Ot&&t===this._sessionActivityTimestamp&&n===this._sessionStartTimestamp||(this._sessionStartTimestamp=n,this._sessionActivityTimestamp=t,this.Ot=e,this.qr.register({[eN]:[t,e,n]}))}rs(){if(this.Ot&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.Ot,this._sessionStartTimestamp];var e=this.qr.props[eN];return N(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this.Qr(null,null,null)}Zr(){eu(s,"beforeunload",()=>{this.Xr()&&tU.X(this.Yr)},{capture:!1})}checkAndGetSessionAndWindowId(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=null),"always"===this.A.cookieless_mode)throw Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode="always"');var n=t||(new Date).getTime(),[i,r,s]=this.rs(),a=this.es(),o=F(s)&&s>0&&Math.abs(n-s)>864e5,l=!1,u=!r,c=!e&&this.Wr(n,i);u||c||o?(r=this.Gr(),a=this.Jr(),sC.info("new session ID generated",{sessionId:r,windowId:a,changeReason:{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:o}}),s=n,l=!0):a||(a=this.Jr(),l=!0);var h=0===i||!e||o?n:i,d=0===s?(new Date).getTime():s;return this.ts(a),this.Qr(r,h,d),e||this.Vr(),l&&this.Hr.forEach(e=>e(r,a,l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:o}:void 0)),{sessionId:r,windowId:a,sessionStartTimestamp:d,changeReason:l?{noSessionId:u,activityTimeout:c,sessionPastMaximumLength:o}:void 0,lastActivityTimestamp:i}}Vr(){clearTimeout(this.ss),this.ss=setTimeout(()=>{var[e]=this.rs();this.Wr((new Date).getTime(),e)&&this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var sP=["$set_once","$set"],sT=K("[SiteApps]");class sN{constructor(e){this._instance=e,this.ns=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}os(e,t){if(t){var n=this.globalsForEvent(t);this.ns.push(n),this.ns.length>1e3&&(this.ns=this.ns.slice(10))}}get siteAppLoaders(){var e;return null==(e=v._POSTHOG_REMOTE_CONFIG)||null==(e=e[this._instance.config.token])?void 0:e.siteApps}init(){if(this.isEnabled){var e=this._instance.Ye(this.os.bind(this));this.ls=()=>{e(),this.ns=[],this.ls=void 0}}}globalsForEvent(e){if(!e)throw Error("Event payload is required");var t,n,i,r,s,a,o,l={},u=this._instance.get_property("$groups")||[];for(var[c,h]of Object.entries(this._instance.get_property("$stored_group_properties")||{}))l[c]={id:u[c],type:c,properties:h};var{$set_once:d,$set:p}=e;return{event:_({},b(e,sP),{properties:_({},e.properties,p?{$set:_({},null!==(t=null==(n=e.properties)?void 0:n.$set)&&void 0!==t?t:{},p)}:{},d?{$set_once:_({},null!==(i=null==(r=e.properties)?void 0:r.$set_once)&&void 0!==i?i:{},d)}:{}),elements_chain:null!==(s=null==(a=e.properties)?void 0:a.$elements_chain)&&void 0!==s?s:"",distinct_id:null==(o=e.properties)?void 0:o.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],n=()=>{var n;!t.errored&&this.ns.length&&(sT.info("Processing "+this.ns.length+" events for site app with id "+e.id),this.ns.forEach(e=>null==t.processEvent?void 0:t.processEvent(e)),t.processedBuffer=!0),Object.values(this.apps).every(e=>e.processedBuffer||e.errored)&&(null==(n=this.ls)||n.call(this))},i=!1,r=r=>{t.errored=!r,t.loaded=!0,sT.info("Site app with id "+e.id+" "+(r?"loaded":"errored")),i&&n()};try{var{processEvent:s}=e.init({posthog:this._instance,callback:e=>{r(e)}});s&&(t.processEvent=s),i=!0}catch(t){sT.error("Error while initializing PostHog app with config id "+e.id,t),r(!1)}if(i&&t.loaded)try{n()}catch(n){sT.error("Error while processing buffered events PostHog app with config id "+e.id,n),t.errored=!0}}us(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var n of e)this.setupSiteApp(n)}hs(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var n of Object.values(this.apps))try{null==n.processEvent||n.processEvent(t)}catch(t){sT.error("Error while processing event "+e.event+" for site app "+n.id,t)}}}onRemoteConfig(e){var t,n,i,r=this;if(null!=(t=this.siteAppLoaders)&&t.length)return this.isEnabled?(this.us(),void this._instance.on("eventCaptured",e=>this.hs(e))):void sT.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if(null==(n=this.ls)||n.call(this),null!=(i=e.siteApps)&&i.length){if(this.isEnabled){var s=function(e){var t;v["__$$ph_site_app_"+e]=r._instance,null==(t=v.__PosthogExtensions__)||null==t.loadSiteApp||t.loadSiteApp(r._instance,o,t=>{if(t)return sT.error("Error while initializing PostHog app with config id "+e,t)})};for(var{id:a,url:o}of e.siteApps)s(a)}else sT.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}}var sI=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","leikibot","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercel-screenshot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleother","google-cloudvertexbot","googleweblight","mediapartners-google","storebot-google","google-inspectiontool","bytespider"],sM=function(e,t){if(!e)return!1;var n=e.toLowerCase();return sI.concat(t||[]).some(e=>{var t=e.toLowerCase();return -1!==n.indexOf(t)})},sA=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&sM(n,t))return!0;try{var i=null==e?void 0:e.userAgentData;if(null!=i&&i.brands&&i.brands.some(e=>sM(null==e?void 0:e.brand,t)))return!0}catch(e){}return!!e.webdriver},sO=((s4={}).US="us",s4.EU="eu",s4.CUSTOM="custom",s4),sD="i.posthog.com";class sR{constructor(e){this.ds={},this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\/$/,"");return"https://app.posthog.com"===e?"https://us.i.posthog.com":e}get uiHost(){var e,t=null==(e=this.instance.config.ui_host)?void 0:e.replace(/\/$/,"");return t||(t=this.apiHost.replace("."+sD,".posthog.com")),"https://app.posthog.com"===t?"https://us.posthog.com":t}get region(){return this.ds[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ds[this.apiHost]=sO.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.ds[this.apiHost]=sO.EU:this.ds[this.apiHost]=sO.CUSTOM),this.ds[this.apiHost]}endpointFor(e,t){if(void 0===t&&(t=""),t&&(t="/"===t[0]?t:"/"+t),"ui"===e)return this.uiHost+t;if(this.region===sO.CUSTOM)return this.apiHost+t;var n=sD+t;switch(e){case"assets":return"https://"+this.region+"-assets."+n;case"api":return"https://"+this.region+"."+n}}}var sL={icontains:(e,t)=>!!s&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!s&&-1===t.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,t)=>!!s&&iQ(t.href,e),not_regex:(e,t)=>!!s&&!iQ(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class sV{constructor(e){var t=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(e){void 0===e&&(e=!1),t.getWebExperiments(e=>{sV.vs("retrieved web experiments from the server"),t.cs=new Map,e.forEach(e=>{if(e.feature_flag_key){t.cs&&(sV.vs("setting flag key ",e.feature_flag_key," to web experiment ",e),null==(n=t.cs)||n.set(e.feature_flag_key,e));var n,i=t._instance.getFeatureFlag(e.feature_flag_key);D(i)&&e.variants[i]&&t.fs(e.name,i,e.variants[i].transforms)}else if(e.variants)for(var r in e.variants){var s=e.variants[r];sV.ps(s)&&t.fs(e.name,r,s.transforms)}})},e)},this._instance=e,this._instance.onFeatureFlags(e=>{this.onFeatureFlags(e)})}onFeatureFlags(e){if(this._is_bot())sV.vs("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(V(this.cs))return this.cs=new Map,this.loadIfEnabled(),void this.previewWebExperiment();sV.vs("applying feature flags",e),e.forEach(e=>{var t;if(this.cs&&null!=(t=this.cs)&&t.has(e)){var n,i=this._instance.getFeatureFlag(e),r=null==(n=this.cs)?void 0:n.get(e);i&&null!=r&&r.variants[i]&&this.fs(r.name,i,r.variants[i].transforms)}})}}previewWebExperiment(){var e=sV.getWindowLocation();if(null!=e&&e.search){var t=ty(null==e?void 0:e.search,"__experiment_id"),n=ty(null==e?void 0:e.search,"__experiment_variant");t&&n&&(sV.vs("previewing web experiments "+t+" && "+n),this.getWebExperiments(e=>{this.gs(parseInt(t),n,e)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,n){if(this._instance.config.disable_web_experiments&&!n)return e([]);var i=this._instance.get_property("$web_experiments");if(i&&!t)return e(i);this._instance.Te({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:t=>200===t.statusCode&&t.json?e(t.json.experiments||[]):e([])})}gs(e,t,n){var i=n.filter(t=>t.id===e);i&&i.length>0&&(sV.vs("Previewing web experiment ["+i[0].name+"] with variant ["+t+"]"),this.fs(i[0].name,t,i[0].variants[t].transforms))}static ps(e){return!V(e.conditions)&&sV._s(e)&&sV.bs(e)}static _s(e){if(V(e.conditions)||V(null==(t=e.conditions)?void 0:t.url))return!0;var t,n,i,r,s=sV.getWindowLocation();return!!s&&(null==(n=e.conditions)||!n.url||sL[null!==(i=null==(r=e.conditions)?void 0:r.urlMatchType)&&void 0!==i?i:"icontains"](e.conditions.url,s))}static getWindowLocation(){return null==s?void 0:s.location}static bs(e){if(V(e.conditions)||V(null==(n=e.conditions)?void 0:n.utm))return!0;var t=rY();if(t.utm_source){var n,i,r,s,a,o,l,u,c,h=null==(i=e.conditions)||null==(i=i.utm)||!i.utm_campaign||(null==(r=e.conditions)||null==(r=r.utm)?void 0:r.utm_campaign)==t.utm_campaign,d=null==(s=e.conditions)||null==(s=s.utm)||!s.utm_source||(null==(a=e.conditions)||null==(a=a.utm)?void 0:a.utm_source)==t.utm_source,p=null==(o=e.conditions)||null==(o=o.utm)||!o.utm_medium||(null==(l=e.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==t.utm_medium,f=null==(u=e.conditions)||null==(u=u.utm)||!u.utm_term||(null==(c=e.conditions)||null==(c=c.utm)?void 0:c.utm_term)==t.utm_term;return h&&p&&f&&d}return!1}static vs(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];G.info("[WebExperiments] "+e,n)}fs(e,t,n){this._is_bot()?sV.vs("Refusing to render web experiment since the viewer is a likely bot"):"control"!==t?n.forEach(n=>{if(n.selector){sV.vs("applying transform of variant "+t+" for experiment "+e+" ",n);var i,r=null==(i=document)?void 0:i.querySelectorAll(n.selector);null==r||r.forEach(e=>{n.html&&(e.innerHTML=n.html),n.css&&e.setAttribute("style",n.css)})}}):sV.vs("Control variants leave the page unmodified.")}_is_bot(){return c&&this._instance?sA(c,this._instance.config.custom_blocked_useragents):void 0}}var sF=K("[PostHog ExternalIntegrations]"),sB={intercom:"intercom-integration",crispChat:"crisp-chat-integration"};class s${constructor(e){this._instance=e}nt(e,t){var n;null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this._instance,e,e=>{if(e)return sF.error("failed to load script",e);t()})}startIfEnabledOrStop(){var e,t=this,n=function(e){var n,i,s;!r||null!=(n=v.__PosthogExtensions__)&&null!=(n=n.integrations)&&n[e]||t.nt(sB[e],()=>{var n;null==(n=v.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[e])||n.start(t._instance)}),!r&&null!=(i=v.__PosthogExtensions__)&&null!=(i=i.integrations)&&i[e]&&(null==(s=v.__PosthogExtensions__)||null==(s=s.integrations)||null==(s=s[e])||s.stop())};for(var[i,r]of Object.entries(null!==(e=this._instance.config.integrations)&&void 0!==e?e:{}))n(i)}}var sz={},sj=()=>{},sU="posthog",sq=!iH&&-1===(null==g?void 0:g.indexOf("MSIE"))&&-1===(null==g?void 0:g.indexOf("Mozilla")),sH=e=>{var t;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:function(e){var t=null==e?void 0:e.hostname;if(!D(t))return!1;var n=t.split(".").slice(-2).join(".");for(var i of eo)if(n===i)return!1;return!0}(null==h?void 0:h.location),persistence:"localStorage+cookie",persistence_name:"",loaded:sj,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:"2025-05-24"!==e||"history_change",capture_pageleave:"if_capture_pageview",defaults:null!=e?e:"unset",debug:d&&D(null==d?void 0:d.search)&&-1!==d.search.indexOf("__posthog_debug=true")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:"https:"===(null==s||null==(t=s.location)?void 0:t.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t="Bad HTTP status: "+e.statusCode+" "+e.text;G.error(t)},get_device_id:e=>e,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:3e3},error_tracking:{},_onCapture:sj}},sW=e=>{var t={};O(e.process_person)||(t.person_profiles=e.process_person),O(e.xhr_headers)||(t.request_headers=e.xhr_headers),O(e.cookie_name)||(t.persistence_name=e.cookie_name),O(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),O(e.store_google)||(t.save_campaign_params=e.store_google),O(e.verbose)||(t.debug=e.verbose);var n=et({},t,e);return N(e.property_blacklist)&&(O(e.property_denylist)?n.property_denylist=e.property_blacklist:N(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:G.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class sY{constructor(){this.__forceAllowLocalhost=!1}get ys(){return this.__forceAllowLocalhost}set ys(e){G.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}class sG{get decideEndpointWasHit(){var e,t;return null!==(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&void 0!==e&&e}get flagsEndpointWasHit(){var e,t;return null!==(e=null==(t=this.featureFlags)?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){this.webPerformance=new sY,this.ws=!1,this.version=y.LIB_VERSION,this.Ss=new si,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=sH(),this.SentryIntegration=iI,this.sentryIntegration=e=>{var t;return t=iN(this,e),{name:iT,processEvent:e=>t(e)}},this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.$s=!1,this.xs=null,this.ks=null,this.Es=null,this.featureFlags=new se(this),this.toolbar=new iR(this),this.scrollManager=new sw(this),this.pageViewManager=new iU(this),this.surveys=new sf(this),this.experiments=new sV(this),this.exceptions=new i2(this),this.rateLimiter=new sg(this),this.requestRouter=new sR(this),this.consent=new tH(this),this.externalIntegrations=new s$(this),this.people={set:(e,t,n)=>{var i=D(e)?{[e]:t}:e;this.setPersonProperties(i),null==n||n({})},set_once:(e,t,n)=>{var i=D(e)?{[e]:t}:e;this.setPersonProperties(void 0,i),null==n||n({})}},this.on("eventCaptured",e=>G.info('send "'+(null==e?void 0:e.event)+'"',e))}init(e,t,n){if(n&&n!==sU){var i,r=null!==(i=sz[n])&&void 0!==i?i:new sG;return r._init(e,t,n),sz[n]=r,sz[sU][n]=r,r}return this._init(e,t,n)}_init(e,t,n){if(void 0===t&&(t={}),O(e)||R(e))return G.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return G.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.Is=t,this.Ps=[],t.person_profiles&&(this.ks=t.person_profiles),this.set_config(et({},sH(t.defaults),sW(t),{name:n,token:e})),this.config.on_xhr_error&&G.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=t.disable_compression?void 0:tp.GZipJS;var i=this.Rs();this.persistence=new sn(this.config,i),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new sn(_({},this.config,{persistence:"sessionStorage"}),i);var r=_({},this.persistence.props),a=_({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Ts=new s_(e=>this.Cs(e),this.config.request_queue_config),this.Ms=new sx(this),this.__request_queue=[];var o="always"===this.config.cookieless_mode||"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(o||(this.sessionManager=new sE(this),this.sessionPropsManager=new sS(this,this.sessionManager,this.persistence)),new iV(this).startIfEnabledOrStop(),this.siteApps=new sN(this),null==(l=this.siteApps)||l.init(),o||(this.sessionRecording=new iE(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new tk(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new ij(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new iB(this),this.exceptionObserver=new tQ(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new tK(this,tG),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new nd(this),this.historyAutocapture.startIfEnabled(),y.DEBUG=y.DEBUG||this.config.debug,y.DEBUG&&G.info("Starting in debug mode",{this:this,config:t,thisC:_({},this.config),p:r,s:a}),void 0!==(null==(u=t.bootstrap)?void 0:u.distinctID)){var l,u,c,h,d=this.config.get_device_id(tM()),p=null!=(c=t.bootstrap)&&c.isIdentifiedID?d:t.bootstrap.distinctID;this.persistence.set_property(ez,null!=(h=t.bootstrap)&&h.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:t.bootstrap.distinctID,$device_id:p})}if(this.Fs()){var f,m,g=Object.keys((null==(f=t.bootstrap)?void 0:f.featureFlags)||{}).filter(e=>{var n;return!(null==(n=t.bootstrap)||null==(n=n.featureFlags)||!n[e])}).reduce((e,n)=>{var i;return e[n]=(null==(i=t.bootstrap)||null==(i=i.featureFlags)?void 0:i[n])||!1,e},{}),v=Object.keys((null==(m=t.bootstrap)?void 0:m.featureFlagPayloads)||{}).filter(e=>g[e]).reduce((e,n)=>{var i,r;return null!=(i=t.bootstrap)&&null!=(i=i.featureFlagPayloads)&&i[n]&&(e[n]=null==(r=t.bootstrap)||null==(r=r.featureFlagPayloads)?void 0:r[n]),e},{});this.featureFlags.receivedFeatureFlags({featureFlags:g,featureFlagPayloads:v})}if(o)this.register_once({distinct_id:eK,$device_id:null},"");else if(!this.get_distinct_id()){var b=this.config.get_device_id(tM());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_property(ez,"anonymous")}return eu(s,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),t.segment?function(e,t){var n=e.config.segment;if(!n)return t();!function(e,t){var n=e.config.segment;if(!n)return t();var i=n=>{var i=()=>n.anonymousId()||tM();e.config.get_device_id=i,n.id()&&(e.register({distinct_id:n.id(),$device_id:i()}),e.persistence.set_property(ez,"identified")),t()},r=n.user();"then"in r&&I(r.then)?r.then(e=>i(e)):i(r)}(e,()=>{var i;n.register((Promise&&Promise.resolve||iP.warn("This browser does not have Promise support, and can not use the segment integration"),i=(t,n)=>{if(!n)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(iP.info("No userId set, resetting PostHog"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(iP.info("UserId set, identifying with PostHog"),e.identify(t.event.userId));var i=e.calculateEventProperties(n,t.event.properties);return t.event.properties=Object.assign({},i,t.event.properties),t},{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>i(e,e.event.event),page:e=>i(e,"$pageview"),identify:e=>i(e,"$identify"),screen:e=>i(e,"$screen")})).then(()=>{t()})})}(this,()=>this.Os()):this.Os(),I(this.config._onCapture)&&this.config._onCapture!==sj&&(G.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",e=>this.config._onCapture(e.event,e))),this.config.ip&&G.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or "Discard IP data" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ce(e){var t,n,i,r,s,a,o,l;if(!h||!h.body)return G.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.Ce(e)},500);this.compression=void 0,e.supportedCompression&&!this.config.disable_compression&&(this.compression=w(e.supportedCompression,tp.GZipJS)?tp.GZipJS:w(e.supportedCompression,tp.Base64)?tp.Base64:void 0),null!=(t=e.analytics)&&t.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),this.set_config({person_profiles:this.ks?this.ks:"identified_only"}),null==(n=this.siteApps)||n.onRemoteConfig(e),null==(i=this.sessionRecording)||i.onRemoteConfig(e),null==(r=this.autocapture)||r.onRemoteConfig(e),null==(s=this.heatmaps)||s.onRemoteConfig(e),this.surveys.onRemoteConfig(e),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(e),null==(o=this.exceptionObserver)||o.onRemoteConfig(e),this.exceptions.onRemoteConfig(e),null==(l=this.deadClicksAutocapture)||l.onRemoteConfig(e)}Os(){try{this.config.loaded(this)}catch(e){G.critical("`loaded` function failed",e)}this.As(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Ds()},1),new sy(this).load(),this.featureFlags.flags()}As(){var e;this.is_capturing()&&this.config.request_batching&&(null==(e=this.Ts)||e.enable())}_dom_loaded(){this.is_capturing()&&J(this.__request_queue,e=>this.Cs(e)),this.__request_queue=[],this.As()}_handle_unload(){var e,t;this.config.request_batching?(this.js()&&this.capture("$pageleave"),null==(e=this.Ts)||e.unload(),null==(t=this.Ms)||t.unload()):this.js()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}Te(e){this.__loaded&&(sq?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=iY(e.url,{ip:this.config.ip?1:0}),e.headers=_({},this.config.request_headers),e.compression="best-available"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,n,i,r=_({},e);r.timeout=r.timeout||6e4,r.url=iY(r.url,{_:(new Date).getTime().toString(),ver:y.LIB_VERSION,compression:r.compression});var s=null!==(t=r.transport)&&void 0!==t?t:"fetch",a=null!==(n=null==(i=el(iX,e=>e.transport===s))?void 0:i.method)&&void 0!==n?n:iX[0].method;if(!a)throw Error("No available transport method");a(r)})(_({},e,{callback:t=>{var n,i;this.rateLimiter.checkForLimiting(t),t.statusCode>=400&&(null==(n=(i=this.config).on_request_error)||n.call(i,t)),null==e.callback||e.callback(t)}}))))}Cs(e){this.Ms?this.Ms.retriableRequest(e):this.Te(e)}_execute_array(e){var t,n=[],i=[],r=[];J(e,e=>{e&&(N(t=e[0])?r.push(e):I(e)?e.call(this):N(e)&&"alias"===t?n.push(e):N(e)&&-1!==t.indexOf("capture")&&I(this[t])?r.push(e):i.push(e))});var s=function(e,t){J(e,function(e){if(N(e[0])){var n=t;ee(e,function(e){n=n[e[0]].apply(n,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};s(n,this),s(i,this),s(r,this)}Fs(){var e,t;return(null==(e=this.config.bootstrap)?void 0:e.featureFlags)&&Object.keys(null==(t=this.config.bootstrap)?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,n){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Ts){if(this.is_capturing()){if(!O(e)&&D(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var r=null!=n&&n.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==r||!r.isRateLimited){null!=t&&t.$current_url&&!D(null==t?void 0:t.$current_url)&&(G.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),null==t||delete t.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s,a,o,l,u=new Date,c=(null==n?void 0:n.timestamp)||u,h=tM(),d={uuid:h,event:e,properties:this.calculateEventProperties(e,t||{},c,h)};r&&(d.properties.$lib_rate_limit_remaining_tokens=r.remainingTokens),(null==n?void 0:n.$set)&&(d.$set=null==n?void 0:n.$set);var p,f=this.Ls(null==n?void 0:n.$set_once);if(f&&(d.$set_once=f),(s=d,a=null!=n&&n._noTruncate?null:this.config.properties_string_max_length,o=e=>D(e)&&!L(a)?e.slice(0,a):e,l=new Set,d=function e(t,n){var i;return t!==Object(t)?o?o(t,n):t:l.has(t)?void 0:(l.add(t),N(t)?(i=[],J(t,t=>{i.push(e(t))})):(i={},ee(t,(t,n)=>{l.has(t)||(i[n]=e(t,n))})),i)}(s)).timestamp=c,O(null==n?void 0:n.timestamp)||(d.properties.$event_time_override_provided=!0,d.properties.$event_time_override_system_time=u),e===sa.DISMISSED||e===sa.SENT){var m=null==t?void 0:t[so.SURVEY_ID],g=null==t?void 0:t[so.SURVEY_ITERATION];p={id:m,current_iteration:g},localStorage.getItem(sh(p))||localStorage.setItem(sh(p),"true"),d.$set=_({},d.$set,{[sc({id:m,current_iteration:g},e===sa.SENT?"responded":"dismissed")]:!0})}var v=_({},d.properties.$set,d.$set);if(A(v)||this.setPersonPropertiesForFlags(v),!V(this.config.before_send)){var y=this.Ns(d);if(!y)return;d=y}this.Ss.emit("eventCaptured",d);var b={method:"POST",url:null!==(i=null==n?void 0:n._url)&&void 0!==i?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:d,compression:"best-available",batchKey:null==n?void 0:n._batchKey};return!this.config.request_batching||n&&(null==n||!n._batchKey)||null!=n&&n.send_instantly?this.Cs(b):this.Ts.enqueue(b),d}G.critical("This capture call is ignored due to client rate limiting.")}}else G.error("No event name provided to posthog.capture")}}else G.uninitializedWarning("posthog.capture")}Ye(e){return this.on("eventCaptured",t=>e(t.event,t))}calculateEventProperties(e,t,n,i,r){if(n=n||new Date,!this.persistence||!this.sessionPersistence)return t;var a,o=r?void 0:this.persistence.remove_event_timer(e),l=_({},t);if(l.token=this.config.token,l.$config_defaults=this.config.defaults,("always"==this.config.cookieless_mode||"on_reject"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(l.$cookieless_mode=!0),"$snapshot"===e){var u=_({},this.persistence.properties(),this.sessionPersistence.properties());return l.distinct_id=u.distinct_id,(!D(l.distinct_id)&&!F(l.distinct_id)||R(l.distinct_id))&&G.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),l}var c,p=function(e,t){if(!g)return{};var n,i,r=e?en([],rU,t||[]):[],[a,o]=function(e){for(var t=0;t<r$.length;t++){var[n,i]=r$[t],r=n.exec(e),s=r&&(I(i)?i(r,e):i);if(s)return s}return["",""]}(g);return et(ea({$os:a,$os_version:o,$browser:rV(g,navigator.vendor),$device:rz(g),$device_type:(i=rz(g))===i8||i===i5||"Kobo"===i||"Kindle Fire"===i||i===rP?i4:i===rg||i===ry||i===rv||i===rS?"Console":i===i7?"Wearable":i?i3:"Desktop",$timezone:r0(),$timezone_offset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}}()}),{$current_url:t_(null==d?void 0:d.href,r,rH),$host:null==d?void 0:d.host,$pathname:null==d?void 0:d.pathname,$raw_user_agent:g.length>1e3?g.substring(0,997)+"...":g,$browser_version:rB(g,navigator.vendor),$browser_language:rX(),$browser_language_prefix:"string"==typeof(n=rX())?n.split("-")[0]:void 0,$screen_height:null==s?void 0:s.screen.height,$screen_width:null==s?void 0:s.screen.width,$viewport_height:null==s?void 0:s.innerHeight,$viewport_width:null==s?void 0:s.innerWidth,$lib:"web",$lib_version:y.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:f,windowId:m}=this.sessionManager.checkAndGetSessionAndWindowId(r,n.getTime());l.$session_id=f,l.$window_id=m}this.sessionPropsManager&&et(l,this.sessionPropsManager.getSessionProps());try{this.sessionRecording&&et(l,this.sessionRecording.sdkDebugProperties),l.$sdk_debug_retry_queue_size=null==(a=this.Ms)?void 0:a.length}catch(e){l.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===sO.CUSTOM&&(l.$lib_custom_api_host=this.config.api_host),c="$pageview"!==e||r?"$pageleave"!==e||r?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(n):this.pageViewManager.doPageView(n,i),l=et(l,c),"$pageview"===e&&h&&(l.title=h.title),!O(o)){var v=n.getTime()-o;l.$duration=parseFloat((v/1e3).toFixed(3))}g&&this.config.opt_out_useragent_filter&&(l.$browser_type=this._is_bot()?"bot":"browser"),(l=et({},p,this.persistence.properties(),this.sessionPersistence.properties(),l)).$is_identified=this._isIdentified(),N(this.config.property_denylist)?ee(this.config.property_denylist,function(e){delete l[e]}):G.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var b=this.config.sanitize_properties;b&&(G.error("sanitize_properties is deprecated. Use before_send instead"),l=b(l,e));var x=this.zs();return l.$process_person_profile=x,x&&!r&&this.Us("_calculate_event_properties"),l}Ls(e){if(!this.persistence||!this.zs()||this.ws)return e;var t,n=et({},this.persistence.get_initial_props(),(null==(t=this.sessionPropsManager)?void 0:t.getSetOnceProps())||{},e||{}),i=this.config.sanitize_properties;return i&&(G.error("sanitize_properties is deprecated. Use before_send instead"),n=i(n,"$set_once")),this.ws=!0,A(n)?void 0:n}register(e,t){var n;null==(n=this.persistence)||n.register(e,t)}register_once(e,t,n){var i;null==(i=this.persistence)||i.register_once(e,t,n)}register_for_session(e){var t;null==(t=this.sessionPersistence)||t.register(e)}unregister(e){var t;null==(t=this.persistence)||t.unregister(e)}unregister_for_session(e){var t;null==(t=this.sessionPersistence)||t.unregister(e)}qs(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t,n)}getEarlyAccessFeatures(e,t,n){return void 0===t&&(t=!1),this.featureFlags.getEarlyAccessFeatures(e,t,n)}on(e,t){return this.Ss.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSurveysLoaded(e){return this.surveys.onSurveysLoaded(e)}onSessionId(e){var t,n;return null!==(t=null==(n=this.sessionManager)?void 0:n.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e,t){void 0===t&&(t=!1),this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e,t){void 0===t&&(t=!1),this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){return this.surveys.canRenderSurvey(e)}canRenderSurveyAsync(e,t){return void 0===t&&(t=!1),this.surveys.canRenderSurveyAsync(e,t)}identify(e,t,n){if(!this.__loaded||!this.persistence)return G.uninitializedWarning("posthog.identify");if(F(e)&&(e=e.toString(),G.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),e){if(["distinct_id","distinctid"].includes(e.toLowerCase()))G.critical('The string "'+e+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(e!==eK){if(this.Us("posthog.identify")){var i=this.get_distinct_id();this.register({$user_id:e}),this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:i},""),e!==i&&e!==this.get_property(eh)&&(this.unregister(eh),this.register({distinct_id:e}));var r="anonymous"===(this.persistence.get_property(ez)||"anonymous");e!==i&&r?(this.persistence.set_property(ez,"identified"),this.setPersonPropertiesForFlags(_({},n||{},t||{}),!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:t||{},$set_once:n||{}}),this.Es=iZ(e,t,n),this.featureFlags.setAnonymousDistinctId(i)):(t||n)&&this.setPersonProperties(t,n),e!==i&&(this.reloadFeatureFlags(),this.unregister(e$))}}else G.critical('The string "'+eK+'" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.')}else G.error("Unique user id has not been set in posthog.identify")}setPersonProperties(e,t){if((e||t)&&this.Us("posthog.setPersonProperties")){var n=iZ(this.get_distinct_id(),e,t);this.Es!==n?(this.setPersonPropertiesForFlags(_({},t||{},e||{})),this.capture("$set",{$set:e||{},$set_once:t||{}}),this.Es=n):G.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(e,t,n){if(e&&t){if(this.Us("posthog.group")){var i=this.getGroups();i[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:_({},i,{[e]:t})}),n&&(this.capture("$groupidentify",{$group_type:e,$group_key:t,$group_set:n}),this.setGroupPropertiesForFlags({[e]:n})),i[e]===t||n||this.reloadFeatureFlags()}}else G.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e,t){void 0===t&&(t=!0),this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e,t){void 0===t&&(t=!0),this.Us("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){if(G.info("reset"),!this.__loaded)return G.uninitializedWarning("posthog.reset");var t,n,i,r,s=this.get_property("$device_id");if(this.consent.reset(),null==(t=this.persistence)||t.clear(),null==(n=this.sessionPersistence)||n.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(i=this.persistence)||i.set_property(ez,"anonymous"),null==(r=this.sessionManager)||r.resetSessionId(),this.Es=null,"always"===this.config.cookieless_mode)this.register_once({distinct_id:eK,$device_id:null},"");else{var a=this.config.get_device_id(tM());this.register_once({distinct_id:a,$device_id:e?a:s},"")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var e,t;return null!==(e=null==(t=this.sessionManager)?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:""}get_session_replay_url(e){if(!this.sessionManager)return"";var{sessionId:t,sessionStartTimestamp:n}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+t);if(null!=e&&e.withTimestamp&&n){var r,s=null!==(r=e.timestampLookBack)&&void 0!==r?r:10;if(!n)return i;i+="?t="+Math.max(Math.floor(((new Date).getTime()-n)/1e3)-s,0)}return i}alias(e,t){return e===this.get_property(ec)?(G.critical("Attempting to create alias for existing People user - aborting."),-2):this.Us("posthog.alias")?(O(t)&&(t=this.get_distinct_id()),e!==t?(this.qs(eh,e),this.capture("$create_alias",{alias:e,distinct_id:t})):(G.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1)):void 0}set_config(e){var t=_({},this.config);if(M(e)){et(this.config,sW(e));var n,i,r,s,a,o=this.Rs();null==(n=this.persistence)||n.update_config(this.config,t,o),this.sessionPersistence="sessionStorage"===this.config.persistence||"memory"===this.config.persistence?this.persistence:new sn(_({},this.config,{persistence:"sessionStorage"}),o),tV.G()&&"true"===tV.V("ph_debug")&&(this.config.debug=!0),this.config.debug&&(y.DEBUG=!0,G.info("set_config",{config:e,oldConfig:t,newConfig:_({},this.config)})),null==(i=this.sessionRecording)||i.startIfEnabledOrStop(),null==(r=this.autocapture)||r.startIfEnabled(),null==(s=this.heatmaps)||s.startIfEnabled(),this.surveys.loadIfEnabled(),this.Bs(),null==(a=this.externalIntegrations)||a.startIfEnabledOrStop()}}startSessionRecording(e){var t,n,i,r,s,a=!0===e,o={sampling:a||!(null==e||!e.sampling),linked_flag:a||!(null==e||!e.linked_flag),url_trigger:a||!(null==e||!e.url_trigger),event_trigger:a||!(null==e||!e.event_trigger)};Object.values(o).some(Boolean)&&(null==(t=this.sessionManager)||t.checkAndGetSessionAndWindowId(),o.sampling&&(null==(n=this.sessionRecording)||n.overrideSampling()),o.linked_flag&&(null==(i=this.sessionRecording)||i.overrideLinkedFlag()),o.url_trigger&&(null==(r=this.sessionRecording)||r.overrideTrigger("url")),o.event_trigger&&(null==(s=this.sessionRecording)||s.overrideTrigger("event"))),this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null==(e=this.sessionRecording)||!e.started)}captureException(e,t){var n=Error("PostHog syntheticException");return this.exceptions.sendExceptionEvent(_({},function(e,t){var{error:n,event:i}=e,r={$exception_list:[]},s=n||i;if(t2(s)||t1(s,"DOMException")){if("stack"in s)r=nu(s,t);else{var a=s.name||(t2(s)?"DOMError":"DOMException"),o=s.message?a+": "+s.message:a;r=nc(o,_({},t,{overrideExceptionType:t2(s)?"DOMError":"DOMException",defaultExceptionMessage:o}))}return"code"in s&&(r.$exception_DOMException_code=""+s.code),r}if(t1(s,"ErrorEvent")&&s.error)return nu(s.error,t);if(t0(s))return nu(s,t);if(t1(s,"Object")||tZ(s))return function(e,t){var n,i,r,s=null===(i=null==t?void 0:t.handled)||void 0===i||i,a=null===(r=null==t?void 0:t.synthetic)||void 0===r||r,o={type:null!=t&&t.overrideExceptionType?t.overrideExceptionType:tZ(e)?e.constructor.name:"Error",value:"Non-Error 'exception' captured with keys: "+function(e,t){void 0===t&&(t=40);var n=Object.keys(e);if(n.sort(),!n.length)return"[object has no keys]";for(var i=n.length;i>0;i--){var r=n.slice(0,i).join(", ");if(!(r.length>t))return i===n.length||r.length<=t?r:r.slice(0,t)+"..."}return""}(e),mechanism:{handled:s,synthetic:a}};if(null!=t&&t.syntheticException){var l=no(null==t?void 0:t.syntheticException,1);l.length&&(o.stacktrace={frames:l,type:"raw"})}return{$exception_list:[o],$exception_level:D(n=e.level)&&!R(n)&&tf.indexOf(n)>=0?e.level:"error"}}(s,t);if(O(n)&&D(i)){var l="Error",u=i,c=i.match(na);return c&&(l=c[1],u=c[2]),nc(u,_({},t,{overrideExceptionType:l,defaultExceptionMessage:u}))}return nc(s,t)}(e instanceof Error?{error:e,event:e.message}:{event:e},{syntheticException:n}),t))}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null==(t=this.persistence)?void 0:t.props[e]}getSessionProperty(e){var t;return null==(t=this.sessionPersistence)?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:sU;return t!==sU&&(t=sU+"."+t),t}_isIdentified(){var e,t;return"identified"===(null==(e=this.persistence)?void 0:e.get_property(ez))||"identified"===(null==(t=this.sessionPersistence)?void 0:t.get_property(ez))}zs(){var e,t;return!("never"===this.config.person_profiles||"identified_only"===this.config.person_profiles&&!this._isIdentified()&&A(this.getGroups())&&(null==(e=this.persistence)||null==(e=e.props)||!e[eh])&&(null==(t=this.persistence)||null==(t=t.props)||!t[eY]))}js(){return!0===this.config.capture_pageleave||"if_capture_pageview"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||"history_change"===this.config.capture_pageview)}createPersonProfile(){this.zs()||this.Us("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Us(e){return"never"===this.config.person_profiles?(G.error(e+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.qs(eY,!0),!0)}Rs(){if("always"===this.config.cookieless_mode)return!0;var e=this.consent.isOptedOut(),t=this.config.opt_out_persistence_by_default||"on_reject"===this.config.cookieless_mode;return this.config.disable_persistence||e&&!!t}Bs(){var e,t,n,i,r=this.Rs();return(null==(e=this.persistence)?void 0:e.je)!==r&&(null==(n=this.persistence)||n.set_disabled(r)),(null==(t=this.sessionPersistence)?void 0:t.je)!==r&&(null==(i=this.sessionPersistence)||i.set_disabled(r)),r}opt_in_capturing(e){if("always"!==this.config.cookieless_mode){var t;"on_reject"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut()&&(this.reset(!0),this.sessionManager=new sE(this),this.persistence&&(this.sessionPropsManager=new sS(this,this.sessionManager,this.persistence)),this.sessionRecording=new iE(this),this.sessionRecording.startIfEnabledOrStop()),this.consent.optInOut(!0),this.Bs(),(O(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:"$opt_in",null==e?void 0:e.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ds()}else G.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}opt_out_capturing(){var e;"always"!==this.config.cookieless_mode?("on_reject"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Bs(),"on_reject"===this.config.cookieless_mode&&(this.register({distinct_id:eK,$device_id:null}),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(e=this.sessionRecording)||e.stopRecording(),this.sessionRecording=void 0,this.Ds())):G.warn('Consent opt in/out is not valid with cookieless_mode="always" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var e=this.consent.consent;return e===tq.GRANTED?"granted":e===tq.DENIED?"denied":"pending"}is_capturing(){return"always"===this.config.cookieless_mode||("on_reject"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Bs()}_is_bot(){return c?sA(c,this.config.custom_blocked_useragents):void 0}Ds(){h&&("visible"===h.visibilityState?this.$s||(this.$s=!0,this.capture("$pageview",{title:h.title},{send_instantly:!0}),this.xs&&(h.removeEventListener("visibilitychange",this.xs),this.xs=null)):this.xs||(this.xs=this.Ds.bind(this),eu(h,"visibilitychange",this.xs)))}debug(e){!1===e?(null==s||s.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(null==s||s.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}L(){var e,t,n,i,r=this.Is||{};return"advanced_disable_flags"in r?!!r.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(G.warn("Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version."),!0):(t="advanced_disable_decide",n=(e="advanced_disable_flags")in r&&!O(r[e]),i=t in r&&!O(r[t]),n?r[e]:!!i&&(G&&G.warn("Config field '"+t+"' is deprecated. Please use '"+e+"' instead. The old field will be removed in a future major version."),r[t]))}Ns(e){if(V(this.config.before_send))return e;var t=N(this.config.before_send)?this.config.before_send:[this.config.before_send],n=e;for(var i of t){if(V(n=i(n))){var r="Event '"+e.event+"' was rejected in beforeSend function";return z(e.event)?G.warn(r+". This can cause unexpected behavior."):G.info(r),null}n.properties&&!A(n.properties)||G.warn("Event '"+e.event+"' has no properties after beforeSend function, this is likely an error.")}return n}getPageViewId(){var e;return null==(e=this.pageViewManager.pe)?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture("$ai_feedback",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,n){this.capture("$ai_metric",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(n)})}}!function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=es(e.prototype[t[n]])}(sG,["identify"]);var sK,sX,sQ,sZ,sJ,s0,s1,s2,s3,s6,s4,s5,s8=(s5=sz[sU]=new sG,function(){function e(){e.done||(e.done=!0,sq=!1,ee(sz,function(e){e._dom_loaded()}))}null!=h&&h.addEventListener?"complete"===h.readyState?e():eu(h,"DOMContentLoaded",e,{capture:!1}):s&&G.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),s5)},510:function(e,t,n){"use strict";var i,r=n(7653),s=n(40158),a={usingClientEntryPoint:!1,Events:null,Dispatcher:{current:null}};function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=Object.assign,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,c=u.ReactCurrentDispatcher,h={pending:!1,data:null,method:null,action:null},d=[],p=-1;function f(e){return{current:e}}function m(e){0>p||(e.current=d[p],d[p]=null,p--)}function g(e,t){d[++p]=e.current,e.current=t}var v=Symbol.for("react.element"),y=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.scope");Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen"),A=Symbol.for("react.legacy_hidden"),O=Symbol.for("react.cache");Symbol.for("react.tracing_marker");var D=Symbol.iterator;function R(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=D&&e[D]||e["@@iterator"])?e:null}var L=f(null),V=f(null),F=f(null),B=f(null),$={$$typeof:S,_currentValue:null,_currentValue2:null,_threadCount:0,Provider:null,Consumer:null};function z(e,t){switch(g(F,t),g(V,e),g(L,null),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?u2(t):0;break;default:if(t=(e=8===e?t.parentNode:t).tagName,e=e.namespaceURI)t=u3(e=u2(e),t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}m(L),g(L,t)}function j(){m(L),m(V),m(F)}function U(e){null!==e.memoizedState&&g(B,e);var t=L.current,n=u3(t,e.type);t!==n&&(g(V,e),g(L,n))}function q(e){V.current===e&&(m(L),m(V)),B.current===e&&(m(B),$._currentValue=null)}var H=s.unstable_scheduleCallback,W=s.unstable_cancelCallback,Y=s.unstable_shouldYield,G=s.unstable_requestPaint,K=s.unstable_now,X=s.unstable_getCurrentPriorityLevel,Q=s.unstable_ImmediatePriority,Z=s.unstable_UserBlockingPriority,J=s.unstable_NormalPriority,ee=s.unstable_LowPriority,et=s.unstable_IdlePriority,en=s.log,ei=s.unstable_setDisableYieldValue,er=null,es=null;function ea(e){if("function"==typeof en&&ei(e),es&&"function"==typeof es.setStrictMode)try{es.setStrictMode(er,e)}catch(e){}}var eo=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(el(e)/eu|0)|0},el=Math.log,eu=Math.LN2,ec=128,eh=4194304;function ed(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194176&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ep(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes;e=e.pingedLanes;var s=134217727&n;return 0!==s?0!=(n=s&~r)?i=ed(n):0!=(e&=s)&&(i=ed(e)):0!=(n&=~r)?i=ed(n):0!==e&&(i=ed(e)),0===i?0:0!==t&&t!==i&&0==(t&r)&&((r=i&-i)>=(e=t&-t)||32===r&&0!=(4194176&e))?t:i}function ef(e,t){return e.errorRecoveryDisabledLanes&t?0:0!=(e=-536870913&e.pendingLanes)?e:536870912&e?536870912:0}function em(){var e=ec;return 0==(4194176&(ec<<=1))&&(ec=128),e}function eg(){var e=eh;return 0==(62914560&(eh<<=1))&&(eh=4194304),e}function ev(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ey(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-eo(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194218&n}function e_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-eo(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var eb=0;function ex(e){return 2<(e&=-e)?8<e?0!=(134217727&e)?32:268435456:8:2}var ew=Object.prototype.hasOwnProperty,ek=Math.random().toString(36).slice(2),eS="__reactFiber$"+ek,eC="__reactProps$"+ek,eE="__reactContainer$"+ek,eP="__reactEvents$"+ek,eT="__reactListeners$"+ek,eN="__reactHandles$"+ek,eI="__reactResources$"+ek,eM="__reactMarker$"+ek;function eA(e){delete e[eS],delete e[eC],delete e[eP],delete e[eT],delete e[eN]}function eO(e){var t=e[eS];if(t)return t;for(var n=e.parentNode;n;){if(t=n[eE]||n[eS]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[eS])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function eD(e){if(e=e[eS]||e[eE]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function eR(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function eL(e){return e[eC]||null}function eV(e){var t=e[eI];return t||(t=e[eI]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function eF(e){e[eM]=!0}var eB=new Set,e$={};function ez(e,t){ej(e,t),ej(e+"Capture",t)}function ej(e,t){for(e$[e]=t,e=0;e<t.length;e++)eB.add(t[e])}var eU=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),eq=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eH={},eW={};function eY(e,t,n){if(ew.call(eW,t)||!ew.call(eH,t)&&(eq.test(t)?eW[t]=!0:(eH[t]=!0,!1))){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}}function eG(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function eK(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function eX(e){if(void 0===oK)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);oK=t&&t[1]||""}return"\n"+oK+e}var eQ=!1;function eZ(e,t){if(!e||eQ)return"";eQ=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var i=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){i=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){i=e}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(e){if(e&&i&&"string"==typeof e.stack)return[e.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});try{var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),u=o.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===u.length)for(i=l.length-1,r=u.length-1;1<=i&&0<=r&&l[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==u[r]){if(1!==i||1!==r)do if(i--,r--,0>r||l[i]!==u[r]){var c="\n"+l[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=r);break}}}finally{eQ=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?eX(n):""}function eJ(e){try{var t="";do t+=function(e){switch(e.tag){case 26:case 27:case 5:return eX(e.type);case 16:return eX("Lazy");case 13:return eX("Suspense");case 19:return eX("SuspenseList");case 0:case 2:case 15:return e=eZ(e.type,!1);case 11:return e=eZ(e.type.render,!1);case 1:return e=eZ(e.type,!0);default:return""}}(e),e=e.return;while(e);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}var e0=Symbol.for("react.client.reference");function e1(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function e2(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function e3(e){e._valueTracker||(e._valueTracker=function(e){var t=e2(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function e6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=e2(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function e4(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var e5=/[\n"\\]/g;function e8(e){return e.replace(e5,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function e9(e,t,n,i,r,s,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+e1(t)):e.value!==""+e1(t)&&(e.value=""+e1(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?te(e,a,e1(t)):null!=n?te(e,a,e1(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+e1(o):e.removeAttribute("name")}function e7(e,t,n,i,r,s,a,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||null!=t))return;n=null!=n?""+e1(n):"",t=null!=t?""+e1(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i="function"!=typeof(i=null!=i?i:r)&&"symbol"!=typeof i&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a)}function te(e,t,n){"number"===t&&e4(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}var tt=Array.isArray;function tn(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(r=0,n=""+e1(n),t=null;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,i&&(e[r].defaultSelected=!0);return}null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ti(e,t,n){if(null!=t&&((t=""+e1(t))!==e.value&&(e.value=t),null==n)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=null!=n?""+e1(n):""}function tr(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(o(92));if(tt(i)){if(1<i.length)throw Error(o(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=e1(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function ts(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((oX=oX||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=oX.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}var ta=ts;"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(ta=function(e,t){return MSApp.execUnsafeLocalFunction(function(){return ts(e,t)})});var to=ta;function tl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var tu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tc(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!=typeof n||0===n||tu.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function th(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&tc(e,r,i)}else for(var s in t)t.hasOwnProperty(s)&&tc(e,s,t[s])}function td(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),tf=null;function tm(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var tg=null,tv=null;function ty(e){var t=eD(e);if(t&&(e=t.stateNode)){var n=eL(e);switch(e=t.stateNode,t.type){case"input":if(e9(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+e8(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=eL(i);if(!r)throw Error(o(90));e9(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&e6(i)}break;case"textarea":ti(e,n.value,n.defaultValue);break;case"select":null!=(t=n.value)&&tn(e,!!n.multiple,t,!1)}}}function t_(e){tg?tv?tv.push(e):tv=[e]:tg=e}function tb(){if(tg){var e=tg,t=tv;if(tv=tg=null,ty(e),t)for(e=0;e<t.length;e++)ty(t[e])}}function tx(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function tw(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function tk(e){if(tx(e)!==e)throw Error(o(188))}function tS(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=tx(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(i=r.return)){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return tk(r),e;if(s===i)return tk(r),t;s=s.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?function e(t){var n=t.tag;if(5===n||26===n||27===n||6===n)return t;for(t=t.child;null!==t;){if(null!==(n=e(t)))return n;t=t.sibling}return null}(e):null}var tC={},tE=f(tC),tP=f(!1),tT=tC;function tN(e,t){var n=e.type.contextTypes;if(!n)return tC;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function tI(e){return null!=(e=e.childContextTypes)}function tM(){m(tP),m(tE)}function tA(e,t,n){if(tE.current!==tC)throw Error(o(168));g(tE,t),g(tP,n)}function tO(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 26:case 27:case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.$$typeof===e0?null:t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case _:return"Fragment";case y:return"Portal";case x:return"Profiler";case b:return"StrictMode";case E:return"Suspense";case P:return"SuspenseList";case O:return"Cache"}if("object"==typeof t)switch(t.$$typeof){case w:return(t._context.displayName||"Context")+".Provider";case S:return(t.displayName||"Context")+".Consumer";case C:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case T:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",r));return l({},n,i)}function tD(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tC,tT=tE.current,g(tE,e),g(tP,tP.current),!0}function tR(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=tO(e,t,tT),i.__reactInternalMemoizedMergedChildContext=e,m(tP),m(tE),g(tE,e)):m(tP),g(tP,n)}var tL="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},tV=[],tF=0,tB=null,t$=0,tz=[],tj=0,tU=null,tq=1,tH="";function tW(e,t){tV[tF++]=t$,tV[tF++]=tB,tB=e,t$=t}function tY(e,t,n){tz[tj++]=tq,tz[tj++]=tH,tz[tj++]=tU,tU=e;var i=tq;e=tH;var r=32-eo(i)-1;i&=~(1<<r),n+=1;var s=32-eo(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,tq=1<<32-eo(t)+r|n<<r|i,tH=s+e}else tq=1<<s|n<<r|i,tH=e}function tG(e){null!==e.return&&(tW(e,1),tY(e,1,0))}function tK(e){for(;e===tB;)tB=tV[--tF],tV[tF]=null,t$=tV[--tF],tV[tF]=null;for(;e===tU;)tU=tz[--tj],tz[tj]=null,tH=tz[--tj],tz[tj]=null,tq=tz[--tj],tz[tj]=null}var tX=null,tQ=null,tZ=!1,tJ=null,t0=!1;function t1(e,t){var n=ow(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function t2(e,t){t.flags=-4097&t.flags|2}function t3(e,t){return null!==(t=function(e,t,n,i){for(;1===e.nodeType;){if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[eM])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(r=e.getAttribute("rel"))&&e.hasAttribute("data-precedence")||r!==n.rel||e.getAttribute("href")!==(null==n.href?null:n.href)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin)||e.getAttribute("title")!==(null==n.title?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((r=e.getAttribute("src"))!==(null==n.src?null:n.src)||e.getAttribute("type")!==(null==n.type?null:n.type)||e.getAttribute("crossorigin")!==(null==n.crossOrigin?null:n.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var r=null==n.name?null:""+n.name;if("hidden"===n.type&&e.getAttribute("name")===r)return e}if(null===(e=cs(e)))break}return null}(t,e.type,e.pendingProps,t0))&&(e.stateNode=t,tX=e,tQ=cr(t.firstChild),t0=!1,!0)}function t6(e,t){return null!==(t=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;)if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n||null===(e=cs(e)))return null;return e}(t,e.pendingProps,t0))&&(e.stateNode=t,tX=e,tQ=null,!0)}function t4(e,t){t:{var n=t;for(t=t0;8!==n.nodeType;)if(!t||null===(n=cs(n))){t=null;break t}t=n}return null!==t&&(n=null!==tU?{id:tq,overflow:tH}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:536870912},(n=ow(18,null,null,0)).stateNode=t,n.return=e,e.child=n,tX=e,tQ=null,!0)}function t5(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function t8(){throw Error(o(418))}function t9(e){for(tX=e.return;tX;)switch(tX.tag){case 3:case 27:t0=!0;return;case 5:case 13:t0=!1;return;default:tX=tX.return}}function t7(e){if(e!==tX)return!1;if(!tZ)return t9(e),tZ=!0,!1;var t,n=!1;if((t=3!==e.tag&&27!==e.tag)&&((t=5===e.tag)&&(t=!("form"!==(t=e.type)&&"button"!==t)||u6(e.type,e.memoizedProps)),t=!t),t&&(n=!0),n&&(n=tQ)){if(t5(e))ne(),t8();else for(;n;)t1(e,n),n=cs(n)}if(t9(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));t:{for(n=0,e=e.nextSibling;e;){if(8===e.nodeType){if("/$"===(t=e.data)){if(0===n){tQ=cs(e);break t}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++}e=e.nextSibling}tQ=null}}else tQ=tX?cs(e.stateNode):null;return!0}function ne(){for(var e=tQ;e;)e=cs(e)}function nt(){tQ=tX=null,tZ=!1}function nn(e){null===tJ?tJ=[e]:tJ.push(e)}var ni=[],nr=0,ns=0;function na(){for(var e=nr,t=ns=nr=0;t<e;){var n=ni[t];ni[t++]=null;var i=ni[t];ni[t++]=null;var r=ni[t];ni[t++]=null;var s=ni[t];if(ni[t++]=null,null!==i&&null!==r){var a=i.pending;null===a?r.next=r:(r.next=a.next,a.next=r),i.pending=r}0!==s&&nc(n,r,s)}}function no(e,t,n,i){ni[nr++]=e,ni[nr++]=t,ni[nr++]=n,ni[nr++]=i,ns|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function nl(e,t,n,i){return no(e,t,n,i),nh(e)}function nu(e,t){return no(e,null,null,t),nh(e)}function nc(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(i=s.alternate)&&(i.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;r&&null!==t&&3===e.tag&&(s=e.stateNode,r=31-eo(n),null===(e=(s=s.hiddenUpdates)[r])?s[r]=[t]:e.push(t),t.lane=536870912|n)}function nh(e){ob();for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var nd=null,np=null,nf=!1,nm=!1,ng=!1,nv=0;function ny(e){e!==np&&null===e.next&&(null===np?nd=np=e:np=np.next=e),nm=!0,nf||(nf=!0,nk(nx))}function n_(e){if(!ng&&nm){var t=null;ng=!0;do for(var n=!1,i=nd;null!==i;){if(!e||0===i.tag){var r=aS,s=ep(i,i===aw?r:0);if(0!=(3&s))try{if(n=!0,r=i,0!=(6&ax))throw Error(o(327));if(!od()){var a=os(r,s);if(0!==r.tag&&2===a){var l=s,u=ef(r,l);0!==u&&(s=u,a=a1(r,l,u))}if(1===a)throw l=aI,a7(r,0),a4(r,s,0),ny(r),l;6===a?a4(r,s,aD):(r.finishedWork=r.current.alternate,r.finishedLanes=s,oc(r,aL,az,aV,aD))}ny(r)}catch(e){null===t?t=[e]:t.push(e)}}i=i.next}while(n);if(ng=!1,null!==t){if(1<t.length){if("function"==typeof AggregateError)throw AggregateError(t);for(e=1;e<t.length;e++)nk(nb.bind(null,t[e]))}throw t[0]}}}function nb(e){throw e}function nx(){nm=nf=!1;for(var e=K(),t=null,n=nd;null!==n;){var i=n.next;if(0!==nv&&function(){var e=window.event;return e&&"popstate"===e.type?e!==u4&&(u4=e,!0):(u4=null,!1)}()){var r=n,s=nv;r.pendingLanes|=2,r.entangledLanes|=2,r.entanglements[1]|=s}0===(r=nw(n,e))?(n.next=null,null===t?nd=i:t.next=i,null===i&&(np=t)):(t=n,0!=(3&r)&&(nm=!0)),n=i}nv=0,n_(!1)}function nw(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-eo(s),o=1<<a,l=r[a];-1===l?(0==(o&n)||0!=(o&i))&&(r[a]=function(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(t=aw,n=aS,n=ep(e,e===t?n:0),i=e.callbackNode,0===n||e===t&&2===aC||null!==e.cancelPendingCommit)return null!==i&&null!==i&&W(i),e.callbackNode=null,e.callbackPriority=0;if(0!=(3&n))return null!==i&&null!==i&&W(i),e.callbackPriority=2,e.callbackNode=null,2;if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&W(i),ex(n)){case 2:n=Q;break;case 8:n=Z;break;case 32:default:n=J;break;case 268435456:n=et}return n=H(n,i=a0.bind(null,e)),e.callbackPriority=t,e.callbackNode=n,t}function nk(e){u7(function(){0!=(6&ax)?H(Q,e):e()})}function nS(){return 0===nv&&(nv=em()),nv}var nC=null,nE=0,nP=0,nT=null;function nN(){if(null!==nC&&0==--nE){null!==nT&&(nT.status="fulfilled");var e=nC;nC=null,nP=0,nT=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var nI=!1;function nM(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nA(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function nO(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nD(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!=(2&ax)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=nh(e),nc(e,null,n),t}return no(e,i,t,n),nh(e)}function nR(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194176&n))){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,e_(e,n)}}function nL(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var nV=!1;function nF(){if(nV){var e=nT;if(null!==e)throw e}}function nB(e,t,n,i){nV=!1;var r=e.updateQueue;nI=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var u=o,c=u.next;u.next=null,null===a?s=c:a.next=c,a=u;var h=e.alternate;null!==h&&(o=(h=h.updateQueue).lastBaseUpdate)!==a&&(null===o?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u)}if(null!==s){var d=r.baseState;for(a=0,h=c=u=null,o=s;;){var p=-536870913&o.lane,f=p!==o.lane;if(f?(aS&p)===p:(i&p)===p){0!==p&&p===nP&&(nV=!0),null!==h&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var m=e,g=o;switch(p=t,g.tag){case 1:if("function"==typeof(m=g.payload)){d=m.call(n,d,p);break t}d=m;break t;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(p="function"==typeof(m=g.payload)?m.call(n,d,p):m))break t;d=l({},d,p);break t;case 2:nI=!0}}null!==(p=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[p]:f.push(p))}else f={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=f,u=d):h=h.next=f,a|=p;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(f=o).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}null===h&&(u=d),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=h,null===s&&(r.shared.lanes=0),aM|=a,e.lanes=a,e.memoizedState=d}}function n$(e,t){if("function"!=typeof e)throw Error(o(191,e));e.call(t)}function nz(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)n$(n[e],t)}function nj(e,t){if(tL(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ew.call(t,r)||!tL(e[r],t[r]))return!1}return!0}var nU=Error(o(460)),nq=Error(o(474)),nH={then:function(){}};function nW(e){return"fulfilled"===(e=e.status)||"rejected"===e}function nY(){}function nG(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(nY,nY),t=n),t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===nU)throw Error(o(483));throw e;default:if("string"==typeof t.status)t.then(nY,nY);else{if(null!==(e=aw)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":if((e=t.reason)===nU)throw Error(o(483));throw e}throw nK=t,nU}}var nK=null;function nX(){if(null===nK)throw Error(o(459));var e=nK;return nK=null,e}var nQ=null,nZ=0;function nJ(e){var t=nZ;return nZ+=1,null===nQ&&(nQ=[]),nG(nQ,e,t)}function n0(e,t,n,i){var r=i.ref;e=null!==r&&"function"!=typeof r&&"object"!=typeof r?function(e,t,n,i){function r(e){var t=a.refs;null===e?delete t[s]:t[s]=e}if(!(e=n._owner)){if("string"!=typeof i)throw Error(o(284));throw Error(o(290,i))}if(1!==e.tag)throw Error(o(309));var s=""+i,a=e.stateNode;if(!a)throw Error(o(147,s));return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:(r._stringRef=s,r)}(e,t,i,r):r,n.ref=e}function n1(e,t){throw Error(o(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function n2(e){return(0,e._init)(e._payload)}function n3(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=oS(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return(t.index=i,e)?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=33554434,n):i:(t.flags|=33554434,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=33554434),t}function l(e,t,n,i){return null===t||6!==t.tag?(t=oN(n,e.mode,i)).return=e:(t=r(t,n)).return=e,t}function u(e,t,n,i){var s=n.type;return s===_?h(e,t,n.props.children,i,n.key):(i=null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===N&&n2(s)===t.type)?r(t,n.props):oE(n.type,n.key,n.props,null,e.mode,i),n0(e,t,i,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=oI(n,e.mode,i)).return=e:(t=r(t,n.children||[])).return=e,t}function h(e,t,n,i,s){return null===t||7!==t.tag?(t=oP(n,e.mode,i,s)).return=e:(t=r(t,n)).return=e,t}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=oN(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case v:return n=oE(t.type,t.key,t.props,null,e.mode,n),n0(e,null,n,t),n.return=e,n;case y:return(t=oI(t,e.mode,n)).return=e,t;case N:return d(e,(0,t._init)(t._payload),n)}if(tt(t)||R(t))return(t=oP(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return d(e,nJ(t),n);if(t.$$typeof===S)return d(e,su(e,t,n),n);n1(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===r?u(e,t,n,i):null;case y:return n.key===r?c(e,t,n,i):null;case N:return p(e,t,(r=n._init)(n._payload),i)}if(tt(n)||R(n))return null!==r?null:h(e,t,n,i,null);if("function"==typeof n.then)return p(e,t,nJ(n),i);if(n.$$typeof===S)return p(e,t,su(e,n,i),i);n1(e,n)}return null}function f(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case v:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case y:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case N:return f(e,t,n,(0,i._init)(i._payload),r)}if(tt(i)||R(i))return h(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return f(e,t,n,nJ(i),r);if(i.$$typeof===S)return f(e,t,n,su(t,i,r),r);n1(t,i)}return null}return function(l,u,c,h){return nZ=0,l=function l(u,c,h,m){if("object"==typeof h&&null!==h&&h.type===_&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case v:t:{for(var g=h.key,b=c;null!==b;){if(b.key===g){if((g=h.type)===_){if(7===b.tag){n(u,b.sibling),(c=r(b,h.props.children)).return=u,u=c;break t}}else if(b.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===N&&n2(g)===b.type){n(u,b.sibling),c=r(b,h.props),n0(u,b,c,h),c.return=u,u=c;break t}n(u,b);break}t(u,b),b=b.sibling}h.type===_?((c=oP(h.props.children,u.mode,m,h.key)).return=u,u=c):(m=oE(h.type,h.key,h.props,null,u.mode,m),n0(u,c,m,h),m.return=u,u=m)}return a(u);case y:t:{for(b=h.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===h.containerInfo&&c.stateNode.implementation===h.implementation){n(u,c.sibling),(c=r(c,h.children||[])).return=u,u=c;break t}n(u,c);break}t(u,c),c=c.sibling}(c=oI(h,u.mode,m)).return=u,u=c}return a(u);case N:return l(u,c,(b=h._init)(h._payload),m)}if(tt(h))return function(r,a,o,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(r,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),a=s(v,a,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===o.length)return n(r,h),tZ&&tW(r,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(r,o[m],l))&&(a=s(h,a,m),null===c?u=h:c.sibling=h,c=h);return tZ&&tW(r,m),u}for(h=i(r,h);m<o.length;m++)null!==(g=f(h,r,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(r,e)}),tZ&&tW(r,m),u}(u,c,h,m);if(R(h))return function(r,a,l,u){var c=R(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=p(r,m,y.value,u);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(r,m),a=s(_,a,g),null===h?c=_:h.sibling=_,h=_,m=v}if(y.done)return n(r,m),tZ&&tW(r,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,u))&&(a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return tZ&&tW(r,g),c}for(m=i(r,m);!y.done;g++,y=l.next())null!==(y=f(m,r,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=s(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach(function(e){return t(r,e)}),tZ&&tW(r,g),c}(u,c,h,m);if("function"==typeof h.then)return l(u,c,nJ(h),m);if(h.$$typeof===S)return l(u,c,su(u,h,m),m);n1(u,h)}return"string"==typeof h&&""!==h||"number"==typeof h?(h=""+h,null!==c&&6===c.tag?(n(u,c.sibling),(c=r(c,h)).return=u):(n(u,c),(c=oN(h,u.mode,m)).return=u),a(u=c)):n(u,c)}(l,u,c,h),nQ=null,l}}var n6=n3(!0),n4=n3(!1),n5=f(null),n8=f(0);function n9(e,t){g(n8,e=aT),g(n5,t),aT=e|t.baseLanes}function n7(){g(n8,aT),g(n5,n5.current)}function ie(){aT=n8.current,m(n5),m(n8)}var it=f(null),ii=null;function ir(e){var t=e.alternate;g(il,1&il.current),g(it,e),null===ii&&(null===t||null!==n5.current?ii=e:null!==t.memoizedState&&(ii=e))}function is(e){if(22===e.tag){if(g(il,il.current),g(it,e),null===ii){var t=e.alternate;null!==t&&null!==t.memoizedState&&(ii=e)}}else ia(e)}function ia(){g(il,il.current),g(it,it.current)}function io(e){m(it),ii===e&&(ii=null),m(il)}var il=f(0);function iu(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ic=u.ReactCurrentDispatcher,ih=u.ReactCurrentBatchConfig,id=0,ip=null,im=null,ig=null,iv=!1,iy=!1,i_=!1,ib=0,ix=0,iw=null,ik=0;function iS(){throw Error(o(321))}function iC(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tL(e[n],t[n]))return!1;return!0}function iE(e,t,n,i,r,s){return id=s,ip=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ic.current=null===e||null===e.memoizedState?ry:r_,i_=!1,e=n(i,r),i_=!1,iy&&(e=iT(t,n,i,r)),iP(),e}function iP(){ic.current=rv;var e=null!==im&&null!==im.next;if(id=0,ig=im=ip=null,iv=!1,ix=0,iw=null,e)throw Error(o(300))}function iT(e,t,n,i){ip=e;var r=0;do{if(iy&&(iw=null),ix=0,iy=!1,25<=r)throw Error(o(301));r+=1,ig=im=null,e.updateQueue=null,ic.current=rb;var s=t(n,i)}while(iy);return s}function iN(){var e=ic.current.useState()[0];return"function"==typeof e.then?iR(e):e}function iI(){var e=0!==ib;return ib=0,e}function iM(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function iA(e){if(iv){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}iv=!1}id=0,ig=im=ip=null,iy=!1,ix=ib=0,iw=null}function iO(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ig?ip.memoizedState=ig=e:ig=ig.next=e,ig}function iD(){if(null===im){var e=ip.alternate;e=null!==e?e.memoizedState:null}else e=im.next;var t=null===ig?ip.memoizedState:ig.next;if(null!==t)ig=t,im=e;else{if(null===e){if(null===ip.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(im=e).memoizedState,baseState:im.baseState,baseQueue:im.baseQueue,queue:im.queue,next:null},null===ig?ip.memoizedState=ig=e:ig=ig.next=e}return ig}function iR(e){var t=ix;return ix+=1,null===iw&&(iw=[]),e=nG(iw,e,t),null===ip.alternate&&(null===ig?null===ip.memoizedState:null===ig.next)&&(ic.current=ry),e}function iL(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return iR(e);if(e.$$typeof===S)return sl(e)}throw Error(o(438,String(e)))}function iV(e,t){return"function"==typeof t?t(e):t}function iF(e){return iB(iD(),im,e)}function iB(e,t,n){var i=e.queue;if(null===i)throw Error(o(311));i.lastRenderedReducer=n;var r=e.baseQueue,s=i.pending;if(null!==s){if(null!==r){var a=r.next;r.next=s.next,s.next=a}t.baseQueue=r=s,i.pending=null}if(s=e.baseState,null===r)e.memoizedState=s;else{t=r.next;var l=a=null,u=null,c=t,h=!1;do{var d=-536870913&c.lane;if(d!==c.lane?(aS&d)===d:(id&d)===d){var p=c.revertLane;if(0===p)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),d===nP&&(h=!0);else if((id&p)===p){c=c.next,p===nP&&(h=!0);continue}else d={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=d,a=s):u=u.next=d,ip.lanes|=p,aM|=p;d=c.action,i_&&n(s,d),s=c.hasEagerState?c.eagerState:n(s,d)}else p={lane:d,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,a=s):u=u.next=p,ip.lanes|=d,aM|=d;c=c.next}while(null!==c&&c!==t);if(null===u?a=s:u.next=l,!tL(s,e.memoizedState)&&(rV=!0,h&&null!==(n=nT)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,i.lastRenderedState=s}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function i$(e){var t=iD(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do s=e(s,a.action),a=a.next;while(a!==r);tL(s,t.memoizedState)||(rV=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function iz(e,t,n){var i=ip,r=iD(),s=tZ;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!tL((im||r).memoizedState,n);if(a&&(r.memoizedState=n,rV=!0),r=r.queue,i5(iq.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||null!==ig&&1&ig.memoizedState.tag){if(i.flags|=2048,i1(9,iU.bind(null,i,r,n,t),{destroy:void 0},null),null===aw)throw Error(o(349));s||0!=(60&id)||ij(i,t,n)}return n}function ij(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ip.updateQueue)?(t=oQ(),ip.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function iU(e,t,n,i){t.value=n,t.getSnapshot=i,iH(t)&&iW(e)}function iq(e,t,n){return n(function(){iH(t)&&iW(e)})}function iH(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tL(e,n)}catch(e){return!0}}function iW(e){var t=nu(e,2);null!==t&&aJ(t,e,2)}function iY(e){var t=iO();if("function"==typeof e){var n=e;e=n(),i_&&(ea(!0),n(),ea(!1))}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iV,lastRenderedState:e},t}function iG(e,t,n,i){return e.baseState=n,iB(e,im,"function"==typeof i?i:iV)}function iK(e,t,n,i){if(rf(e))throw Error(o(485));null===(e=t.pending)?((e={payload:i,next:null}).next=t.pending=e,iX(t,n,i)):t.pending=e.next={payload:i,next:e.next}}function iX(e,t,n){var i=e.action,r=e.state,s=ih.transition,a={_callbacks:new Set};ih.transition=a;try{var o=i(r,n);null!==o&&"object"==typeof o&&"function"==typeof o.then?(sb(a,o),o.then(function(n){e.state=n,iQ(e,t)},function(){return iQ(e,t)}),t(o)):(t(o),e.state=o,iQ(e,t))}catch(n){t({then:function(){},status:"rejected",reason:n}),iQ(e,t)}finally{ih.transition=s}}function iQ(e,t){var n=e.pending;if(null!==n){var i=n.next;i===n?e.pending=null:(i=i.next,n.next=i,iX(e,t,i.payload))}}function iZ(e,t){return t}function iJ(e,t,n){e="object"==typeof(e=iB(e,t,iZ)[0])&&null!==e&&"function"==typeof e.then?iR(e):e;var i=(t=iD()).queue,r=i.dispatch;return n!==t.memoizedState&&(ip.flags|=2048,i1(9,i0.bind(null,i,n),{destroy:void 0},null)),[e,r]}function i0(e,t){e.action=t}function i1(e,t,n,i){return e={tag:e,create:t,inst:n,deps:i,next:null},null===(t=ip.updateQueue)?(t=oQ(),ip.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function i2(){return iD().memoizedState}function i3(e,t,n,i){var r=iO();ip.flags|=e,r.memoizedState=i1(1|t,n,{destroy:void 0},void 0===i?null:i)}function i6(e,t,n,i){var r=iD();i=void 0===i?null:i;var s=r.memoizedState.inst;null!==im&&null!==i&&iC(i,im.memoizedState.deps)?r.memoizedState=i1(t,n,s,i):(ip.flags|=e,r.memoizedState=i1(1|t,n,s,i))}function i4(e,t){i3(8390656,8,e,t)}function i5(e,t){i6(2048,8,e,t)}function i8(e,t){return i6(4,2,e,t)}function i9(e,t){return i6(4,4,e,t)}function i7(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function re(e,t,n){n=null!=n?n.concat([e]):null,i6(4,4,i7.bind(null,t,e),n)}function rt(){}function rn(e,t){var n=iD();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&iC(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function ri(e,t){var n=iD();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&iC(t,i[1])?i[0]:(i=e(),i_&&(ea(!0),e(),ea(!1)),n.memoizedState=[i,t],i)}function rr(e,t,n){return tL(n,t)?n:null!==n5.current?(e.memoizedState=n,tL(n,t)||(rV=!0),n):0==(42&id)?(rV=!0,e.memoizedState=n):(0===aD&&(aD=0==(536870912&aS)||tZ?em():536870912),null!==(e=it.current)&&(e.flags|=32),e=aD,ip.lanes|=e,aM|=e,t)}function rs(e,t,n,i,r){var s=eb;eb=0!==s&&8>s?s:8;var a=ih.transition,o={_callbacks:new Set};ih.transition=o,rp(e,!1,t,n);try{var l=r();if(null!==l&&"object"==typeof l&&"function"==typeof l.then){sb(o,l);var u,c,h=(u=[],c={status:"pending",value:null,reason:null,then:function(e){u.push(e)}},l.then(function(){c.status="fulfilled",c.value=i;for(var e=0;e<u.length;e++)(0,u[e])(i)},function(e){for(c.status="rejected",c.reason=e,e=0;e<u.length;e++)(0,u[e])(void 0)}),c);rd(e,t,h)}else rd(e,t,i)}catch(n){rd(e,t,{then:function(){},status:"rejected",reason:n})}finally{eb=s,ih.transition=a}}function ra(e,t,n,i){if(5!==e.tag)throw Error(o(476));if(null===e.memoizedState){var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iV,lastRenderedState:h},s=r;r={memoizedState:h,baseState:h,baseQueue:null,queue:r,next:null},e.memoizedState=r;var a=e.alternate;null!==a&&(a.memoizedState=r)}else s=e.memoizedState.queue;rs(e,s,t,h,function(){return n(i)})}function ro(){var e=sl($);return null!==e?e:h}function rl(){return iD().memoizedState}function ru(){return iD().memoizedState}function rc(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=aZ(t),i=nD(t,e=nO(n),n);null!==i&&(aJ(i,t,n),nR(i,t,n)),t={cache:sm()},e.payload=t;return}t=t.return}}function rh(e,t,n){var i=aZ(e);n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},rf(e)?rm(t,n):null!==(n=nl(e,t,n,i))&&(aJ(n,e,i),rg(n,t,i))}function rd(e,t,n){var i=aZ(e),r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(rf(e))rm(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,tL(o,a)){no(e,t,r,0),null===aw&&na();return}}catch(e){}finally{}null!==(n=nl(e,t,r,i))&&(aJ(n,e,i),rg(n,t,i))}}function rp(e,t,n,i){if(sy(),i={lane:2,revertLane:nS(),action:i,hasEagerState:!1,eagerState:null,next:null},rf(e)){if(t)throw Error(o(479))}else null!==(t=nl(e,n,i,2))&&aJ(t,e,2)}function rf(e){var t=e.alternate;return e===ip||null!==t&&t===ip}function rm(e,t){iy=iv=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rg(e,t,n){if(0!=(4194176&n)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,e_(e,n)}}oQ=function(){return{lastEffect:null,events:null,stores:null}};var rv={readContext:sl,use:iL,useCallback:iS,useContext:iS,useEffect:iS,useImperativeHandle:iS,useInsertionEffect:iS,useLayoutEffect:iS,useMemo:iS,useReducer:iS,useRef:iS,useState:iS,useDebugValue:iS,useDeferredValue:iS,useTransition:iS,useSyncExternalStore:iS,useId:iS};rv.useCacheRefresh=iS,rv.useHostTransitionStatus=iS,rv.useFormState=iS,rv.useOptimistic=iS;var ry={readContext:sl,use:iL,useCallback:function(e,t){return iO().memoizedState=[e,void 0===t?null:t],e},useContext:sl,useEffect:i4,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,i3(4194308,4,i7.bind(null,t,e),n)},useLayoutEffect:function(e,t){return i3(4194308,4,e,t)},useInsertionEffect:function(e,t){i3(4,2,e,t)},useMemo:function(e,t){var n=iO();t=void 0===t?null:t;var i=e();return i_&&(ea(!0),e(),ea(!1)),n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=iO();if(void 0!==n){var r=n(t);i_&&(ea(!0),n(t),ea(!1))}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=rh.bind(null,ip,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},iO().memoizedState=e},useState:function(e){var t=(e=iY(e)).queue,n=rd.bind(null,ip,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:rt,useDeferredValue:function(e){return iO().memoizedState=e,e},useTransition:function(){var e=iY(!1);return e=rs.bind(null,ip,e.queue,!0,!1),iO().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=ip,r=iO();if(tZ){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===aw)throw Error(o(349));0!=(60&aS)||ij(i,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,i4(iq.bind(null,i,s,e),[e]),i.flags|=2048,i1(9,iU.bind(null,i,s,n,t),{destroy:void 0},null),n},useId:function(){var e=iO(),t=aw.identifierPrefix;if(tZ){var n=tH,i=tq;t=":"+t+"R"+(n=(i&~(1<<32-eo(i)-1)).toString(32)+n),0<(n=ib++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ik++).toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return iO().memoizedState=rc.bind(null,ip)}};ry.useHostTransitionStatus=ro,ry.useFormState=function(e,t){if(tZ){var n=aw.formState;if(null!==n){t:{if(tZ){if(tQ){n:{for(var i=tQ,r=t0;8!==i.nodeType;)if(!r||null===(i=cs(i))){i=null;break n}i="F!"===(r=i.data)||"F"===r?i:null}if(i){tQ=cs(i),i="F!"===i.data;break t}}t8()}i=!1}i&&(t=n[0])}}return(n=iO()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iZ,lastRenderedState:t},n.queue=i,n=rd.bind(null,ip,i),i.dispatch=n,i=iO(),r={state:t,dispatch:null,action:e,pending:null},i.queue=r,n=iK.bind(null,ip,r,n),r.dispatch=n,i.memoizedState=e,[t,n]},ry.useOptimistic=function(e){var t=iO();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=rp.bind(null,ip,!0,n),n.dispatch=t,[e,t]};var r_={readContext:sl,use:iL,useCallback:rn,useContext:sl,useEffect:i5,useImperativeHandle:re,useInsertionEffect:i8,useLayoutEffect:i9,useMemo:ri,useReducer:iF,useRef:i2,useState:function(){return iF(iV)},useDebugValue:rt,useDeferredValue:function(e){return rr(iD(),im.memoizedState,e)},useTransition:function(){var e=iF(iV)[0],t=iD().memoizedState;return["boolean"==typeof e?e:iR(e),t]},useSyncExternalStore:iz,useId:rl};r_.useCacheRefresh=ru,r_.useHostTransitionStatus=ro,r_.useFormState=function(e){return iJ(iD(),im,e)},r_.useOptimistic=function(e,t){return iG(iD(),im,e,t)};var rb={readContext:sl,use:iL,useCallback:rn,useContext:sl,useEffect:i5,useImperativeHandle:re,useInsertionEffect:i8,useLayoutEffect:i9,useMemo:ri,useReducer:i$,useRef:i2,useState:function(){return i$(iV)},useDebugValue:rt,useDeferredValue:function(e){var t=iD();return null===im?(t.memoizedState=e,e):rr(t,im.memoizedState,e)},useTransition:function(){var e=i$(iV)[0],t=iD().memoizedState;return["boolean"==typeof e?e:iR(e),t]},useSyncExternalStore:iz,useId:rl};function rx(e,t){if(e&&e.defaultProps)for(var n in t=l({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function rw(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:l({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}rb.useCacheRefresh=ru,rb.useHostTransitionStatus=ro,rb.useFormState=function(e){var t=iD(),n=im;if(null!==n)return iJ(t,n,e);t=t.memoizedState;var i=(n=iD()).queue.dispatch;return n.memoizedState=e,[t,i]},rb.useOptimistic=function(e,t){var n=iD();return null!==im?iG(n,im,e,t):(n.baseState=e,[e,n.queue.dispatch])};var rk={isMounted:function(e){return!!(e=e._reactInternals)&&tx(e)===e},enqueueSetState:function(e,t,n){var i=aZ(e=e._reactInternals),r=nO(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=nD(e,r,i))&&(aJ(t,e,i),nR(t,e,i))},enqueueReplaceState:function(e,t,n){var i=aZ(e=e._reactInternals),r=nO(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=nD(e,r,i))&&(aJ(t,e,i),nR(t,e,i))},enqueueForceUpdate:function(e,t){var n=aZ(e=e._reactInternals),i=nO(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=nD(e,i,n))&&(aJ(t,e,n),nR(t,e,n))}};function rS(e,t,n,i,r,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,a):!t.prototype||!t.prototype.isPureReactComponent||!nj(n,i)||!nj(r,s)}function rC(e,t,n){var i=!1,r=tC,s=t.contextType;return"object"==typeof s&&null!==s?s=sl(s):(r=tI(t)?tT:tE.current,s=(i=null!=(i=t.contextTypes))?tN(e,r):tC),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rk,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function rE(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rk.enqueueReplaceState(t,t.state,null)}function rP(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},nM(e);var s=t.contextType;"object"==typeof s&&null!==s?r.context=sl(s):(s=tI(t)?tT:tE.current,r.context=tN(e,s)),r.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(rw(e,t,s,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rk.enqueueReplaceState(r,r.state,null),nB(e,n,r,i),nF(),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}var rT=new WeakMap;function rN(e,t){if("object"==typeof e&&null!==e){var n=rT.get(e);"string"!=typeof n&&(n=eJ(t),rT.set(e,n))}else n=eJ(t);return{value:e,source:t,stack:n,digest:null}}function rI(e,t,n){return"string"==typeof n&&rT.set(e,n),{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function rM(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}function rA(e,t,n){(n=nO(n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){aj||(aj=!0,aU=i),rM(e,t)},n}function rO(e,t,n){(n=nO(n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){rM(e,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){rM(e,t),"function"!=typeof i&&(null===aq?aq=new Set([this]):aq.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function rD(e,t,n,i,r){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=nO(2)).tag=2,nD(n,t,2))),n.lanes|=2):(e.flags|=65536,e.lanes=r),e}var rR=u.ReactCurrentOwner,rL=Error(o(461)),rV=!1;function rF(e,t,n,i){t.child=null===e?n4(t,null,n,i):n6(t,e.child,n,i)}function rB(e,t,n,i,r){n=n.render;var s=t.ref;return(so(t,r),i=iE(e,t,n,i,s,r),n=iI(),null===e||rV)?(tZ&&n&&tG(t),t.flags|=1,rF(e,t,i,r),t.child):(iM(e,t,r),r8(e,t,r))}function r$(e,t,n,i,r){if(null===e){var s=n.type;return"function"!=typeof s||ok(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=oE(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,rz(e,t,s,i,r))}if(s=e.child,0==(e.lanes&r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:nj)(a,i)&&e.ref===t.ref)return r8(e,t,r)}return t.flags|=1,(e=oS(s,i)).ref=t.ref,e.return=t,t.child=e}function rz(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(nj(s,i)&&e.ref===t.ref){if(rV=!1,t.pendingProps=i=s,0==(e.lanes&r))return t.lanes=e.lanes,r8(e,t,r);0!=(131072&e.flags)&&(rV=!0)}}return rH(e,t,n,i,r)}function rj(e,t,n){var i=t.pendingProps,r=i.children,s=0!=(2&t.stateNode._pendingVisibility),a=null!==e?e.memoizedState:null;if(rq(e,t),"hidden"===i.mode||s){if(0!=(128&t.flags)){if(n=null!==a?a.baseLanes|n:n,null!==e){for(r=0,i=t.child=e.child;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;t.childLanes=r&~n}else t.childLanes=0,t.child=null;return rU(e,t,n)}if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},null!==e&&sk(t,null),n7(),is(t);else{if(0==(536870912&n))return t.lanes=t.childLanes=536870912,rU(e,t,null!==a?a.baseLanes|n:n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&sk(t,null!==a?a.cachePool:null),null!==a?n9(t,a):n7(),is(t)}}else null!==a?(sk(t,a.cachePool),n9(t,a),ia(t),t.memoizedState=null):(null!==e&&sk(t,null),n7(),ia(t));return rF(e,t,r,n),t.child}function rU(e,t,n){var i=sw();return i=null===i?null:{parent:sf._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&sk(t,null),n7(),is(t),null}function rq(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function rH(e,t,n,i,r){var s=tI(n)?tT:tE.current;return(s=tN(t,s),so(t,r),n=iE(e,t,n,i,s,r),i=iI(),null===e||rV)?(tZ&&i&&tG(t),t.flags|=1,rF(e,t,n,r),t.child):(iM(e,t,r),r8(e,t,r))}function rW(e,t,n,i,r,s){return(so(t,s),n=iT(t,i,n,r),iP(),i=iI(),null===e||rV)?(tZ&&i&&tG(t),t.flags|=1,rF(e,t,n,s),t.child):(iM(e,t,s),r8(e,t,s))}function rY(e,t,n,i,r){if(tI(n)){var s=!0;tD(t)}else s=!1;if(so(t,r),null===t.stateNode)r5(e,t),rC(t,n,i),rP(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?sl(u):tN(t,u=tI(n)?tT:tE.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==i||l!==u)&&rE(t,a,i,u),nI=!1;var d=t.memoizedState;a.state=d,nB(t,i,a,r),nF(),l=t.memoizedState,o!==i||d!==l||tP.current||nI?("function"==typeof c&&(rw(t,n,c,i),l=t.memoizedState),(o=nI||rS(t,n,o,i,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,nA(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:rx(t.type,o),a.props=u,h=t.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?sl(l):tN(t,l=tI(n)?tT:tE.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||d!==l)&&rE(t,a,i,l),nI=!1,d=t.memoizedState,a.state=d,nB(t,i,a,r),nF();var f=t.memoizedState;o!==h||d!==f||tP.current||nI?("function"==typeof p&&(rw(t,n,p,i),f=t.memoizedState),(u=nI||rS(t,n,u,i,d,f,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return rG(e,t,n,i,s,r)}function rG(e,t,n,i,r,s){rq(e,t);var a=0!=(128&t.flags);if(!i&&!a)return r&&tR(t,n,!1),r8(e,t,s);i=t.stateNode,rR.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=n6(t,e.child,null,s),t.child=n6(t,null,o,s)):rF(e,t,o,s),t.memoizedState=i.state,r&&tR(t,n,!0),t.child}function rK(e){var t=e.stateNode;t.pendingContext?tA(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tA(e,t.context,!1),z(e,t.containerInfo)}function rX(e,t,n,i,r){return nt(),nn(r),t.flags|=256,rF(e,t,n,i),t.child}var rQ={dehydrated:null,treeContext:null,retryLane:0};function rZ(e){return{baseLanes:e,cachePool:sS()}}function rJ(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=aD),e}function r0(e,t,n){var i,r=t.pendingProps,s=!1,a=0!=(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!=(2&il.current)),i&&(s=!0,t.flags&=-129),i=0!=(32&t.flags),t.flags&=-33,null===e){if(tZ){if(s?ir(t):ia(t),tZ){var l=a=tQ;if(l){if(!t4(t,l)){t5(t)&&t8(),tQ=cs(l);var u=tX;tQ&&t4(t,tQ)?t1(u,l):(t2(tX,t),tZ=!1,tX=t,tQ=a)}}else t5(t)&&t8(),t2(tX,t),tZ=!1,tX=t,tQ=a}if(null!==(a=t.memoizedState)&&null!==(a=a.dehydrated))return 0==(1&t.mode)?t.lanes=2:"$!"===a.data?t.lanes=16:t.lanes=536870912,null;io(t)}return(a=r.children,r=r.fallback,s)?(ia(t),s=t.mode,l=t.child,a={mode:"hidden",children:a},0==(1&s)&&null!==l?(l.childLanes=0,l.pendingProps=a):l=oT(a,s,0,null),r=oP(r,s,n,null),l.return=t,r.return=t,l.sibling=r,t.child=l,(s=t.child).memoizedState=rZ(n),s.childLanes=rJ(e,i,n),t.memoizedState=rQ,r):(ir(t),r1(t,a))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated))return function(e,t,n,i,r,s,a,l){if(n)return 256&t.flags?(ir(t),t.flags&=-257,r2(e,t,l,s=rI(Error(o(422))))):null!==t.memoizedState?(ia(t),t.child=e.child,t.flags|=128,null):(ia(t),s=r.fallback,a=t.mode,r=oT({mode:"visible",children:r.children},a,0,null),s=oP(s,a,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&n6(t,e.child,null,l),(a=t.child).memoizedState=rZ(l),a.childLanes=rJ(e,i,l),t.memoizedState=rQ,s);if(ir(t),0==(1&t.mode))return r2(e,t,l,null);if("$!"===s.data){if(s=s.nextSibling&&s.nextSibling.dataset)var u=s.dgst;return s=u,(i=Error(o(419))).digest=s,r2(e,t,l,s=rI(i,s,void 0))}if(i=0!=(l&e.childLanes),rV||i){if(null!==(i=aw)){if(0!=(42&(r=l&-l)))r=1;else switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=64;break;case 268435456:r=134217728;break;default:r=0}if(0!==(r=0!=(r&(i.suspendedLanes|l))?0:r)&&r!==a.retryLane)throw a.retryLane=r,nu(e,r),aJ(i,e,r),rL}return"$?"!==s.data&&or(),r2(e,t,l,null)}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=oy.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,tQ=cr(s.nextSibling),tX=t,tZ=!0,tJ=null,t0=!1,null!==e&&(tz[tj++]=tq,tz[tj++]=tH,tz[tj++]=tU,tq=e.id,tH=e.overflow,tU=t),t=r1(t,r.children),t.flags|=4096,t)}(e,t,a,i,r,u,l,n);if(s){ia(t),s=r.fallback,a=t.mode,u=(l=e.child).sibling;var c={mode:"hidden",children:r.children};return 0==(1&a)&&t.child!==l?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=oS(l,c)).subtreeFlags=31457280&l.subtreeFlags,null!==u?s=oS(u,s):(s=oP(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,null===(a=e.child.memoizedState)?a=rZ(n):(null!==(l=a.cachePool)?(u=sf._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=sS(),a={baseLanes:a.baseLanes|n,cachePool:l}),s.memoizedState=a,s.childLanes=rJ(e,i,n),t.memoizedState=rQ,r}return ir(t),e=(i=e.child).sibling,i=oS(i,{mode:"visible",children:r.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function r1(e,t){return(t=oT({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function r2(e,t,n,i){return null!==i&&nn(i),n6(t,e.child,null,n),e=r1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r3(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),ss(e.return,t,n)}function r6(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function r4(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(rF(e,t,i.children,n),0!=(2&(i=il.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))t:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&r3(e,n,t);else if(19===e.tag)r3(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(g(il,i),0==(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(r=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===iu(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),r6(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===iu(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}r6(t,!0,n,null,s);break;case"together":r6(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function r5(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function r8(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),aM|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=oS(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=oS(e,e.pendingProps)).return=t;n.sibling=null}return t.child}var r9=f(null),r7=null,se=null,st=null;function sn(){st=se=r7=null}function si(e,t,n){g(r9,t._currentValue),t._currentValue=n}function sr(e){e._currentValue=r9.current,m(r9)}function ss(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function sa(e,t,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var r=i.dependencies;if(null!==r)for(var s=i.child,a=r.firstContext;null!==a;){if(a.context===t){if(1===i.tag){(a=nO(n&-n)).tag=2;var l=i.updateQueue;if(null!==l){var u=(l=l.shared).pending;null===u?a.next=a:(a.next=u.next,u.next=a),l.pending=a}}i.lanes|=n,null!==(a=i.alternate)&&(a.lanes|=n),ss(i.return,n,e),r.lanes|=n;break}a=a.next}else if(10===i.tag)s=i.type===e.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(r=s.alternate)&&(r.lanes|=n),ss(s,n,e),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function so(e,t){r7=e,st=se=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(rV=!0),e.firstContext=null)}function sl(e){return sc(r7,e)}function su(e,t,n){return null===r7&&so(e,n),sc(e,t)}function sc(e,t){var n=t._currentValue;if(st!==t){if(t={context:t,memoizedValue:n,next:null},null===se){if(null===e)throw Error(o(308));se=t,e.dependencies={lanes:0,firstContext:t}}else se=se.next=t}return n}var sh="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},sd=s.unstable_scheduleCallback,sp=s.unstable_NormalPriority,sf={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sm(){return{controller:new sh,data:new Map,refCount:0}}function sg(e){e.refCount--,0===e.refCount&&sd(sp,function(){e.controller.abort()})}var sv=u.ReactCurrentBatchConfig;function sy(){var e=sv.transition;return null!==e&&e._callbacks.add(s_),e}function s_(e,t){!function(e,t){if(null===nC){var n=nC=[];nE=0,nP=nS(),nT={status:"pending",value:void 0,then:function(e){n.push(e)}}}nE++,t.then(nN,nN)}(0,t)}function sb(e,t){e._callbacks.forEach(function(n){return n(e,t)})}var sx=f(null);function sw(){var e=sx.current;return null!==e?e:aw.pooledCache}function sk(e,t){null===t?g(sx,sx.current):g(sx,t.pool)}function sS(){var e=sw();return null===e?null:{parent:sf._currentValue,pool:e}}function sC(e){e.flags|=4}function sE(e,t){if("stylesheet"!==t.type||0!=(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,0==(42&aS)&&!(t="stylesheet"!==t.type||0!=(3&t.state.loading))){if(ot())e.flags|=8192;else throw nK=nH,nq}}function sP(e,t){null!==t?e.flags|=4:16384&e.flags&&(t=22!==e.tag?eg():536870912,e.lanes|=t)}function sT(e,t){if(!tZ)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function sN(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=31457280&r.subtreeFlags,i|=31457280&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function sI(e,t){switch(tK(t),t.tag){case 1:null!=(e=t.type.childContextTypes)&&tM();break;case 3:sr(sf),j(),m(tP),m(tE);break;case 26:case 27:case 5:q(t);break;case 4:j();break;case 13:io(t);break;case 19:m(il);break;case 10:sr(t.type._context);break;case 22:case 23:io(t),ie(),null!==e&&m(sx);break;case 24:sr(sf)}}function sM(e,t,n){var i=Array.prototype.slice.call(arguments,3);try{t.apply(n,i)}catch(e){this.onError(e)}}var sA=!1,sO=null,sD=!1,sR=null,sL={onError:function(e){sA=!0,sO=e}};function sV(e,t,n,i,r,s,a,o,l){sA=!1,sO=null,sM.apply(sL,arguments)}var sF=!1,sB=!1,s$="function"==typeof WeakSet?WeakSet:Set,sz=null;function sj(e,t){try{var n=e.ref;if(null!==n){var i=e.stateNode;switch(e.tag){case 26:case 27:case 5:var r=i;break;default:r=i}"function"==typeof n?e.refCleanup=n(r):n.current=r}}catch(n){of(e,t,n)}}function sU(e,t){var n=e.ref,i=e.refCleanup;if(null!==n){if("function"==typeof i)try{i()}catch(n){of(e,t,n)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(n){of(e,t,n)}else n.current=null}}function sq(e,t,n){try{n()}catch(n){of(e,t,n)}}var sH=!1;function sW(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.inst,a=s.destroy;void 0!==a&&(s.destroy=void 0,sq(t,n,a))}r=r.next}while(r!==i)}}function sY(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create,r=n.inst;i=i(),r.destroy=i}n=n.next}while(n!==t)}}function sG(e,t){try{sY(t,e)}catch(t){of(e,e.return,t)}}function sK(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{nz(t,n)}catch(t){of(e,e.return,t)}}}function sX(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break;case"img":n.src&&(i.src=n.src)}}catch(t){of(e,e.return,t)}}function sQ(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:at(e,n),4&i&&sG(n,5);break;case 1:if(at(e,n),4&i){if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(e){of(n,n.return,e)}else{var r=n.elementType===n.type?t.memoizedProps:rx(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){of(n,n.return,e)}}}64&i&&sK(n),512&i&&sj(n,n.return);break;case 3:if(at(e,n),64&i&&null!==(i=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:e=n.child.stateNode}try{nz(i,e)}catch(e){of(n,n.return,e)}}break;case 26:at(e,n),512&i&&sj(n,n.return);break;case 27:case 5:at(e,n),null===t&&4&i&&sX(n),512&i&&sj(n,n.return);break;case 12:default:at(e,n);break;case 13:at(e,n),4&i&&s4(e,n);break;case 22:if(0!=(1&n.mode)){if(!(r=null!==n.memoizedState||sF)){t=null!==t&&null!==t.memoizedState||sB;var s=sF,a=sB;sF=r,(sB=t)&&!a?function e(t,n,i){for(i=i&&0!=(8772&n.subtreeFlags),n=n.child;null!==n;){var r=n.alternate,s=t,a=n,o=a.flags;switch(a.tag){case 0:case 11:case 15:e(s,a,i),sG(a,4);break;case 1:if(e(s,a,i),"function"==typeof(s=a.stateNode).componentDidMount)try{s.componentDidMount()}catch(e){of(a,a.return,e)}if(null!==(r=a.updateQueue)){var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)n$(l[r],s)}i&&64&o&&sK(a),sj(a,a.return);break;case 26:case 27:case 5:e(s,a,i),i&&null===r&&4&o&&sX(a),sj(a,a.return);break;case 12:default:e(s,a,i);break;case 13:e(s,a,i),i&&4&o&&s4(s,a);break;case 22:null===a.memoizedState&&e(s,a,i),sj(a,a.return)}n=n.sibling}}(e,n,0!=(8772&n.subtreeFlags)):at(e,n),sF=s,sB=a}}else at(e,n);512&i&&("manual"===n.memoizedProps.mode?sj(n,n.return):sU(n,n.return))}}function sZ(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag||4===e.tag}function sJ(e){t:for(;;){for(;null===e.sibling;){if(null===e.return||sZ(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&27!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue t;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function s0(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&27!==i&&null!==(e=e.child))for(s0(e,t,n),e=e.sibling;null!==e;)s0(e,t,n),e=e.sibling}var s1=null,s2=!1;function s3(e,t,n){for(n=n.child;null!==n;)s6(e,t,n),n=n.sibling}function s6(e,t,n){if(es&&"function"==typeof es.onCommitFiberUnmount)try{es.onCommitFiberUnmount(er,n)}catch(e){}switch(n.tag){case 26:sB||sU(n,t),s3(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:sB||sU(n,t);var i=s1,r=s2;for(s1=n.stateNode,s3(e,t,n),e=(n=n.stateNode).attributes;e.length;)n.removeAttributeNode(e[0]);eA(n),s1=i,s2=r;break;case 5:sB||sU(n,t);case 6:i=s1,r=s2,s1=null,s3(e,t,n),s1=i,s2=r,null!==s1&&(s2?(e=s1,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):s1.removeChild(n.stateNode));break;case 18:null!==s1&&(s2?(e=s1,n=n.stateNode,8===e.nodeType?ct(e.parentNode,n):1===e.nodeType&&ct(e,n),lI(e)):ct(s1,n.stateNode));break;case 4:i=s1,r=s2,s1=n.stateNode.containerInfo,s2=!0,s3(e,t,n),s1=i,s2=r;break;case 0:case 11:case 14:case 15:if(!sB&&null!==(i=n.updateQueue)&&null!==(i=i.lastEffect)){r=i=i.next;do{var s=r.tag,a=r.inst,o=a.destroy;void 0!==o&&(0!=(2&s)?(a.destroy=void 0,sq(n,t,o)):0!=(4&s)&&(a.destroy=void 0,sq(n,t,o))),r=r.next}while(r!==i)}s3(e,t,n);break;case 1:if(!sB&&(sU(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(e){of(n,t,e)}s3(e,t,n);break;case 21:default:s3(e,t,n);break;case 22:sU(n,t),1&n.mode?(sB=(i=sB)||null!==n.memoizedState,s3(e,t,n),sB=i):s3(e,t,n)}}function s4(e,t){if(null===t.memoizedState&&null!==(e=t.alternate)&&null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))try{lI(e)}catch(e){of(t,t.return,e)}}function s5(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new s$),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new s$),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var i=o_.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function s8(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=s;t:for(;null!==a;){switch(a.tag){case 27:case 5:s1=a.stateNode,s2=!1;break t;case 3:case 4:s1=a.stateNode.containerInfo,s2=!0;break t}a=a.return}if(null===s1)throw Error(o(160));s6(e,s,r),s1=null,s2=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(e){of(r,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)s7(t,e),t=t.sibling}var s9=null;function s7(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(s8(t,e),ae(e),4&i){try{sW(3,e,e.return),sY(3,e)}catch(t){of(e,e.return,t)}try{sW(5,e,e.return)}catch(t){of(e,e.return,t)}}break;case 1:s8(t,e),ae(e),512&i&&null!==n&&sU(n,n.return),64&i&&sF&&null!==(e=e.updateQueue)&&null!==(n=e.callbacks)&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===i?n:i.concat(n));break;case 26:var r=s9;if(s8(t,e),ae(e),512&i&&null!==n&&sU(n,n.return),4&i){if(t=null!==n?n.memoizedState:null,i=e.memoizedState,null===n){if(null===i){if(null===e.stateNode){t:{n=e.type,i=e.memoizedProps,t=r.ownerDocument||r;n:switch(n){case"title":(!(r=t.getElementsByTagName("title")[0])||r[eM]||r[eS]||"http://www.w3.org/2000/svg"===r.namespaceURI||r.hasAttribute("itemprop"))&&(r=t.createElement(n),t.head.insertBefore(r,t.querySelector("head > title"))),uQ(r,n,i),r[eS]=e,eF(r),n=r;break t;case"link":var s=cS("link","href",t).get(n+(i.href||""));if(s){for(var a=0;a<s.length;a++)if((r=s[a]).getAttribute("href")===(null==i.href?null:i.href)&&r.getAttribute("rel")===(null==i.rel?null:i.rel)&&r.getAttribute("title")===(null==i.title?null:i.title)&&r.getAttribute("crossorigin")===(null==i.crossOrigin?null:i.crossOrigin)){s.splice(a,1);break n}}uQ(r=t.createElement(n),n,i),t.head.appendChild(r);break;case"meta":if(s=cS("meta","content",t).get(n+(i.content||""))){for(a=0;a<s.length;a++)if((r=s[a]).getAttribute("content")===(null==i.content?null:""+i.content)&&r.getAttribute("name")===(null==i.name?null:i.name)&&r.getAttribute("property")===(null==i.property?null:i.property)&&r.getAttribute("http-equiv")===(null==i.httpEquiv?null:i.httpEquiv)&&r.getAttribute("charset")===(null==i.charSet?null:i.charSet)){s.splice(a,1);break n}}uQ(r=t.createElement(n),n,i),t.head.appendChild(r);break;default:throw Error(o(468,n))}r[eS]=e,eF(r),n=r}e.stateNode=n}else cC(r,e.type,e.stateNode)}else e.stateNode=c_(r,i,e.memoizedProps)}else if(t!==i)null===t?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):t.count--,null===i?cC(r,e.type,e.stateNode):c_(r,i,e.memoizedProps);else if(null===i&&null!==e.stateNode){e.updateQueue=null;try{var l=e.stateNode,u=e.memoizedProps;uZ(l,e.type,n.memoizedProps,u),l[eC]=u}catch(t){of(e,e.return,t)}}}break;case 27:if(4&i&&null===e.alternate){for(r=e.stateNode,s=e.memoizedProps,a=r.firstChild;a;){var c=a.nextSibling,h=a.nodeName;a[eM]||"HEAD"===h||"BODY"===h||"SCRIPT"===h||"STYLE"===h||"LINK"===h&&"stylesheet"===a.rel.toLowerCase()||r.removeChild(a),a=c}for(a=e.type,c=r.attributes;c.length;)r.removeAttributeNode(c[0]);uQ(r,a,s),r[eS]=e,r[eC]=s}case 5:if(s8(t,e),ae(e),512&i&&null!==n&&sU(n,n.return),32&e.flags){t=e.stateNode;try{tl(t,"")}catch(t){of(e,e.return,t)}}if(4&i&&null!=(i=e.stateNode)){t=e.memoizedProps,n=null!==n?n.memoizedProps:t,r=e.type,e.updateQueue=null;try{uZ(i,r,n,t),i[eC]=t}catch(t){of(e,e.return,t)}}break;case 6:if(s8(t,e),ae(e),4&i){if(null===e.stateNode)throw Error(o(162));n=e.stateNode,i=e.memoizedProps;try{n.nodeValue=i}catch(t){of(e,e.return,t)}}break;case 3:if(ck=null,r=s9,s9=ch(t.containerInfo),s8(t,e),s9=r,ae(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{lI(t.containerInfo)}catch(t){of(e,e.return,t)}break;case 4:n=s9,s9=ch(e.stateNode.containerInfo),s8(t,e),ae(e),s9=n;break;case 13:s8(t,e),ae(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(aB=K()),4&i&&null!==(n=e.updateQueue)&&(e.updateQueue=null,s5(e,n));break;case 22:if(512&i&&null!==n&&sU(n,n.return),l=null!==e.memoizedState,u=null!==n&&null!==n.memoizedState,1&e.mode){var d=sF,p=sB;sF=d||l,sB=p||u,s8(t,e),sB=p,sF=d}else s8(t,e);if(ae(e),(t=e.stateNode)._current=e,t._visibility&=-3,t._visibility|=2&t._pendingVisibility,8192&i&&(t._visibility=l?-2&t._visibility:1|t._visibility,l&&(t=sF||sB,null===n||u||t||0!=(1&e.mode)&&function e(t){for(t=t.child;null!==t;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sW(4,n,n.return),e(n);break;case 1:sU(n,n.return);var i=n.stateNode;if("function"==typeof i.componentWillUnmount){var r=n.return;try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(e){of(n,r,e)}}e(n);break;case 26:case 27:case 5:sU(n,n.return),e(n);break;case 22:sU(n,n.return),null===n.memoizedState&&e(n);break;default:e(n)}t=t.sibling}}(e)),null===e.memoizedProps||"manual"!==e.memoizedProps.mode))t:for(n=null,t=e;;){if(5===t.tag||26===t.tag||27===t.tag){if(null===n){n=t;try{r=t.stateNode,l?(s=r.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none"):(a=t.stateNode,h=null!=(c=t.memoizedProps.style)&&c.hasOwnProperty("display")?c.display:null,a.style.display=null==h||"boolean"==typeof h?"":(""+h).trim())}catch(t){of(e,e.return,t)}}}else if(6===t.tag){if(null===n)try{t.stateNode.nodeValue=l?"":t.memoizedProps}catch(t){of(e,e.return,t)}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&null!==(n=e.updateQueue)&&null!==(i=n.retryQueue)&&(n.retryQueue=null,s5(e,i));break;case 19:s8(t,e),ae(e),4&i&&null!==(n=e.updateQueue)&&(e.updateQueue=null,s5(e,n));break;case 21:break;default:s8(t,e),ae(e)}}function ae(e){var t=e.flags;if(2&t){try{if(27!==e.tag){n:{for(var n=e.return;null!==n;){if(sZ(n)){var i=n;break n}n=n.return}throw Error(o(160))}switch(i.tag){case 27:var r=i.stateNode,s=sJ(e);s0(e,s,r);break;case 5:var a=i.stateNode;32&i.flags&&(tl(a,""),i.flags&=-33);var l=sJ(e);s0(e,l,a);break;case 3:case 4:var u=i.stateNode.containerInfo,c=sJ(e);!function e(t,n,i){var r=t.tag;if(5===r||6===r)t=t.stateNode,n?8===i.nodeType?i.parentNode.insertBefore(t,n):i.insertBefore(t,n):(8===i.nodeType?(n=i.parentNode).insertBefore(t,i):(n=i).appendChild(t),null!=(i=i._reactRootContainer)||null!==n.onclick||(n.onclick=uG));else if(4!==r&&27!==r&&null!==(t=t.child))for(e(t,n,i),t=t.sibling;null!==t;)e(t,n,i),t=t.sibling}(e,c,u);break;default:throw Error(o(161))}}}catch(t){of(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function at(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)sQ(e,t.alternate,t),t=t.sibling}function an(e,t){try{sY(t,e)}catch(t){of(e,e.return,t)}}function ai(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&sg(n))}function ar(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&sg(e))}function as(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)aa(e,t,n,i),t=t.sibling}function aa(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:as(e,t,n,i),2048&r&&an(t,9);break;case 3:as(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&sg(e)));break;case 23:break;case 22:var s=t.stateNode;null!==t.memoizedState?4&s._visibility?as(e,t,n,i):1&t.mode?ao(e,t):(s._visibility|=4,as(e,t,n,i)):4&s._visibility?as(e,t,n,i):(s._visibility|=4,function e(t,n,i,r,s){for(s=s&&0!=(10256&n.subtreeFlags),n=n.child;null!==n;){var a=n,o=a.flags;switch(a.tag){case 0:case 11:case 15:e(t,a,i,r,s),an(a,8);break;case 23:break;case 22:var l=a.stateNode;null!==a.memoizedState?4&l._visibility?e(t,a,i,r,s):1&a.mode?ao(t,a):(l._visibility|=4,e(t,a,i,r,s)):(l._visibility|=4,e(t,a,i,r,s)),s&&2048&o&&ai(a.alternate,a);break;case 24:e(t,a,i,r,s),s&&2048&o&&ar(a.alternate,a);break;default:e(t,a,i,r,s)}n=n.sibling}}(e,t,n,i,0!=(10256&t.subtreeFlags))),2048&r&&ai(t.alternate,t);break;case 24:as(e,t,n,i),2048&r&&ar(t.alternate,t);break;default:as(e,t,n,i)}}function ao(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=t,i=n.flags;switch(n.tag){case 22:ao(e,n),2048&i&&ai(n.alternate,n);break;case 24:ao(e,n),2048&i&&ar(n.alternate,n);break;default:ao(e,n)}t=t.sibling}}var al=8192;function au(e){if(e.subtreeFlags&al)for(e=e.child;null!==e;)ac(e),e=e.sibling}function ac(e){switch(e.tag){case 26:au(e),e.flags&al&&null!==e.memoizedState&&function(e,t,n){if(null===cE)throw Error(o(475));var i=cE;if("stylesheet"===t.type&&("string"!=typeof n.media||!1!==matchMedia(n.media).matches)&&0==(4&t.state.loading)){if(null===t.instance){var r=cf(n.href),s=e.querySelector(cm(r));if(s){null!==(e=s._p)&&"object"==typeof e&&"function"==typeof e.then&&(i.count++,i=cT.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=s,eF(s);return}s=e.ownerDocument||e,n=cg(n),(r=cu.get(r))&&cx(n,r),eF(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),uQ(s,"link",n),t.instance=s}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0==(3&t.state.loading)&&(i.count++,t=cT.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(s9,e.memoizedState,e.memoizedProps);break;case 5:default:au(e);break;case 3:case 4:var t=s9;s9=ch(e.stateNode.containerInfo),au(e),s9=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=al,al=16777216,au(e),al=t):au(e))}}function ah(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(null!==e)}}function ad(e){var t=e.deletions;if(0!=(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];sz=i,af(i,e)}ah(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)ap(e),e=e.sibling}function ap(e){switch(e.tag){case 0:case 11:case 15:ad(e),2048&e.flags&&sW(9,e,e.return);break;case 22:var t=e.stateNode;null!==e.memoizedState&&4&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-5,function e(t){var n=t.deletions;if(0!=(16&t.flags)){if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];sz=r,af(r,t)}ah(t)}for(t=t.child;null!==t;){switch((n=t).tag){case 0:case 11:case 15:sW(8,n,n.return),e(n);break;case 22:4&(i=n.stateNode)._visibility&&(i._visibility&=-5,e(n));break;default:e(n)}t=t.sibling}}(e)):ad(e);break;default:ad(e)}}function af(e,t){for(;null!==sz;){var n=sz;switch(n.tag){case 0:case 11:case 15:sW(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:sg(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,sz=i;else for(n=e;null!==sz;){var r=(i=sz).sibling,s=i.return;if(!function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&eA(n),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(i),i===n){sz=null;break}if(null!==r){r.return=s,sz=r;break}sz=s}}}var am={getCacheSignal:function(){return sl(sf).controller.signal},getCacheForType:function(e){var t=sl(sf),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},ag="function"==typeof WeakMap?WeakMap:Map,av=u.ReactCurrentDispatcher,ay=u.ReactCurrentCache,a_=u.ReactCurrentOwner,ab=u.ReactCurrentBatchConfig,ax=0,aw=null,ak=null,aS=0,aC=0,aE=null,aP=!1,aT=0,aN=0,aI=null,aM=0,aA=0,aO=0,aD=0,aR=null,aL=null,aV=!1,aF=!1,aB=0,a$=1/0,az=null,aj=!1,aU=null,aq=null,aH=!1,aW=null,aY=0,aG=0,aK=null,aX=0,aQ=null;function aZ(e){return 0==(1&e.mode)?2:0!=(2&ax)&&0!==aS?aS&-aS:null!==sy()?0!==(e=nP)?e:nS():0!==(e=eb)?e:e=void 0===(e=window.event)?32:lB(e.type)}function aJ(e,t,n){(e===aw&&2===aC||null!==e.cancelPendingCommit)&&(a7(e,0),a4(e,aS,aD)),a6(e,n),(0==(2&ax)||e!==aw)&&(e===aw&&(0==(2&ax)&&(aA|=n),4===aN&&a4(e,aS,aD)),ny(e),2===n&&0===ax&&0==(1&t.mode)&&(a$=K()+500,n_(!0)))}function a0(e,t){if(0!=(6&ax))throw Error(o(327));var n=e.callbackNode;if(od()&&e.callbackNode!==n)return null;var i=ep(e,e===aw?aS:0);if(0===i)return null;var r=0==(60&i)&&0==(i&e.expiredLanes)&&!t;if(0!==(t=r?function(e,t){var n=ax;ax|=2;var i=on(),r=oi();(aw!==e||aS!==t)&&(az=null,a$=K()+500,a7(e,t));t:for(;;)try{if(0!==aC&&null!==ak){t=ak;var s=aE;n:switch(aC){case 1:case 6:aC=0,aE=null,ol(e,t,s);break;case 2:if(nW(s)){aC=0,aE=null,oo(t);break}t=function(){2===aC&&aw===e&&(aC=7),ny(e)},s.then(t,t);break t;case 3:aC=7;break t;case 4:aC=5;break t;case 7:nW(s)?(aC=0,aE=null,oo(t)):(aC=0,aE=null,ol(e,t,s));break;case 5:switch(ak.tag){case 5:case 26:case 27:t=ak,aC=0,aE=null;var a=t.sibling;if(null!==a)ak=a;else{var l=t.return;null!==l?(ak=l,ou(l)):ak=null}break n}aC=0,aE=null,ol(e,t,s);break;case 8:a9(),aN=6;break t;default:throw Error(o(462))}}!function(){for(;null!==ak&&!Y();)oa(ak)}();break}catch(t){oe(e,t)}return(sn(),av.current=i,ay.current=r,ax=n,null!==ak)?0:(aw=null,aS=0,na(),aN)}(e,i):os(e,i)))for(var s=r;;){if(6===t)a4(e,i,0);else{if(r=e.current.alternate,s&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!tL(s(),r))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)){t=os(e,i),s=!1;continue}if(2===t){var a=ef(e,s=i);0!==a&&(i=a,t=a1(e,s,a))}if(1===t)throw n=aI,a7(e,0),a4(e,i,0),ny(e),n;e.finishedWork=r,e.finishedLanes=i;t:{switch(s=e,t){case 0:case 1:throw Error(o(345));case 4:if((4194176&i)===i){a4(s,i,aD);break t}break;case 2:case 3:case 5:break;default:throw Error(o(329))}if((62914560&i)===i&&10<(t=aB+300-K())){if(a4(s,i,aD),0!==ep(s,0))break t;s.timeoutHandle=u5(a3.bind(null,s,r,aL,az,aV,i,aD),t);break t}a3(s,r,aL,az,aV,i,aD)}}break}return ny(e),nw(e,K()),e=e.callbackNode===n?a0.bind(null,e):null}function a1(e,t,n){var i=aR,r=e.current.memoizedState.isDehydrated;if(r&&(a7(e,n).flags|=256),2!==(n=os(e,n))){if(aP&&!r)return e.errorRecoveryDisabledLanes|=t,aA|=t,4;e=aL,aL=i,null!==e&&a2(e)}return n}function a2(e){null===aL?aL=e:aL.push.apply(aL,e)}function a3(e,t,n,i,r,s,a){if(0==(42&s)&&(cE={stylesheets:null,count:0,unsuspend:cP},ac(t),null!==(t=function(){if(null===cE)throw Error(o(475));var e=cE;return e.stylesheets&&0===e.count&&cI(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&cI(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}()))){e.cancelPendingCommit=t(oc.bind(null,e,n,i,r)),a4(e,s,a);return}oc(e,n,i,r,a)}function a6(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0),2&ax?aV=!0:4&ax&&(aF=!0),ob()}function a4(e,t,n){t&=~aO,t&=~aA,e.suspendedLanes|=t,e.pingedLanes&=~t;for(var i=e.expirationTimes,r=t;0<r;){var s=31-eo(r),a=1<<s;i[s]=-1,r&=~a}0!==n&&ey(e,n,t)}function a5(e,t){var n=ax;ax|=1;try{return e(t)}finally{0===(ax=n)&&(a$=K()+500,n_(!0))}}function a8(e){null!==aW&&0===aW.tag&&0==(6&ax)&&od();var t=ax;ax|=1;var n=ab.transition,i=eb;try{if(ab.transition=null,eb=2,e)return e()}finally{eb=i,ab.transition=n,0==(6&(ax=t))&&n_(!1)}}function a9(){if(null!==ak){if(0===aC)var e=ak.return;else e=ak,sn(),iA(e),nQ=null,nZ=0,e=ak;for(;null!==e;)sI(e.alternate,e),e=e.return;ak=null}}function a7(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,u8(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),a9(),aw=e,ak=n=oS(e.current,null),aS=t,aC=0,aE=null,aP=!1,aN=0,aI=null,aD=aO=aA=aM=0,aL=aR=null,aV=!1,0!=(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-eo(i),s=1<<r;t|=e[r],i&=~s}return aT=t,na(),n}function oe(e,t){ip=null,ic.current=rv,a_.current=null,t===nU?(t=nX(),aC=ot()&&0==(134217727&aM)&&0==(134217727&aA)?2:3):t===nq?(t=nX(),aC=4):aC=t===rL?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,aE=t,null===ak&&(aN=1,aI=t)}function ot(){var e=it.current;return null===e||((4194176&aS)===aS?null===ii:((62914560&aS)===aS||0!=(536870912&aS))&&e===ii)}function on(){var e=av.current;return av.current=rv,null===e?rv:e}function oi(){var e=ay.current;return ay.current=am,e}function or(){aN=4,0==(134217727&aM)&&0==(134217727&aA)||null===aw||a4(aw,aS,aD)}function os(e,t){var n=ax;ax|=2;var i=on(),r=oi();(aw!==e||aS!==t)&&(az=null,a7(e,t)),t=!1;t:for(;;)try{if(0!==aC&&null!==ak){var s=ak,a=aE;switch(aC){case 8:a9(),aN=6;break t;case 3:case 2:t||null!==it.current||(t=!0);default:aC=0,aE=null,ol(e,s,a)}}!function(){for(;null!==ak;)oa(ak)}();break}catch(t){oe(e,t)}if(t&&e.shellSuspendCounter++,sn(),ax=n,av.current=i,ay.current=r,null!==ak)throw Error(o(261));return aw=null,aS=0,na(),aN}function oa(e){var t=oZ(e.alternate,e,aT);e.memoizedProps=e.pendingProps,null===t?ou(e):ak=t,a_.current=null}function oo(e){var t=e.alternate;switch(e.tag){case 2:e.tag=0;case 15:case 0:var n=e.type,i=e.pendingProps;i=e.elementType===n?i:rx(n,i);var r=tI(n)?tT:tE.current;r=tN(e,r),t=rW(t,e,i,n,r,aS);break;case 11:n=e.type.render,i=e.pendingProps,i=e.elementType===n?i:rx(n,i),t=rW(t,e,i,n,e.ref,aS);break;case 5:iA(e);default:sI(t,e),e=ak=oC(e,aT),t=oZ(t,e,aT)}e.memoizedProps=e.pendingProps,null===t?ou(e):ak=t,a_.current=null}function ol(e,t,n){sn(),iA(t),nQ=null,nZ=0;var i=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"==typeof i&&"function"==typeof i.then){var s=n.tag;if(0!=(1&n.mode)||0!==s&&11!==s&&15!==s||((s=n.alternate)?(n.updateQueue=s.updateQueue,n.memoizedState=s.memoizedState,n.lanes=s.lanes):(n.updateQueue=null,n.memoizedState=null)),null!==(s=it.current)){switch(s.tag){case 13:return 1&n.mode&&(null===ii?or():null===s.alternate&&0===aN&&(aN=3)),s.flags&=-257,rD(s,t,n,e,r),i===nH?s.flags|=16384:(null===(t=s.updateQueue)?s.updateQueue=new Set([i]):t.add(i),1&s.mode&&om(e,i,r)),!1;case 22:if(1&s.mode)return s.flags|=65536,i===nH?s.flags|=16384:(null===(t=s.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},s.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),om(e,i,r)),!1}throw Error(o(435,s.tag))}if(1===e.tag)return om(e,i,r),or(),!1;i=Error(o(426))}if(tZ&&1&n.mode&&null!==(s=it.current))return 0==(65536&s.flags)&&(s.flags|=256),rD(s,t,n,e,r),nn(rN(i,n)),!1;if(e=i=rN(i,n),4!==aN&&(aN=2),null===aR?aR=[e]:aR.push(e),null===t)return!0;e=t;do{switch(e.tag){case 3:return e.flags|=65536,r&=-r,e.lanes|=r,r=rA(e,i,r),nL(e,r),!1;case 1:if(t=i,n=e.type,s=e.stateNode,0==(128&e.flags)&&("function"==typeof n.getDerivedStateFromError||null!==s&&"function"==typeof s.componentDidCatch&&(null===aq||!aq.has(s))))return e.flags|=65536,r&=-r,e.lanes|=r,r=rO(e,t,r),nL(e,r),!1}e=e.return}while(null!==e);return!1}(e,i,t,n,aS)){aN=1,aI=n,ak=null;return}}catch(e){if(null!==i)throw ak=i,e;aN=1,aI=n,ak=null;return}if(32768&t.flags)t:{e=t;do{if(null!==(t=function(e,t){switch(tK(t),t.tag){case 1:return tI(t.type)&&tM(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sr(sf),j(),m(tP),m(tE),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return q(t),null;case 13:if(io(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));nt()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return m(il),null;case 4:return j(),null;case 10:return sr(t.type._context),null;case 22:case 23:return io(t),ie(),null!==e&&m(sx),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return sr(sf),null;default:return null}}(e.alternate,e))){t.flags&=32767,ak=t;break t}null!==(e=e.return)&&(e.flags|=32768,e.subtreeFlags=0,e.deletions=null),ak=e}while(null!==e);aN=6,ak=null}else ou(t)}function ou(e){var t=e;do{e=t.return;var n=function(e,t,n){var i=t.pendingProps;switch(tK(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sN(t),null;case 1:case 17:return tI(t.type)&&tM(),sN(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),sr(sf),j(),m(tP),m(tE),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(null===e||null===e.child)&&(t7(t)?sC(t):null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==tJ&&(a2(tJ),tJ=null))),sN(t),null;case 26:if(n=t.memoizedState,null===e)sC(t),null!==n?(sN(t),sE(t,n)):(sN(t),t.flags&=-16777217);else{var r=e.memoizedState;n!==r&&sC(t),null!==n?(sN(t),n===r?t.flags&=-16777217:sE(t,n)):(e.memoizedProps!==i&&sC(t),sN(t),t.flags&=-16777217)}return null;case 27:if(q(t),n=F.current,r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&sC(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return sN(t),null}e=L.current,t7(t)?ca(t.stateNode,t.type,t.memoizedProps,e,t):(e=cl(r,i,n),t.stateNode=e,sC(t))}return sN(t),null;case 5:if(q(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&sC(t);else{if(!i){if(null===t.stateNode)throw Error(o(166));return sN(t),null}if(e=L.current,t7(t))ca(t.stateNode,t.type,t.memoizedProps,e,t);else{switch(r=u1(F.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild);break;case"select":e="string"==typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"==typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[eS]=t,e[eC]=i;t:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(t.stateNode=e,uQ(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break;case"img":e=!0;break;default:e=!1}e&&sC(t)}}return sN(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&sC(t);else{if("string"!=typeof i&&null===t.stateNode)throw Error(o(166));if(e=F.current,t7(t)){t:{if(e=t.stateNode,n=t.memoizedProps,e[eS]=t,(i=e.nodeValue!==n)&&null!==(r=tX))switch(r.tag){case 3:if(r=0!=(1&r.mode),uY(e.nodeValue,n,r),r){e=!1;break t}break;case 27:case 5:var s=0!=(1&r.mode);if(!0!==r.memoizedProps.suppressHydrationWarning&&uY(e.nodeValue,n,s),s){e=!1;break t}}e=i}e&&sC(t)}else(e=u1(e).createTextNode(i))[eS]=t,t.stateNode=e}return sN(t),null;case 13:if(io(t),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(tZ&&null!==tQ&&0!=(1&t.mode)&&0==(128&t.flags))ne(),nt(),t.flags|=384,r=!1;else if(r=t7(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[eS]=t}else nt(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;sN(t),r=!1}else null!==tJ&&(a2(tJ),tJ=null),r=!0;if(!r)return 256&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return n=null!==i,e=null!==e&&null!==e.memoizedState,n&&(i=t.child,r=null,null!==i.alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool),s=null,null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),sP(t,t.updateQueue),sN(t),null;case 4:return j(),null===e&&uV(t.stateNode.containerInfo),sN(t),null;case 10:return sr(t.type._context),sN(t),null;case 19:if(m(il),null===(r=t.memoizedState))return sN(t),null;if(i=0!=(128&t.flags),null===(s=r.rendering)){if(i)sT(r,!1);else{if(0!==aN||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=iu(e))){for(t.flags|=128,sT(r,!1),e=s.updateQueue,t.updateQueue=e,sP(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)oC(n,e),n=n.sibling;return g(il,1&il.current|2),t.child}e=e.sibling}null!==r.tail&&K()>a$&&(t.flags|=128,i=!0,sT(r,!1),t.lanes=4194304)}}else{if(!i){if(null!==(e=iu(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,sP(t,e),sT(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!tZ)return sN(t),null}else 2*K()-r.renderingStartTime>a$&&536870912!==n&&(t.flags|=128,i=!0,sT(r,!1),t.lanes=4194304)}r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}if(null!==r.tail)return t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=K(),t.sibling=null,e=il.current,g(il,i?1&e|2:1&e),t;return sN(t),null;case 22:case 23:return io(t),ie(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i&&0!=(1&t.mode)?0!=(536870912&n)&&0==(128&t.flags)&&(sN(t),6&t.subtreeFlags&&(t.flags|=8192)):sN(t),null!==(n=t.updateQueue)&&sP(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&m(sx),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),sr(sf),sN(t),null;case 25:return null}throw Error(o(156,t.tag))}(t.alternate,t,aT);if(null!==n){ak=n;return}if(null!==(t=t.sibling)){ak=t;return}ak=t=e}while(null!==t);0===aN&&(aN=5)}function oc(e,t,n,i,r){var s=eb,a=ab.transition;try{ab.transition=null,eb=2,function(e,t,n,i,r,s){do od();while(null!==aW);if(0!=(6&ax))throw Error(o(327));var a,l=e.finishedWork,u=e.finishedLanes;if(null!==l){if(e.finishedWork=null,e.finishedLanes=0,l===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var c=l.lanes|l.childLanes;if(function(e,t,n){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.entangledLanes&=t,e.errorRecoveryDisabledLanes&=t,e.shellSuspendCounter=0,t=e.entanglements;for(var r=e.expirationTimes,s=e.hiddenUpdates;0<i;){var a=31-eo(i),o=1<<a;t[a]=0,r[a]=-1;var l=s[a];if(null!==l)for(s[a]=null,a=0;a<l.length;a++){var u=l[a];null!==u&&(u.lane&=-536870913)}i&=~o}0!==n&&ey(e,n,0)}(e,c|=ns,s),aF=!1,e===aw&&(ak=aw=null,aS=0),0==(10256&l.subtreeFlags)&&0==(10256&l.flags)||aH||(aH=!0,aG=c,aK=n,a=function(){return od(),null},H(J,a)),n=0!=(15990&l.flags),0!=(15990&l.subtreeFlags)||n){n=ab.transition,ab.transition=null,s=eb,eb=2;var h=ax;ax|=4,a_.current=null,function(e,t){if(uJ=lA,uu(e=ul())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r,s=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break t}var l=0,u=-1,c=-1,h=0,d=0,p=e,f=null;n:for(;;){for(;p!==n||0!==s&&3!==p.nodeType||(u=l+s),p!==a||0!==i&&3!==p.nodeType||(c=l+i),3===p.nodeType&&(l+=p.nodeValue.length),null!==(r=p.firstChild);)f=p,p=r;for(;;){if(p===e)break n;if(f===n&&++h===s&&(u=l),f===a&&++d===i&&(c=l),null!==(r=p.nextSibling))break;f=(p=f).parentNode}p=r}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(u0={focusedElem:e,selectionRange:n},lA=!1,sz=t;null!==sz;)if(e=(t=sz).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,sz=e;else for(;null!==sz;){t=sz;try{var m=t.alternate,g=t.flags;switch(t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!=(1024&g)&&null!==m){var v=m.memoizedProps,y=m.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?v:rx(t.type,v),y);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:0!=(1024&g)&&cn(t.stateNode.containerInfo);break;default:if(0!=(1024&g))throw Error(o(163))}}catch(e){of(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,sz=e;break}sz=t.return}m=sH,sH=!1}(e,l),s7(l,e),function(e){var t=ul(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==i&&uu(n)){if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=uo(n,s);var a=uo(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(u0),lA=!!uJ,u0=uJ=null,e.current=l,sQ(e,l.alternate,l),G(),ax=h,eb=s,ab.transition=n}else e.current=l;if(aH?(aH=!1,aW=e,aY=u):oh(e,c),0===(c=e.pendingLanes)&&(aq=null),function(e){if(es&&"function"==typeof es.onCommitFiberRoot)try{es.onCommitFiberRoot(er,e,void 0,128==(128&e.current.flags))}catch(e){}}(l.stateNode,r),ny(e),null!==t)for(r=e.onRecoverableError,l=0;l<t.length;l++)n={digest:(c=t[l]).digest,componentStack:c.stack},r(c.value,n);if(aj)throw aj=!1,e=aU,aU=null,e;0!=(3&aY)&&0!==e.tag&&od(),c=e.pendingLanes,i||aF||0!=(4194218&u)&&0!=(42&c)?e===aQ?aX++:(aX=0,aQ=e):aX=0,n_(!1)}}(e,t,n,i,s,r)}finally{ab.transition=a,eb=s}return null}function oh(e,t){0==(e.pooledCacheLanes&=t)&&null!=(t=e.pooledCache)&&(e.pooledCache=null,sg(t))}function od(){if(null!==aW){var e=aW,t=aG;aG=0;var n=ex(aY),i=32>n?32:n;n=ab.transition;var r=eb;try{if(ab.transition=null,eb=i,null===aW)var s=!1;else{i=aK,aK=null;var a=aW,l=aY;if(aW=null,aY=0,0!=(6&ax))throw Error(o(331));var u=ax;if(ax|=4,ap(a.current),aa(a,a.current,l,i),ax=u,n_(!1),es&&"function"==typeof es.onPostCommitFiberRoot)try{es.onPostCommitFiberRoot(er,a)}catch(e){}s=!0}return s}finally{eb=r,ab.transition=n,oh(e,t)}}return!1}function op(e,t,n){t=rA(e,t=rN(n,t),2),null!==(e=nD(e,t,2))&&(a6(e,2),ny(e))}function of(e,t,n){if(3===e.tag)op(e,e,n);else for(;null!==t;){if(3===t.tag){op(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===aq||!aq.has(i))){e=rO(t,e=rN(n,e),2),null!==(t=nD(t,e,2))&&(a6(t,2),ny(t));break}}t=t.return}}function om(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ag;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(aP=!0,r.add(n),e=og.bind(null,e,t,n),t.then(e,e))}function og(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,2&ax?aV=!0:4&ax&&(aF=!0),ob(),aw===e&&(aS&n)===n&&(4===aN||3===aN&&(62914560&aS)===aS&&300>K()-aB?0==(2&ax)&&a7(e,0):aO|=n),ny(e)}function ov(e,t){0===t&&(t=0==(1&e.mode)?2:eg()),null!==(e=nu(e,t))&&(a6(e,t),ny(e))}function oy(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ov(e,n)}function o_(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==i&&i.delete(t),ov(e,n)}function ob(){if(50<aX)throw aX=0,aQ=null,2&ax&&null!==aw&&(aw.errorRecoveryDisabledLanes|=aS),Error(o(185))}function ox(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ow(e,t,n,i){return new ox(e,t,n,i)}function ok(e){return!(!(e=e.prototype)||!e.isReactComponent)}function oS(e,t){var n=e.alternate;return null===n?((n=ow(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=31457280&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function oC(e,t){e.flags&=31457282;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function oE(e,t,n,i,r,s){var a=2;if(i=e,"function"==typeof e)ok(e)&&(a=1);else if("string"==typeof e)a=!function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;if("stylesheet"===t.rel)return e=t.disabled,"string"==typeof t.precedence&&null==e;return!0;case"script":if(!0===t.async&&!t.onLoad&&!t.onError&&"string"==typeof t.src&&t.src)return!0}return!1}(e,n,L.current)?"html"===e||"head"===e||"body"===e?27:5:26;else t:switch(e){case _:return oP(n.children,r,s,t);case b:a=8,0!=(1&(r|=8))&&(r|=16);break;case x:return(e=ow(12,n,t,2|r)).elementType=x,e.lanes=s,e;case E:return(e=ow(13,n,t,r)).elementType=E,e.lanes=s,e;case P:return(e=ow(19,n,t,r)).elementType=P,e.lanes=s,e;case M:return oT(n,r,s,t);case A:case I:case O:return(e=ow(24,n,t,r)).elementType=O,e.lanes=s,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:a=10;break t;case S:a=9;break t;case k:case C:a=11;break t;case T:a=14;break t;case N:a=16,i=null;break t}throw Error(o(130,null==e?e:typeof e,""))}return(t=ow(a,n,t,r)).elementType=e,t.type=i,t.lanes=s,t}function oP(e,t,n,i){return(e=ow(7,e,i,t)).lanes=n,e}function oT(e,t,n,i){(e=ow(22,e,i,t)).elementType=M,e.lanes=n;var r={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var e=r._current;if(null===e)throw Error(o(456));if(0==(2&r._pendingVisibility)){var t=nu(e,2);null!==t&&(r._pendingVisibility|=2,aJ(t,e,2))}},attach:function(){var e=r._current;if(null===e)throw Error(o(456));if(0!=(2&r._pendingVisibility)){var t=nu(e,2);null!==t&&(r._pendingVisibility&=-3,aJ(t,e,2))}}};return e.stateNode=r,e}function oN(e,t,n){return(e=ow(6,e,null,t)).lanes=n,e}function oI(e,t,n){return(t=ow(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oM(e,t,n,i,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ev(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.hiddenUpdates=ev(null),this.identifierPrefix=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function oA(e,t,n,i,r,s,a,o,l,u,c){return e=new oM(e,t,n,o,l,c),1===t?(t=1,!0===s&&(t|=24)):t=0,s=ow(3,null,null,t),e.current=s,s.stateNode=e,t=sm(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},nM(s),e}function oO(e){if(!e)return tC;e=e._reactInternals;t:{if(tx(e)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(tI(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(tI(n))return tO(e,n,t)}return t}function oD(e,t,n,i,r,s,a,o,l,u,c){return(e=oA(n,i,!0,e,r,s,a,o,l,u,c)).context=oO(null),(r=nO(i=aZ(n=e.current))).callback=null!=t?t:null,nD(n,r,i),e.current.lanes=i,a6(e,i),ny(e),e}function oR(e,t,n,i){var r=t.current,s=aZ(r);return n=oO(n),null===t.context?t.context=n:t.pendingContext=n,(t=nO(s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=nD(r,t,s))&&(aJ(e,r,s),nR(e,r,s)),s}function oL(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function oV(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function oF(e,t){oV(e,t),(e=e.alternate)&&oV(e,t)}function oB(e){if(13===e.tag){var t=nu(e,67108864);null!==t&&aJ(t,e,67108864),oF(e,67108864)}}oZ=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||tP.current)rV=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return rV=!1,function(e,t,n){switch(t.tag){case 3:rK(t),si(t,sf,e.memoizedState.cache),nt();break;case 27:case 5:U(t);break;case 1:tI(t.type)&&tD(t);break;case 4:z(t,t.stateNode.containerInfo);break;case 10:si(t,t.type._context,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i){if(null!==i.dehydrated)return ir(t),t.flags|=128,null;if(0!=(n&t.child.childLanes))return r0(e,t,n);return ir(t),null!==(e=r8(e,t,n))?e.sibling:null}ir(t);break;case 19:if(i=0!=(n&t.childLanes),0!=(128&e.flags)){if(i)return r4(e,t,n);t.flags|=128}var r=t.memoizedState;if(null!==r&&(r.rendering=null,r.tail=null,r.lastEffect=null),g(il,il.current),!i)return null;break;case 22:case 23:return t.lanes=0,rj(e,t,n);case 24:si(t,sf,e.memoizedState.cache)}return r8(e,t,n)}(e,t,n);rV=0!=(131072&e.flags)}}else rV=!1,tZ&&0!=(1048576&t.flags)&&tY(t,t$,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;r5(e,t),e=t.pendingProps;var r=tN(t,tE.current);so(t,n),r=iE(null,t,i,e,r,n);var s=iI();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tI(i)?(s=!0,tD(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,nM(t),r.updater=rk,t.stateNode=r,r._reactInternals=t,rP(t,i,e,n),t=rG(null,t,i,!0,s,n)):(t.tag=0,tZ&&s&&tG(t),rF(null,t,r,n),t=t.child),t;case 16:i=t.elementType;t:{switch(r5(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"==typeof e)return ok(e)?1:0;if(null!=e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(i),e=rx(i,e),r){case 0:t=rH(null,t,i,e,n);break t;case 1:t=rY(null,t,i,e,n);break t;case 11:t=rB(null,t,i,e,n);break t;case 14:t=r$(null,t,i,rx(i.type,e),n);break t}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:rx(i,r),rH(e,t,i,r,n);case 1:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:rx(i,r),rY(e,t,i,r,n);case 3:t:{if(rK(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,nA(e,t),nB(t,r,null,n);var a=t.memoizedState;if(si(t,sf,r=a.cache),r!==s.cache&&sa(t,sf,n),nF(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){i=rN(Error(o(423)),t),t=rX(e,t,r,n,i);break t}if(r!==i){i=rN(Error(o(424)),t),t=rX(e,t,r,n,i);break t}for(tQ=cr(t.stateNode.containerInfo.firstChild),tX=t,tZ=!0,tJ=null,t0=!0,n=n4(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(nt(),r===i){t=r8(e,t,n);break t}rF(e,t,r,n)}t=t.child}return t;case 26:return rq(e,t),n=t.memoizedState=function(e,t,n){if(!(t=(t=F.current)?ch(t):null))throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(n=cf(n.href),(e=(t=eV(t).hoistableStyles).get(n))||(e={type:"style",instance:null,count:0,state:null},t.set(n,e)),e):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=cf(n.href);var i,r,s,a,l=eV(t).hoistableStyles,u=l.get(e);return u||(t=t.ownerDocument||t,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,u),cu.has(e)||(i=t,r=e,s={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},a=u.state,cu.set(r,s),i.querySelector(cm(r))||(i.querySelector('link[rel="preload"][as="style"]['+r+"]")?a.loading=1:(r=i.createElement("link"),a.preload=r,r.addEventListener("load",function(){return a.loading|=1}),r.addEventListener("error",function(){return a.loading|=2}),uQ(r,"link",s),eF(r),i.head.appendChild(r))))),u}return null;case"script":return"string"==typeof n.src&&!0===n.async?(n=cv(n.src),(e=(t=eV(t).hoistableScripts).get(n))||(e={type:"script",instance:null,count:0,state:null},t.set(n,e)),e):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}(t.type,null===e?null:e.memoizedProps,t.pendingProps),null!==e||tZ||null!==n||(n=t.type,e=t.pendingProps,(i=u1(F.current).createElement(n))[eS]=t,i[eC]=e,uQ(i,n,e),eF(i),t.stateNode=i),null;case 27:return U(t),null===e&&tZ&&(i=t.stateNode=cl(t.type,t.pendingProps,F.current),tX=t,t0=!0,tQ=cr(i.firstChild)),i=t.pendingProps.children,null!==e||tZ?rF(e,t,i,n):t.child=n6(t,null,i,n),rq(e,t),t.child;case 5:return null===e&&tZ&&((r=i=tQ)?t3(t,r)||(t5(t)&&t8(),tQ=cs(r),s=tX,tQ&&t3(t,tQ)?t1(s,r):(t2(tX,t),tZ=!1,tX=t,tQ=i)):(t5(t)&&t8(),t2(tX,t),tZ=!1,tX=t,tQ=i)),U(t),r=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,i=s.children,u6(r,s)?i=null:null!==a&&u6(r,a)&&(t.flags|=32),null!==t.memoizedState&&(r=iE(e,t,iN,null,null,n),$._currentValue=r,rV&&null!==e&&e.memoizedState.memoizedState!==r&&sa(t,$,n)),rq(e,t),rF(e,t,i,n),t.child;case 6:return null===e&&tZ&&((i=""!==t.pendingProps,(e=n=tQ)&&i)?t6(t,e)||(t5(t)&&t8(),tQ=cs(e),i=tX,tQ&&t6(t,tQ)?t1(i,e):(t2(tX,t),tZ=!1,tX=t,tQ=n)):(t5(t)&&t8(),t2(tX,t),tZ=!1,tX=t,tQ=n)),null;case 13:return r0(e,t,n);case 4:return z(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=n6(t,null,i,n):rF(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:rx(i,r),rB(e,t,i,r,n);case 7:return rF(e,t,t.pendingProps,n),t.child;case 8:case 12:return rF(e,t,t.pendingProps.children,n),t.child;case 10:t:{if(i=t.type._context,r=t.pendingProps,s=t.memoizedProps,si(t,i,a=r.value),null!==s){if(tL(s.value,a)){if(s.children===r.children&&!tP.current){t=r8(e,t,n);break t}}else sa(t,i,n)}rF(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,so(t,n),i=i(r=sl(r)),t.flags|=1,rF(e,t,i,n),t.child;case 14:return r=rx(i=t.type,t.pendingProps),r=rx(i.type,r),r$(e,t,i,r,n);case 15:return rz(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:rx(i,r),r5(e,t),t.tag=1,tI(i)?(e=!0,tD(t)):e=!1,so(t,n),rC(t,i,r),rP(t,i,r,n),rG(null,t,i,!0,e,n);case 19:return r4(e,t,n);case 22:return rj(e,t,n);case 24:return so(t,n),i=sl(sf),null===e?(null===(r=sw())&&(r=aw,s=sm(),r.pooledCache=s,s.refCount++,null!==s&&(r.pooledCacheLanes|=n),r=s),t.memoizedState={parent:i,cache:r},nM(t),si(t,sf,r)):(0!=(e.lanes&n)&&(nA(e,t),nB(t,null,null,n),nF()),r=e.memoizedState,s=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),si(t,sf,i)):(si(t,sf,i=s.cache),i!==r.cache&&sa(t,sf,n))),rF(e,t,t.pendingProps.children,n),t.child}throw Error(o(156,t.tag))};var o$=!1;function oz(e,t,n){if(o$)return e(t,n);o$=!0;try{return a5(e,t,n)}finally{o$=!1,(null!==tg||null!==tv)&&(a8(),tb())}}function oj(e,t){var n=e.stateNode;if(null===n)return null;var i=eL(n);if(null===i)return null;switch(n=i[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var oU=!1;if(eU)try{var oq={};Object.defineProperty(oq,"passive",{get:function(){oU=!0}}),window.addEventListener("test",oq,oq),window.removeEventListener("test",oq,oq)}catch(e){oU=!1}function oH(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function oW(){return!0}function oY(){return!1}function oG(e){function t(t,n,i,r,s){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?oW:oY,this.isPropagationStopped=oY,this}return l(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oW)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oW)},persist:function(){},isPersistent:oW}),t}var oK,oX,oQ,oZ,oJ,o0,o1,o2={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o3=oG(o2),o6=l({},o2,{view:0,detail:0}),o4=oG(o6),o5=l({},o6,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==o1&&(o1&&"mousemove"===e.type?(oJ=e.screenX-o1.screenX,o0=e.screenY-o1.screenY):o0=oJ=0,o1=e),oJ)},movementY:function(e){return"movementY"in e?e.movementY:o0}}),o8=oG(o5),o9=oG(l({},o5,{dataTransfer:0})),o7=oG(l({},o6,{relatedTarget:0})),le=oG(l({},o2,{animationName:0,elapsedTime:0,pseudoElement:0})),lt=oG(l({},o2,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),ln=oG(l({},o2,{data:0})),li={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ls={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function la(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=ls[e])&&!!t[e]}function lo(){return la}var ll=oG(l({},o6,{key:function(e){if(e.key){var t=li[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=oH(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?lr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(e){return"keypress"===e.type?oH(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?oH(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),lu=oG(l({},o5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),lc=oG(l({},o6,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo})),lh=oG(l({},o2,{propertyName:0,elapsedTime:0,pseudoElement:0})),ld=oG(l({},o5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),lp=!1,lf=null,lm=null,lg=null,lv=new Map,ly=new Map,l_=[],lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lx(e,t){switch(e){case"focusin":case"focusout":lf=null;break;case"dragenter":case"dragleave":lm=null;break;case"mouseover":case"mouseout":lg=null;break;case"pointerover":case"pointerout":lv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ly.delete(t.pointerId)}}function lw(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&null!==(t=eD(t))&&oB(t)):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r)),e}function lk(e){var t=eO(e.target);if(null!==t){var n=tx(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=tw(n))){e.blockedOn=t,function(e,t){var n=eb;try{return eb=e,t()}finally{eb=n}}(e.priority,function(){if(13===n.tag){var e=aZ(n),t=nu(n,e);null!==t&&aJ(t,n,e),oF(n,e)}});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lS(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=lL(e.nativeEvent);if(null!==n)return null!==(t=eD(n))&&oB(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);tf=i,n.target.dispatchEvent(i),tf=null,t.shift()}return!0}function lC(e,t,n){lS(e)&&n.delete(t)}function lE(){lp=!1,null!==lf&&lS(lf)&&(lf=null),null!==lm&&lS(lm)&&(lm=null),null!==lg&&lS(lg)&&(lg=null),lv.forEach(lC),ly.forEach(lC)}function lP(e,t){e.blockedOn===t&&(e.blockedOn=null,lp||(lp=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,lE)))}var lT=null;function lN(e){lT!==e&&(lT=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){lT===e&&(lT=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!=typeof i){if(null===lF(i||n))continue;break}var s=eD(n);null!==s&&(e.splice(t,3),t-=3,ra(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function lI(e){function t(t){return lP(t,e)}null!==lf&&lP(lf,e),null!==lm&&lP(lm,e),null!==lg&&lP(lg,e),lv.forEach(t),ly.forEach(t);for(var n=0;n<l_.length;n++){var i=l_[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<l_.length&&null===(n=l_[0]).blockedOn;)lk(n),null===n.blockedOn&&l_.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=eL(r);if("function"==typeof s)a||lN(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=eL(s))o=a.formAction;else if(null!==lF(r))continue}else o=a.action;"function"==typeof o?n[i+1]=o:(n.splice(i,3),i-=3),lN(n)}}}var lM=u.ReactCurrentBatchConfig,lA=!0;function lO(e,t,n,i){var r=eb,s=lM.transition;lM.transition=null;try{eb=2,lR(e,t,n,i)}finally{eb=r,lM.transition=s}}function lD(e,t,n,i){var r=eb,s=lM.transition;lM.transition=null;try{eb=8,lR(e,t,n,i)}finally{eb=r,lM.transition=s}}function lR(e,t,n,i){if(lA){var r=lL(i);if(null===r)uB(e,t,i,lV,n),lx(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return lf=lw(lf,e,t,n,i,r),!0;case"dragenter":return lm=lw(lm,e,t,n,i,r),!0;case"mouseover":return lg=lw(lg,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return lv.set(s,lw(lv.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,ly.set(s,lw(ly.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(lx(e,i),4&t&&-1<lb.indexOf(e)){for(;null!==r;){var s=eD(r);if(null!==s&&function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ed(t.pendingLanes);0!==n&&(function(e,t){for(e.pendingLanes|=2,e.entangledLanes|=2;t;){var n=1<<31-eo(t);e.entanglements[1]|=n,t&=~n}}(t,n),ny(t),0==(6&ax)&&(a$=K()+500,n_(!1)))}break;case 13:a8(function(){var t=nu(e,2);null!==t&&aJ(t,e,2)}),oF(e,2)}}(s),null===(s=lL(i))&&uB(e,t,i,lV,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else uB(e,t,i,null,n)}}function lL(e){return lF(e=tm(e))}var lV=null;function lF(e){if(lV=null,null!==(e=eO(e))){var t=tx(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=tw(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lV=e,null}function lB(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(X()){case Q:return 2;case Z:return 8;case J:case ee:return 32;case et:return 268435456;default:return 32}default:return 32}}var l$=null,lz=null,lj=null;function lU(){if(lj)return lj;var e,t,n=lz,i=n.length,r="value"in l$?l$.value:l$.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[s-t];t++);return lj=r.slice(e,1<t?1-t:void 0)}var lq=[9,13,27,32],lH=eU&&"CompositionEvent"in window,lW=null;eU&&"documentMode"in document&&(lW=document.documentMode);var lY=eU&&"TextEvent"in window&&!lW,lG=eU&&(!lH||lW&&8<lW&&11>=lW),lK=!1;function lX(e,t){switch(e){case"keyup":return -1!==lq.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lQ(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var lZ=!1,lJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!lJ[e.type]:"textarea"===t}function l1(e,t,n,i){t_(i),0<(t=uz(t,"onChange")).length&&(n=new o3("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var l2=null,l3=null;function l6(e){uO(e,0)}function l4(e){if(e6(eR(e)))return e}function l5(e,t){if("change"===e)return t}var l8=!1;if(eU){if(eU){var l9="oninput"in document;if(!l9){var l7=document.createElement("div");l7.setAttribute("oninput","return;"),l9="function"==typeof l7.oninput}i=l9}else i=!1;l8=i&&(!document.documentMode||9<document.documentMode)}function ue(){l2&&(l2.detachEvent("onpropertychange",ut),l3=l2=null)}function ut(e){if("value"===e.propertyName&&l4(l3)){var t=[];l1(t,l3,e,tm(e)),oz(l6,t)}}function un(e,t,n){"focusin"===e?(ue(),l2=t,l3=n,l2.attachEvent("onpropertychange",ut)):"focusout"===e&&ue()}function ui(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return l4(l3)}function ur(e,t){if("click"===e)return l4(t)}function us(e,t){if("input"===e||"change"===e)return l4(t)}function ua(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uo(e,t){var n,i=ua(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}t:{for(;i;){if(i.nextSibling){i=i.nextSibling;break t}i=i.parentNode}i=void 0}i=ua(i)}}function ul(){for(var e=window,t=e4();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=e4(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var uc=eU&&"documentMode"in document&&11>=document.documentMode,uh=null,ud=null,up=null,uf=!1;function um(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;uf||null==uh||uh!==e4(i)||(i="selectionStart"in(i=uh)&&uu(i)?{start:i.selectionStart,end:i.selectionEnd}:{anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},up&&nj(up,i)||(up=i,0<(i=uz(ud,"onSelect")).length&&(t=new o3("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=uh)))}function ug(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var uv={animationend:ug("Animation","AnimationEnd"),animationiteration:ug("Animation","AnimationIteration"),animationstart:ug("Animation","AnimationStart"),transitionend:ug("Transition","TransitionEnd")},uy={},u_={};function ub(e){if(uy[e])return uy[e];if(!uv[e])return e;var t,n=uv[e];for(t in n)if(n.hasOwnProperty(t)&&t in u_)return uy[e]=n[t];return e}eU&&(u_=document.createElement("div").style,"AnimationEvent"in window||(delete uv.animationend.animation,delete uv.animationiteration.animation,delete uv.animationstart.animation),"TransitionEvent"in window||delete uv.transitionend.transition);var ux=ub("animationend"),uw=ub("animationiteration"),uk=ub("animationstart"),uS=ub("transitionend"),uC=new Map,uE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function uP(e,t){uC.set(e,t),ez(t,[e])}for(var uT=0;uT<uE.length;uT++){var uN=uE[uT];uP(uN.toLowerCase(),"on"+(uN[0].toUpperCase()+uN.slice(1)))}uP(ux,"onAnimationEnd"),uP(uw,"onAnimationIteration"),uP(uk,"onAnimationStart"),uP("dblclick","onDoubleClick"),uP("focusin","onFocus"),uP("focusout","onBlur"),uP(uS,"onTransitionEnd"),ej("onMouseEnter",["mouseout","mouseover"]),ej("onMouseLeave",["mouseout","mouseover"]),ej("onPointerEnter",["pointerout","pointerover"]),ej("onPointerLeave",["pointerout","pointerover"]),ez("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ez("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ez("onBeforeInput",["compositionend","keypress","textInput","paste"]),ez("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ez("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ez("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uI="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uM=new Set("cancel close invalid load scroll scrollend toggle".split(" ").concat(uI));function uA(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,s,a,l,u){if(sV.apply(this,arguments),sA){if(sA){var c=sO;sA=!1,sO=null}else throw Error(o(198));sD||(sD=!0,sR=c)}}(i,t,void 0,e),e.currentTarget=null}function uO(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;t:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break t;uA(r,o,u),s=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break t;uA(r,o,u),s=l}}}if(sD)throw e=sR,sD=!1,sR=null,e}function uD(e,t){var n=t[eP];void 0===n&&(n=t[eP]=new Set);var i=e+"__bubble";n.has(i)||(uF(t,e,2,!1),n.add(i))}function uR(e,t,n){var i=0;t&&(i|=4),uF(n,e,i,t)}var uL="_reactListening"+Math.random().toString(36).slice(2);function uV(e){if(!e[uL]){e[uL]=!0,eB.forEach(function(t){"selectionchange"!==t&&(uM.has(t)||uR(t,!1,e),uR(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[uL]||(t[uL]=!0,uR("selectionchange",!1,t))}}function uF(e,t,n,i){switch(lB(t)){case 2:var r=lO;break;case 8:r=lD;break;default:r=lR}n=r.bind(null,t,n,e),r=void 0,oU&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function uB(e,t,n,i,r){var s=i;if(0==(1&t)&&0==(2&t)&&null!==i)t:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==o;){if(null===(a=eO(o)))return;if(5===(l=a.tag)||6===l||26===l||27===l){i=s=a;continue t}o=o.parentNode}}i=i.return}oz(function(){var i=s,r=tm(n),a=[];t:{var o=uC.get(e);if(void 0!==o){var l=o3,u=e;switch(e){case"keypress":if(0===oH(n))break t;case"keydown":case"keyup":l=ll;break;case"focusin":u="focus",l=o7;break;case"focusout":u="blur",l=o7;break;case"beforeblur":case"afterblur":l=o7;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=o8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=o9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=lc;break;case ux:case uw:case uk:l=le;break;case uS:l=lh;break;case"scroll":case"scrollend":l=o4;break;case"wheel":l=ld;break;case"copy":case"cut":case"paste":l=lt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=lu}var c=0!=(4&t),h=!c&&("scroll"===e||"scrollend"===e),d=c?null!==o?o+"Capture":null:o;c=[];for(var p,f=i;null!==f;){var m=f;if(p=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===p||null===d||null!=(m=oj(f,d))&&c.push(u$(f,m,p)),h)break;f=f.return}0<c.length&&(o=new l(o,u,null,n,r),a.push({event:o,listeners:c}))}}if(0==(7&t)){if(o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==tf&&(u=n.relatedTarget||n.fromElement)&&(eO(u)||u[eE]))&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=i,null!==(u=u?eO(u):null)&&(h=tx(u),c=u.tag,u!==h||5!==c&&27!==c&&6!==c)&&(u=null)):(l=null,u=i),l!==u)){if(c=o8,m="onMouseLeave",d="onMouseEnter",f="mouse",("pointerout"===e||"pointerover"===e)&&(c=lu,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?o:eR(l),p=null==u?o:eR(u),(o=new c(m,f+"leave",l,n,r)).target=h,o.relatedTarget=p,m=null,eO(r)===i&&((c=new c(d,f+"enter",u,n,r)).target=p,c.relatedTarget=h,m=c),h=m,l&&u)n:{for(c=l,d=u,f=0,p=c;p;p=uj(p))f++;for(p=0,m=d;m;m=uj(m))p++;for(;0<f-p;)c=uj(c),f--;for(;0<p-f;)d=uj(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break n;c=uj(c),d=uj(d)}c=null}else c=null;null!==l&&uU(a,o,l,c,!1),null!==u&&null!==h&&uU(a,h,u,c,!0)}t:{if("select"===(l=(o=i?eR(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g,v=l5;else if(l0(o)){if(l8)v=us;else{v=ui;var y=un}}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=ur);if(v&&(v=v(e,i))){l1(a,v,n,r);break t}y&&y(e,o,i),"focusout"===e&&i&&"number"===o.type&&null!=i.memoizedProps.value&&te(o,"number",o.value)}switch(y=i?eR(i):window,e){case"focusin":(l0(y)||"true"===y.contentEditable)&&(uh=y,ud=i,up=null);break;case"focusout":up=ud=uh=null;break;case"mousedown":uf=!0;break;case"contextmenu":case"mouseup":case"dragend":uf=!1,um(a,n,r);break;case"selectionchange":if(uc)break;case"keydown":case"keyup":um(a,n,r)}if(lH)n:{switch(e){case"compositionstart":var _="onCompositionStart";break n;case"compositionend":_="onCompositionEnd";break n;case"compositionupdate":_="onCompositionUpdate";break n}_=void 0}else lZ?lX(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(lG&&"ko"!==n.locale&&(lZ||"onCompositionStart"!==_?"onCompositionEnd"===_&&lZ&&(g=lU()):(lz="value"in(l$=r)?l$.value:l$.textContent,lZ=!0)),0<(y=uz(i,_)).length&&(_=new ln(_,e,null,n,r),a.push({event:_,listeners:y}),g?_.data=g:null!==(g=lQ(n))&&(_.data=g))),(g=lY?function(e,t){switch(e){case"compositionend":return lQ(t);case"keypress":if(32!==t.which)return null;return lK=!0," ";case"textInput":return" "===(e=t.data)&&lK?null:e;default:return null}}(e,n):function(e,t){if(lZ)return"compositionend"===e||!lH&&lX(e,t)?(e=lU(),lj=lz=l$=null,lZ=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lG&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(_=uz(i,"onBeforeInput")).length&&(y=new ln("onBeforeInput","beforeinput",null,n,r),a.push({event:y,listeners:_}),y.data=g),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var s=eL(r).action,a=i.submitter;if(a&&null!=(t=(t=eL(a))?t.formAction:a.getAttribute("formAction"))&&(s=t,a=null),"function"==typeof s){var o=new o3("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(!i.defaultPrevented){if(o.preventDefault(),a){var e=a.ownerDocument.createElement("input");e.name=a.name,e.value=a.value,a.parentNode.insertBefore(e,a);var t=new FormData(r);e.parentNode.removeChild(e)}else t=new FormData(r);ra(n,{pending:!0,data:t,method:r.method,action:s},s,t)}},currentTarget:r}]})}}}(a,e,i,n,r)}uO(a,t)})}function u$(e,t,n){return{instance:e,listener:t,currentTarget:n}}function uz(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=oj(e,n))&&i.unshift(u$(e,r,s)),null!=(r=oj(e,t))&&i.push(u$(e,r,s))),e=e.return}return i}function uj(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag&&27!==e.tag);return e||null}function uU(e,t,n,i,r){for(var s=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===u||(l=u,r?null!=(u=oj(n,s))&&a.unshift(u$(n,u,l)):r||null!=(u=oj(n,s))&&a.push(u$(n,u,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var uq=/\r\n?/g,uH=/\u0000|\uFFFD/g;function uW(e){return("string"==typeof e?e:""+e).replace(uq,"\n").replace(uH,"")}function uY(e,t,n){if(t=uW(t),uW(e)!==t&&n)throw Error(o(425))}function uG(){}function uK(e,t,n,i,r,s){switch(n){case"children":"string"==typeof i?"body"===t||"textarea"===t&&""===i||tl(e,i):"number"==typeof i&&"body"!==t&&tl(e,""+i);break;case"className":eG(e,"class",i);break;case"tabIndex":eG(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":eG(e,n,i);break;case"style":th(e,i,s);break;case"src":case"href":if(null==i||"function"==typeof i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}e.setAttribute(n,""+i);break;case"action":case"formAction":if("function"==typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof s&&("formAction"===n?("input"!==t&&uK(e,t,"name",r.name,r,null),uK(e,t,"formEncType",r.formEncType,r,null),uK(e,t,"formMethod",r.formMethod,r,null),uK(e,t,"formTarget",r.formTarget,r,null)):(uK(e,t,"encType",r.encType,r,null),uK(e,t,"method",r.method,r,null),uK(e,t,"target",r.target,r,null))),null==i||"symbol"==typeof i||"boolean"==typeof i){e.removeAttribute(n);break}e.setAttribute(n,""+i);break;case"onClick":null!=i&&(e.onclick=uG);break;case"onScroll":null!=i&&uD("scroll",e);break;case"onScrollEnd":null!=i&&uD("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(o(61));if(null!=(i=i.__html)){if(null!=r.children)throw Error(o(60));to(e,i)}}break;case"multiple":e.multiple=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"muted":e.muted=i&&"function"!=typeof i&&"symbol"!=typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"==typeof i||"boolean"==typeof i||"symbol"==typeof i){e.removeAttribute("xlink:href");break}e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",""+i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!=typeof i&&"symbol"!=typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!=typeof i&&"symbol"!=typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"==typeof i||"symbol"==typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"xlinkActuate":eK(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":eK(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":eK(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":eK(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":eK(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":eK(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":eK(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":eK(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":eK(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":eY(e,"is",i);break;default:2<n.length&&("o"===n[0]||"O"===n[0])&&("n"===n[1]||"N"===n[1])||eY(e,r=tp.get(n)||n,i)}}function uX(e,t,n,i,r,s){switch(n){case"style":th(e,i,s);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!=typeof i||!("__html"in i))throw Error(o(61));if(null!=(t=i.__html)){if(null!=r.children)throw Error(o(60));to(e,t)}}break;case"children":"string"==typeof i?tl(e,i):"number"==typeof i&&tl(e,""+i);break;case"onScroll":null!=i&&uD("scroll",e);break;case"onScrollEnd":null!=i&&uD("scrollend",e);break;case"onClick":null!=i&&(e.onclick=uG);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;default:e$.hasOwnProperty(n)||("boolean"==typeof i&&(i=""+i),eY(e,n,i))}}function uQ(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":uD("invalid",e);var i=null,r=null,s=null,a=null,l=null,u=null;for(h in n)if(n.hasOwnProperty(h)){var c=n[h];if(null!=c)switch(h){case"name":i=c;break;case"type":r=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":s=c;break;case"defaultValue":a=c;break;case"children":case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(137,t));break;default:uK(e,t,h,c,n,null)}}e7(e,s,a,l,u,r,i,!1),e3(e);return;case"select":uD("invalid",e);var h=r=s=null;for(i in n)if(n.hasOwnProperty(i)&&null!=(a=n[i]))switch(i){case"value":s=a;break;case"defaultValue":r=a;break;case"multiple":h=a;default:uK(e,t,i,a,n,null)}t=s,n=r,e.multiple=!!h,null!=t?tn(e,!!h,t,!1):null!=n&&tn(e,!!h,n,!0);return;case"textarea":for(r in uD("invalid",e),s=i=h=null,n)if(n.hasOwnProperty(r)&&null!=(a=n[r]))switch(r){case"value":h=a;break;case"defaultValue":i=a;break;case"children":s=a;break;case"dangerouslySetInnerHTML":if(null!=a)throw Error(o(91));break;default:uK(e,t,r,a,n,null)}tr(e,h,i,s),e3(e);return;case"option":for(a in n)n.hasOwnProperty(a)&&null!=(h=n[a])&&("selected"===a?e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h:uK(e,t,a,h,n,null));return;case"dialog":uD("cancel",e),uD("close",e);break;case"iframe":case"object":uD("load",e);break;case"video":case"audio":for(h=0;h<uI.length;h++)uD(uI[h],e);break;case"image":uD("error",e),uD("load",e);break;case"details":uD("toggle",e);break;case"embed":case"source":case"img":case"link":uD("error",e),uD("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(l in n)if(n.hasOwnProperty(l)&&null!=(h=n[l]))switch(l){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:uK(e,t,l,h,n,null)}return;default:if(td(t)){for(u in n)n.hasOwnProperty(u)&&null!=(h=n[u])&&uX(e,t,u,h,n,null);return}}for(s in n)n.hasOwnProperty(s)&&null!=(h=n[s])&&uK(e,t,s,h,n,null)}function uZ(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,l=null,u=null,c=null,h=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":u=d;default:i.hasOwnProperty(f)||uK(e,t,f,null,i,d)}}for(var p in i){var f=i[p];if(d=n[p],i.hasOwnProperty(p)&&(null!=f||null!=d))switch(p){case"type":s=f;break;case"name":r=f;break;case"checked":c=f;break;case"defaultChecked":h=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:f!==d&&uK(e,t,p,f,i,d)}}e9(e,a,l,u,c,h,s,r);return;case"select":for(s in f=a=l=p=null,n)if(u=n[s],n.hasOwnProperty(s)&&null!=u)switch(s){case"value":break;case"multiple":f=u;default:i.hasOwnProperty(s)||uK(e,t,s,null,i,u)}for(r in i)if(s=i[r],u=n[r],i.hasOwnProperty(r)&&(null!=s||null!=u))switch(r){case"value":p=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==u&&uK(e,t,r,s,i,u)}t=l,n=a,i=f,null!=p?tn(e,!!n,p,!1):!!i!=!!n&&(null!=t?tn(e,!!n,t,!0):tn(e,!!n,n?[]:"",!1));return;case"textarea":for(l in f=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:uK(e,t,l,null,i,r)}for(a in i)if(r=i[a],s=n[a],i.hasOwnProperty(a)&&(null!=r||null!=s))switch(a){case"value":p=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(o(91));break;default:r!==s&&uK(e,t,a,r,i,s)}ti(e,p,f);return;case"option":for(var m in n)p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m)&&("selected"===m?e.selected=!1:uK(e,t,m,null,i,p));for(u in i)p=i[u],f=n[u],i.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f)&&("selected"===u?e.selected=p&&"function"!=typeof p&&"symbol"!=typeof p:uK(e,t,u,p,i,f));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!i.hasOwnProperty(g)&&uK(e,t,g,null,i,p);for(c in i)if(p=i[c],f=n[c],i.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:uK(e,t,c,p,i,f)}return;default:if(td(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!i.hasOwnProperty(v)&&uX(e,t,v,null,i,p);for(h in i)p=i[h],f=n[h],i.hasOwnProperty(h)&&p!==f&&(null!=p||null!=f)&&uX(e,t,h,p,i,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!i.hasOwnProperty(y)&&uK(e,t,y,null,i,p);for(d in i)p=i[d],f=n[d],i.hasOwnProperty(d)&&p!==f&&(null!=p||null!=f)&&uK(e,t,d,p,i,f)}var uJ=null,u0=null;function u1(e){return 9===e.nodeType?e:e.ownerDocument}function u2(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u3(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function u6(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var u4=null,u5="function"==typeof setTimeout?setTimeout:void 0,u8="function"==typeof clearTimeout?clearTimeout:void 0,u9="function"==typeof Promise?Promise:void 0,u7="function"==typeof queueMicrotask?queueMicrotask:void 0!==u9?function(e){return u9.resolve(null).then(e).catch(ce)}:u5;function ce(e){setTimeout(function(){throw e})}function ct(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType){if("/$"===(n=r.data)){if(0===i){e.removeChild(r),lI(t);return}i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++}n=r}while(n);lI(t)}function cn(e){var t=e.nodeType;if(9===t)ci(e);else if(1===t)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ci(e);break;default:e.textContent=""}}function ci(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":ci(n),eA(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}function cs(e){return cr(e.nextSibling)}function ca(e,t,n,i,r){switch(e[eS]=r,e[eC]=n,i=0!=(1&r.mode),t){case"dialog":uD("cancel",e),uD("close",e);break;case"iframe":case"object":case"embed":uD("load",e);break;case"video":case"audio":for(r=0;r<uI.length;r++)uD(uI[r],e);break;case"source":uD("error",e);break;case"img":case"image":case"link":uD("error",e),uD("load",e);break;case"details":uD("toggle",e);break;case"input":uD("invalid",e),e7(e,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),e3(e);break;case"select":uD("invalid",e);break;case"textarea":uD("invalid",e),tr(e,n.value,n.defaultValue,n.children),e3(e)}"string"!=typeof(r=n.children)&&"number"!=typeof r||e.textContent===""+r||(!0!==n.suppressHydrationWarning&&uY(e.textContent,r,i),i||"body"===t||(e.textContent=r)),null!=n.onScroll&&uD("scroll",e),null!=n.onScrollEnd&&uD("scrollend",e),null!=n.onClick&&(e.onclick=uG)}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function cl(e,t,n){switch(t=u1(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}var cu=new Map,cc=new Set;function ch(e){return"function"==typeof e.getRootNode?e.getRootNode():e.ownerDocument}var cd={prefetchDNS:function(e){cp("dns-prefetch",e,null)},preconnect:function(e,t){cp("preconnect",e,t)},preload:function(e,t,n){var i=document;if(e&&t&&i){var r='link[rel="preload"][as="'+e8(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+e8(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+e8(n.imageSizes)+'"]')):r+='[href="'+e8(e)+'"]';var s=r;switch(t){case"style":s=cf(e);break;case"script":s=cv(e)}cu.has(s)||(e=l({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),cu.set(s,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(cm(s))||"script"===t&&i.querySelector(cy(s))||(uQ(t=i.createElement("link"),"link",e),eF(t),i.head.appendChild(t)))}},preloadModule:function(e,t){var n=document;if(e){var i=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+e8(i)+'"][href="'+e8(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=cv(e)}if(!cu.has(s)&&(e=l({rel:"modulepreload",href:e},t),cu.set(s,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(cy(s)))return}uQ(i=n.createElement("link"),"link",e),eF(i),n.head.appendChild(i)}}},preinitStyle:function(e,t,n){var i=document;if(e){var r=eV(i).hoistableStyles,s=cf(e);t=t||"default";var a=r.get(s);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(cm(s)))o.loading=5;else{e=l({rel:"stylesheet",href:e,"data-precedence":t},n),(n=cu.get(s))&&cx(e,n);var u=a=i.createElement("link");eF(u),uQ(u,"link",e),u._p=new Promise(function(e,t){u.onload=e,u.onerror=t}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,cb(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(s,a)}}},preinitScript:function(e,t){var n=document;if(e){var i=eV(n).hoistableScripts,r=cv(e),s=i.get(r);s||((s=n.querySelector(cy(r)))||(e=l({src:e,async:!0},t),(t=cu.get(r))&&cw(e,t),eF(s=n.createElement("script")),uQ(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}},preinitModuleScript:function(e,t){var n=document;if(e){var i=eV(n).hoistableScripts,r=cv(e),s=i.get(r);s||((s=n.querySelector(cy(r)))||(e=l({src:e,async:!0,type:"module"},t),(t=cu.get(r))&&cw(e,t),eF(s=n.createElement("script")),uQ(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}};function cp(e,t,n){var i=document;if("string"==typeof t&&t){var r=e8(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),cc.has(r)||(cc.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(uQ(t=i.createElement("link"),"link",e),eF(t),i.head.appendChild(t)))}}function cf(e){return'href="'+e8(e)+'"'}function cm(e){return'link[rel="stylesheet"]['+e+"]"}function cg(e){return l({},e,{"data-precedence":e.precedence,precedence:null})}function cv(e){return'[src="'+e8(e)+'"]'}function cy(e){return"script[async]"+e}function c_(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+e8(n.href)+'"]');if(i)return t.instance=i,eF(i),i;var r=l({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return eF(i=(e.ownerDocument||e).createElement("style")),uQ(i,"style",r),cb(i,n.precedence,e),t.instance=i;case"stylesheet":r=cf(n.href);var s=e.querySelector(cm(r));if(s)return t.state.loading|=4,t.instance=s,eF(s),s;i=cg(n),(r=cu.get(r))&&cx(i,r),eF(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),uQ(s,"link",i),t.state.loading|=4,cb(s,n.precedence,e),t.instance=s;case"script":if(s=cv(n.src),r=e.querySelector(cy(s)))return t.instance=r,eF(r),r;return i=n,(r=cu.get(s))&&cw(i=l({},n),r),eF(r=(e=e.ownerDocument||e).createElement("script")),uQ(r,"link",i),e.head.appendChild(r),t.instance=r;case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0==(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,cb(i,n.precedence,e));return t.instance}function cb(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function cx(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function cw(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var ck=null;function cS(e,t,n){if(null===ck){var i=new Map,r=ck=new Map;r.set(n,i)}else(i=(r=ck).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[eM]||s[eS]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(s):i.set(a,[s])}}return i}function cC(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}var cE=null;function cP(){}function cT(){if(this.count--,0===this.count){if(this.stylesheets)cI(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cN=null;function cI(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,cN=new Map,t.forEach(cM,e),cN=null,cT.call(e))}function cM(e,t){if(!(4&t.state.loading)){var n=cN.get(e);if(n)var i=n.get(null);else{n=new Map,cN.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];("link"===a.nodeName||"not all"!==a.getAttribute("media"))&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}a=(r=t.instance).getAttribute("data-precedence"),(s=n.get(a)||i)===i&&n.set(null,r),n.set(a,r),this.count++,i=cT.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var cA=a.Dispatcher;"undefined"!=typeof document&&(cA.current=cd);var cO="function"==typeof reportError?reportError:function(e){console.error(e)};function cD(e){this._internalRoot=e}function cR(e){this._internalRoot=e}function cL(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function cV(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function cF(){}function cB(e,t,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof r){var o=r;r=function(){var e=oL(a);o.call(e)}}oR(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"==typeof i){var s=i;i=function(){var e=oL(a);s.call(e)}}var a=oD(t,i,e,0,null,!1,!1,"",cF,null,null);return e._reactRootContainer=a,e[eE]=a.current,uV(8===e.nodeType?e.parentNode:e),a8(),a}if(cn(e),"function"==typeof i){var o=i;i=function(){var e=oL(l);o.call(e)}}var l=oA(e,0,!1,null,null,!1,!1,"",cF,null,null);return e._reactRootContainer=l,e[eE]=l.current,uV(8===e.nodeType?e.parentNode:e),a8(function(){oR(t,l,n,i)}),l}(n,t,e,r,i);return oL(a)}function c$(e,t){return"font"===e?"":"string"==typeof t?"use-credentials"===t?t:"":void 0}cR.prototype.render=cD.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));oR(e,t,null,null)},cR.prototype.unmount=cD.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;a8(function(){oR(null,e,null,null)}),t[eE]=null}},cR.prototype.unstable_scheduleHydration=function(e){if(e){var t=eb;e={blockedOn:null,target:e,priority:t};for(var n=0;n<l_.length&&0!==t&&t<l_[n].priority;n++);l_.splice(n,0,e),0===n&&lk(e)}};var cz=a.Dispatcher;a.Events=[eD,eR,eL,t_,tb,a5];var cj={findFiberByHostInstance:eO,bundleType:0,version:"18.3.0-canary-14898b6a9-20240318",rendererPackageName:"react-dom"},cU={bundleType:cj.bundleType,version:cj.version,rendererPackageName:cj.rendererPackageName,rendererConfig:cj.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=tS(e))?null:e.stateNode},findFiberByHostInstance:cj.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.0-canary-14898b6a9-20240318"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var cq=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cq.isDisabled&&cq.supportsFiber)try{er=cq.inject(cU),es=cq}catch(e){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!cL(t))throw Error(o(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:y,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!cL(e))throw Error(o(299));var n=!1,i="",r=cO,s=null;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&(s=t.unstable_transitionCallbacks)),t=oA(e,1,!1,null,null,n,!1,i,r,s,null),e[eE]=t.current,cA.current=cd,uV(8===e.nodeType?e.parentNode:e),new cD(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,e=Object.keys(e).join(",")))}return e=null===(e=tS(t))?null:e.stateNode},t.flushSync=function(e){return a8(e)},t.hydrate=function(e,t,n){if(!cV(t))throw Error(o(299));return cB(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!cL(e))throw Error(o(299));var i=!1,r="",s=cO,a=null,l=null;return null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&(a=n.unstable_transitionCallbacks),void 0!==n.formState&&(l=n.formState)),t=oD(t,null,e,1,null!=n?n:null,i,!1,r,s,a,l),e[eE]=t.current,cA.current=cd,uV(e),new cR(t)},t.preconnect=function(e,t){var n=cz.current;n&&"string"==typeof e&&(t=t?"string"==typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:null,n.preconnect(e,t))},t.prefetchDNS=function(e){var t=cz.current;t&&"string"==typeof e&&t.prefetchDNS(e)},t.preinit=function(e,t){var n=cz.current;if(n&&"string"==typeof e&&t&&"string"==typeof t.as){var i=t.as,r=c$(i,t.crossOrigin),s="string"==typeof t.integrity?t.integrity:void 0,a="string"==typeof t.fetchPriority?t.fetchPriority:void 0;"style"===i?n.preinitStyle(e,"string"==typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:s,fetchPriority:a}):"script"===i&&n.preinitScript(e,{crossOrigin:r,integrity:s,fetchPriority:a,nonce:"string"==typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){var n=cz.current;if(n&&"string"==typeof e){if("object"==typeof t&&null!==t){if(null==t.as||"script"===t.as){var i=c$(t.as,t.crossOrigin);n.preinitModuleScript(e,{crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0})}}else null==t&&n.preinitModuleScript(e)}},t.preload=function(e,t){var n=cz.current;if(n&&"string"==typeof e&&"object"==typeof t&&null!==t&&"string"==typeof t.as){var i=t.as,r=c$(i,t.crossOrigin);n.preload(e,i,{crossOrigin:r,integrity:"string"==typeof t.integrity?t.integrity:void 0,nonce:"string"==typeof t.nonce?t.nonce:void 0,type:"string"==typeof t.type?t.type:void 0,fetchPriority:"string"==typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"==typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"==typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"==typeof t.imageSizes?t.imageSizes:void 0})}},t.preloadModule=function(e,t){var n=cz.current;if(n&&"string"==typeof e){if(t){var i=c$(t.as,t.crossOrigin);n.preloadModule(e,{as:"string"==typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:i,integrity:"string"==typeof t.integrity?t.integrity:void 0})}else n.preloadModule(e)}},t.render=function(e,t,n){if(!cV(t))throw Error(o(299));return cB(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!cV(e))throw Error(o(299));return!!e._reactRootContainer&&(a8(function(){cB(null,null,e,!1,function(){e._reactRootContainer=null,e[eE]=null})}),!0)},t.unstable_batchedUpdates=a5,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!cV(n))throw Error(o(299));if(null==e||void 0===e._reactInternals)throw Error(o(38));return cB(e,t,n,!1,i)},t.useFormState=function(e,t,n){return c.current.useFormState(e,t,n)},t.useFormStatus=function(){return c.current.useHostTransitionStatus()},t.version="18.3.0-canary-14898b6a9-20240318"},49480:function(e,t,n){"use strict";n.d(t,{NI:function(){return P},XI:function(){return S},YF:function(){return C}});var i,r=n(7653);if(666==n.j)var s=n(16264);if(n(27573),666==n.j)var a=n(89005);if(n(3458),666==n.j)var o=n(43533);let l="active",u="selected",c={...i||(i=n.t(r,2))},h=!1,d=0,p=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+d++,f=c.useId,m=666==n.j?f||function(){let[e,t]=r.useState(()=>h?p():void 0);return(0,s.Xj)(()=>{null==e&&t(p())},[]),r.useEffect(()=>{h=!0},[]),e}:null,g=666==n.j?r.createContext(null):null,v=666==n.j?r.createContext(null):null,y=()=>{var e;return(null==(e=r.useContext(g))?void 0:e.id)||null},_=()=>r.useContext(v);function b(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}let x=666==n.j?"data-floating-ui-safe-polygon":null;function w(e,t,n){if(n&&!(0,s.r)(n))return 0;if("number"==typeof e)return e;if("function"==typeof e){let n=e();return"number"==typeof n?n:null==n?void 0:n[t]}return null==e?void 0:e[t]}function k(e){return"function"==typeof e?e():e}function S(e,t){void 0===t&&(t={});let{open:n,onOpenChange:i,dataRef:o,events:l,elements:u}=e,{enabled:c=!0,delay:h=0,handleClose:d=null,mouseOnly:p=!1,restMs:f=0,move:m=!0}=t,g=_(),v=y(),S=(0,s.II)(d),C=(0,s.II)(h),E=(0,s.II)(n),P=(0,s.II)(f),T=r.useRef(),N=r.useRef(-1),I=r.useRef(),M=r.useRef(-1),A=r.useRef(!0),O=r.useRef(!1),D=r.useRef(()=>{}),R=r.useRef(!1),L=(0,s.iW)(()=>{var e;let t=null==(e=o.current.openEvent)?void 0:e.type;return(null==t?void 0:t.includes("mouse"))&&"mousedown"!==t});r.useEffect(()=>{if(c)return l.on("openchange",e),()=>{l.off("openchange",e)};function e(e){let{open:t}=e;t||(b(N),b(M),A.current=!0,R.current=!1)}},[c,l]),r.useEffect(()=>{if(!c||!S.current||!n)return;function e(e){L()&&i(!1,e,"hover")}let t=(0,s.Me)(u.floating).documentElement;return t.addEventListener("mouseleave",e),()=>{t.removeEventListener("mouseleave",e)}},[u.floating,n,i,c,S,L]);let V=r.useCallback(function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="hover");let r=w(C.current,"close",T.current);r&&!I.current?(b(N),N.current=window.setTimeout(()=>i(!1,e,n),r)):t&&(b(N),i(!1,e,n))},[C,i]),F=(0,s.iW)(()=>{D.current(),I.current=void 0}),B=(0,s.iW)(()=>{if(O.current){let e=(0,s.Me)(u.floating).body;e.style.pointerEvents="",e.removeAttribute(x),O.current=!1}}),$=(0,s.iW)(()=>!!o.current.openEvent&&["click","mousedown"].includes(o.current.openEvent.type));r.useEffect(()=>{if(c&&(0,a.kK)(u.domReference)){let i=u.domReference,s=u.floating;return n&&i.addEventListener("mouseleave",r),m&&i.addEventListener("mousemove",e,{once:!0}),i.addEventListener("mouseenter",e),i.addEventListener("mouseleave",t),s&&(s.addEventListener("mouseleave",r),s.addEventListener("mouseenter",l),s.addEventListener("mouseleave",h)),()=>{n&&i.removeEventListener("mouseleave",r),m&&i.removeEventListener("mousemove",e),i.removeEventListener("mouseenter",e),i.removeEventListener("mouseleave",t),s&&(s.removeEventListener("mouseleave",r),s.removeEventListener("mouseenter",l),s.removeEventListener("mouseleave",h))}}function e(e){if(b(N),A.current=!1,p&&!(0,s.r)(T.current)||k(P.current)>0&&!w(C.current,"open"))return;let t=w(C.current,"open",T.current);t?N.current=window.setTimeout(()=>{E.current||i(!0,e,"hover")},t):n||i(!0,e,"hover")}function t(e){if($()){B();return}D.current();let t=(0,s.Me)(u.floating);if(b(M),R.current=!1,S.current&&o.current.floatingContext){n||b(N),I.current=S.current({...o.current.floatingContext,tree:g,x:e.clientX,y:e.clientY,onClose(){B(),F(),$()||V(e,!0,"safe-polygon")}});let i=I.current;t.addEventListener("mousemove",i),D.current=()=>{t.removeEventListener("mousemove",i)};return}"touch"===T.current&&(0,s.r3)(u.floating,e.relatedTarget)||V(e)}function r(e){!$()&&o.current.floatingContext&&(null==S.current||S.current({...o.current.floatingContext,tree:g,x:e.clientX,y:e.clientY,onClose(){B(),F(),$()||V(e)}})(e))}function l(){b(N)}function h(e){$()||V(e,!1)}},[u,c,e,p,m,V,F,B,i,n,E,g,C,S,o,$,P]),(0,s.Xj)(()=>{var e,t;if(c&&n&&null!=(e=S.current)&&null!=(e=e.__options)&&e.blockPointerEvents&&L()){O.current=!0;let e=u.floating;if((0,a.kK)(u.domReference)&&e){let n=(0,s.Me)(u.floating).body;n.setAttribute(x,"");let i=u.domReference,r=null==g||null==(t=g.nodesRef.current.find(e=>e.id===v))||null==(t=t.context)?void 0:t.elements.floating;return r&&(r.style.pointerEvents=""),n.style.pointerEvents="none",i.style.pointerEvents="auto",e.style.pointerEvents="auto",()=>{n.style.pointerEvents="",i.style.pointerEvents="",e.style.pointerEvents=""}}}},[c,n,v,u,g,S,L]),(0,s.Xj)(()=>{n||(T.current=void 0,R.current=!1,F(),B())},[n,F,B]),r.useEffect(()=>()=>{F(),b(N),b(M),B()},[c,u.domReference,F,B]);let z=r.useMemo(()=>{function e(e){T.current=e.pointerType}return{onPointerDown:e,onPointerEnter:e,onMouseMove(e){let{nativeEvent:t}=e;function r(){A.current||E.current||i(!0,t,"hover")}!(!p||(0,s.r)(T.current))||n||0===k(P.current)||R.current&&e.movementX**2+e.movementY**2<2||(b(M),"touch"===T.current?r():(R.current=!0,M.current=window.setTimeout(r,k(P.current))))}}},[p,i,n,E,P]);return r.useMemo(()=>c?{reference:z}:{},[c,z])}function C(e){void 0===e&&(e={});let{nodeId:t}=e,n=function(e){let{open:t=!1,onOpenChange:n,elements:i}=e,a=m(),o=r.useRef({}),[l]=r.useState(()=>(function(){let e=new Map;return{emit(t,n){var i;null==(i=e.get(t))||i.forEach(e=>e(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var i;null==(i=e.get(t))||i.delete(n)}}})()),u=null!=y(),[c,h]=r.useState(i.reference),d=(0,s.iW)((e,t,i)=>{o.current.openEvent=e?t:void 0,l.emit("openchange",{open:e,event:t,reason:i,nested:u}),null==n||n(e,t,i)}),p=r.useMemo(()=>({setPositionReference:h}),[]),f=r.useMemo(()=>({reference:c||i.reference||null,floating:i.floating||null,domReference:i.reference}),[c,i.reference,i.floating]);return r.useMemo(()=>({dataRef:o,open:t,onOpenChange:d,elements:f,events:l,floatingId:a,refs:p}),[t,d,f,l,a,p])}({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||n,l=i.elements,[u,c]=r.useState(null),[h,d]=r.useState(null),p=(null==l?void 0:l.domReference)||u,f=r.useRef(null),g=_();(0,s.Xj)(()=>{p&&(f.current=p)},[p]);let v=(0,o.YF)({...e,elements:{...l,...h&&{reference:h}}}),b=r.useCallback(e=>{let t=(0,a.kK)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;d(t),v.refs.setReference(t)},[v.refs]),x=r.useCallback(e=>{((0,a.kK)(e)||null===e)&&(f.current=e,c(e)),((0,a.kK)(v.refs.reference.current)||null===v.refs.reference.current||null!==e&&!(0,a.kK)(e))&&v.refs.setReference(e)},[v.refs]),w=r.useMemo(()=>({...v.refs,setReference:x,setPositionReference:b,domReference:f}),[v.refs,x,b]),k=r.useMemo(()=>({...v.elements,domReference:p}),[v.elements,p]),S=r.useMemo(()=>({...v,...i,refs:w,elements:k,nodeId:t}),[v,w,k,t,i]);return(0,s.Xj)(()=>{i.dataRef.current.floatingContext=S;let e=null==g?void 0:g.nodesRef.current.find(e=>e.id===t);e&&(e.context=S)}),r.useMemo(()=>({...v,context:S,refs:w,elements:k}),[v,w,k,S])}function E(e,t,n){let i=new Map,r="item"===n,s=e;if(r&&e){let{[l]:t,[u]:n,...i}=e;s=i}return{..."floating"===n&&{tabIndex:-1,"data-floating-ui-focusable":""},...s,...t.map(t=>{let i=t?t[n]:null;return"function"==typeof i?e?i(e):null:i}).concat(e).reduce((e,t)=>(t&&Object.entries(t).forEach(t=>{let[n,s]=t;if(!(r&&[l,u].includes(n))){if(0===n.indexOf("on")){if(i.has(n)||i.set(n,[]),"function"==typeof s){var a;null==(a=i.get(n))||a.push(s),e[n]=function(){for(var e,t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];return null==(e=i.get(n))?void 0:e.map(e=>e(...r)).find(e=>void 0!==e)}}}else e[n]=s}}),e),{})}}function P(e){void 0===e&&(e=[]);let t=e.map(e=>null==e?void 0:e.reference),n=e.map(e=>null==e?void 0:e.floating),i=e.map(e=>null==e?void 0:e.item),s=r.useCallback(t=>E(t,e,"reference"),t),a=r.useCallback(t=>E(t,e,"floating"),n),o=r.useCallback(t=>E(t,e,"item"),i);return r.useMemo(()=>({getReferenceProps:s,getFloatingProps:a,getItemProps:o}),[s,a,o])}},43036:function(e,t,n){"use strict";n.d(t,{Cf:function(){return eI},DK:function(){return eA},K9:function(){return eO},ML:function(){return eN},NB:function(){return eM},P1:function(){return v},bR:function(){return ef},hj:function(){return B},m7:function(){return y},vc:function(){return O}});var i=n(70267),r=n(88588),s=n(55219),a=n(58839),o=n(49736),l=n(81273),u=n(63217);function c(e){let{state:t,transaction:n}=e,{selection:i}=n,{doc:r}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,s=n.storedMarks,n}}}class h{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){let{rawCommands:e,editor:t,state:n}=this,{view:i}=t,{tr:r}=n,s=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,(...e)=>{let n=t(...e)(s);return r.getMeta("preventDispatch")||this.hasCustomState||i.dispatch(r),n}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){let{rawCommands:n,editor:i,state:r}=this,{view:s}=i,a=[],o=!!e,l=e||r.tr,u={...Object.fromEntries(Object.entries(n).map(([e,n])=>[e,(...e)=>{let i=this.buildProps(l,t),r=n(...e)(i);return a.push(r),u}])),run:()=>(o||!t||l.getMeta("preventDispatch")||this.hasCustomState||s.dispatch(l),a.every(e=>!0===e))};return u}createCan(e){let{rawCommands:t,state:n}=this,i=e||n.tr,r=this.buildProps(i,!1);return{...Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...r,dispatch:void 0})])),chain:()=>this.createChain(i,!1)}}buildProps(e,t=!0){let{rawCommands:n,editor:i,state:r}=this,{view:s}=i,a={tr:e,editor:i,view:s,state:c({state:r,transaction:e}),dispatch:t?()=>void 0:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(a)]))}};return a}}class d{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){let n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){let n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}once(e,t){let n=(...i)=>{this.off(e,n),t.apply(this,i)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}}function p(e,t,n){return void 0===e.config[t]&&e.parent?p(e.parent,t,n):"function"==typeof e.config[t]?e.config[t].bind({...n,parent:e.parent?p(e.parent,t,n):null}):e.config[t]}function f(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function m(e){let t=[],{nodeExtensions:n,markExtensions:i}=f(e),r=[...n,...i],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{let n={name:e.name,options:e.options,storage:e.storage,extensions:r},i=p(e,"addGlobalAttributes",n);i&&i().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,i])=>{t.push({type:n,name:e,attribute:{...s,...i}})})})})}),r.forEach(e=>{let n={name:e.name,options:e.options,storage:e.storage},i=p(e,"addAttributes",n);i&&Object.entries(i()).forEach(([n,i])=>{let r={...s,...i};"function"==typeof(null==r?void 0:r.default)&&(r.default=r.default()),(null==r?void 0:r.isRequired)&&(null==r?void 0:r.default)===void 0&&delete r.default,t.push({type:e.name,name:n,attribute:r})})}),t}function g(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function v(...e){return e.filter(e=>!!e).reduce((e,t)=>{let n={...e};return Object.entries(t).forEach(([e,t])=>{if(!n[e]){n[e]=t;return}if("class"===e){let i=t?String(t).split(" "):[],r=n[e]?n[e].split(" "):[],s=i.filter(e=>!r.includes(e));n[e]=[...r,...s].join(" ")}else if("style"===e){let i=t?t.split(";").map(e=>e.trim()).filter(Boolean):[],r=n[e]?n[e].split(";").map(e=>e.trim()).filter(Boolean):[],s=new Map;r.forEach(e=>{let[t,n]=e.split(":").map(e=>e.trim());s.set(t,n)}),i.forEach(e=>{let[t,n]=e.split(":").map(e=>e.trim());s.set(t,n)}),n[e]=Array.from(s.entries()).map(([e,t])=>`${e}: ${t}`).join("; ")}else n[e]=t}),n},{})}function y(e,t){return t.filter(t=>t.type===e.type.name).filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>v(e,t),{})}function _(e){return"function"==typeof e}function b(e,t,...n){return _(e)?t?e.bind(t)(...n):e(...n):e}function x(e,t){return"style"in e?e:{...e,getAttrs:n=>{let i=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===i)return!1;let r=t.reduce((e,t)=>{var i;let r=t.attribute.parseHTML?t.attribute.parseHTML(n):"string"!=typeof(i=n.getAttribute(t.name))?i:i.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(i):"true"===i||"false"!==i&&i;return null==r?e:{...e,[t.name]:r}},{});return{...i,...r}}}}function w(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>!("attrs"===e&&function(e={}){return 0===Object.keys(e).length&&e.constructor===Object}(t))&&null!=t))}function k(e,t){return t.nodes[e]||t.marks[e]||null}function S(e,t){return Array.isArray(t)?t.some(t=>("string"==typeof t?t:t.name)===e.name):t}function C(e,t){let n=a.PW.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}let E=(e,t=500)=>{let n="",i=e.parentOffset;return e.parent.nodesBetween(Math.max(0,i-t),i,(e,t,r,s)=>{var a,o;let l=(null===(o=(a=e.type.spec).toText)||void 0===o?void 0:o.call(a,{node:e,pos:t,parent:r,index:s}))||e.textContent||"%leaf%";n+=e.isAtom&&!e.isText?l:l.slice(0,Math.max(0,i-t))}),n};function P(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class T{constructor(e){this.find=e.find,this.handler=e.handler}}let N=(e,t)=>{if(P(t))return t.exec(e);let n=t(e);if(!n)return null;let i=[n.text];return i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function I(e){var t;let{editor:n,from:i,to:r,text:s,rules:a,plugin:o}=e,{view:l}=n;if(l.composing)return!1;let u=l.state.doc.resolve(i);if(u.parent.type.spec.code||(null===(t=u.nodeBefore||u.nodeAfter)||void 0===t?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let d=!1,p=E(u)+s;return a.forEach(e=>{if(d)return;let t=N(p,e.find);if(!t)return;let a=l.state.tr,u=c({state:l.state,transaction:a}),f={from:i-(t[0].length-s.length),to:r},{commands:m,chain:g,can:v}=new h({editor:n,state:u});null!==e.handler({state:u,range:f,match:t,commands:m,chain:g,can:v})&&a.steps.length&&(a.setMeta(o,{transform:a,from:i,to:r,text:s}),l.dispatch(a),d=!0)}),d}function M(e){return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function A(e,t){let n={...e};return M(e)&&M(t)&&Object.keys(t).forEach(i=>{M(t[i])&&M(e[i])?n[i]=A(e[i],t[i]):n[i]=t[i]}),n}class O{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=b(p(this,"addOptions",{name:this.name}))),this.storage=b(p(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new O(e)}configure(e={}){let t=this.extend({...this.config,addOptions:()=>A(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){let t=new O(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=b(p(t,"addOptions",{name:t.name})),t.storage=b(p(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){let{tr:n}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){let r=i.marks();if(!r.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;let s=r.find(e=>(null==e?void 0:e.type.name)===t.name);return s&&n.removeStoredMark(s),n.insertText(" ",i.pos),e.view.dispatch(n),!0}return!1}}class D{constructor(e){this.find=e.find,this.handler=e.handler}}let R=(e,t,n)=>{if(P(t))return[...e.matchAll(t)];let i=t(e,n);return i?i.map(t=>{let n=[t.text];return n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]},L=null,V=e=>{var t;let n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return null===(t=n.clipboardData)||void 0===t||t.setData("text/html",e),n};class F{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=F.resolve(e),this.schema=function(e,t){var n;let i=m(e),{nodeExtensions:r,markExtensions:s}=f(e),o=null===(n=r.find(e=>p(e,"topNode")))||void 0===n?void 0:n.name,l=Object.fromEntries(r.map(n=>{let r=i.filter(e=>e.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:t},a=w({...e.reduce((e,t)=>{let i=p(t,"extendNodeSchema",s);return{...e,...i?i(n):{}}},{}),content:b(p(n,"content",s)),marks:b(p(n,"marks",s)),group:b(p(n,"group",s)),inline:b(p(n,"inline",s)),atom:b(p(n,"atom",s)),selectable:b(p(n,"selectable",s)),draggable:b(p(n,"draggable",s)),code:b(p(n,"code",s)),whitespace:b(p(n,"whitespace",s)),linebreakReplacement:b(p(n,"linebreakReplacement",s)),defining:b(p(n,"defining",s)),isolating:b(p(n,"isolating",s)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),o=b(p(n,"parseHTML",s));o&&(a.parseDOM=o.map(e=>x(e,r)));let l=p(n,"renderHTML",s);l&&(a.toDOM=e=>l({node:e,HTMLAttributes:y(e,r)}));let u=p(n,"renderText",s);return u&&(a.toText=u),[n.name,a]})),u=Object.fromEntries(s.map(n=>{let r=i.filter(e=>e.type===n.name),s={name:n.name,options:n.options,storage:n.storage,editor:t},a=w({...e.reduce((e,t)=>{let i=p(t,"extendMarkSchema",s);return{...e,...i?i(n):{}}},{}),inclusive:b(p(n,"inclusive",s)),excludes:b(p(n,"excludes",s)),group:b(p(n,"group",s)),spanning:b(p(n,"spanning",s)),code:b(p(n,"code",s)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),o=b(p(n,"parseHTML",s));o&&(a.parseDOM=o.map(e=>x(e,r)));let l=p(n,"renderHTML",s);return l&&(a.toDOM=e=>l({mark:e,HTMLAttributes:y(e,r)})),[n.name,a]}));return new a.V_({topNode:o,nodes:l,marks:u})}(this.extensions,t),this.setupExtensions()}static resolve(e){var t;let n=F.sort(F.flatten(e)),i=Array.from(new Set((t=n.map(e=>e.name)).filter((e,n)=>t.indexOf(e)!==n)));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(e=>{let t={name:e.name,options:e.options,storage:e.storage},n=p(e,"addExtensions",t);return n?[e,...this.flatten(n())]:e}).flat(10)}static sort(e){return e.sort((e,t)=>{let n=p(e,"priority")||100,i=p(t,"priority")||100;return n>i?-1:n<i?1:0})}get commands(){return this.extensions.reduce((e,t)=>{let n={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:k(t.name,this.schema)},i=p(t,"addCommands",n);return i?{...e,...i()}:e},{})}get plugins(){let{editor:e}=this,t=F.sort([...this.extensions].reverse()),n=[],r=[],o=t.map(t=>{let i={name:t.name,options:t.options,storage:t.storage,editor:e,type:k(t.name,this.schema)},a=[],o=p(t,"addKeyboardShortcuts",i),l={};if("mark"===t.type&&p(t,"exitable",i)&&(l.ArrowRight=()=>O.handleExit({editor:e,mark:t})),o){let t=Object.fromEntries(Object.entries(o()).map(([t,n])=>[t,()=>n({editor:e})]));l={...l,...t}}let u=(0,s.h)(l);a.push(u);let c=p(t,"addInputRules",i);S(t,e.options.enableInputRules)&&c&&n.push(...c());let h=p(t,"addPasteRules",i);S(t,e.options.enablePasteRules)&&h&&r.push(...h());let d=p(t,"addProseMirrorPlugins",i);if(d){let e=d();a.push(...e)}return a}).flat();return[function(e){let{editor:t,rules:n}=e,r=new i.Sy({state:{init:()=>null,apply(e,i,s){let o=e.getMeta(r);if(o)return o;let l=e.getMeta("applyInputRules");return l&&setTimeout(()=>{let{text:e}=l;"string"==typeof e||(e=C(a.HY.from(e),s.schema));let{from:i}=l,o=i+e.length;I({editor:t,from:i,to:o,text:e,rules:n,plugin:r})}),e.selectionSet||e.docChanged?null:i}},props:{handleTextInput:(e,i,s,a)=>I({editor:t,from:i,to:s,text:a,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{let{$cursor:i}=e.state.selection;i&&I({editor:t,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,i){if("Enter"!==i.key)return!1;let{$cursor:s}=e.state.selection;return!!s&&I({editor:t,from:s.pos,to:s.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}({editor:e,rules:n}),...function(e){let t;let{editor:n,rules:r}=e,s=null,o=!1,l=!1,u="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null;try{t="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{t=null}let d=({state:e,from:i,to:r,rule:s,pasteEvt:a})=>{let o=e.tr;if(function(e){let{editor:t,state:n,from:i,to:r,rule:s,pasteEvent:a,dropEvent:o}=e,{commands:l,chain:u,can:c}=new h({editor:t,state:n}),d=[];return n.doc.nodesBetween(i,r,(e,t)=>{if(!e.isTextblock||e.type.spec.code)return;let h=Math.max(i,t),p=Math.min(r,t+e.content.size);R(e.textBetween(h-t,p-t,void 0,"￼"),s.find,a).forEach(e=>{if(void 0===e.index)return;let t=h+e.index+1,i=t+e[0].length,r={from:n.tr.mapping.map(t),to:n.tr.mapping.map(i)},p=s.handler({state:n,range:r,match:e,commands:l,chain:u,can:c,pasteEvent:a,dropEvent:o});d.push(p)})}),d.every(e=>null!==e)}({editor:n,state:c({state:e,transaction:o}),from:Math.max(i-1,0),to:r.b-1,rule:s,pasteEvent:a,dropEvent:t})&&o.steps.length){try{t="undefined"!=typeof DragEvent?new DragEvent("drop"):null}catch{t=null}return u="undefined"!=typeof ClipboardEvent?new ClipboardEvent("paste"):null,o}};return r.map(e=>new i.Sy({view(e){let t=t=>{var i;(s=(null===(i=e.dom.parentElement)||void 0===i?void 0:i.contains(t.target))?e.dom.parentElement:null)&&(L=n)},i=()=>{L&&(L=null)};return window.addEventListener("dragstart",t),window.addEventListener("dragend",i),{destroy(){window.removeEventListener("dragstart",t),window.removeEventListener("dragend",i)}}},props:{handleDOMEvents:{drop:(e,n)=>{if(l=s===e.dom.parentElement,t=n,!l){let e=L;(null==e?void 0:e.isEditable)&&setTimeout(()=>{let t=e.state.selection;t&&e.commands.deleteRange({from:t.from,to:t.to})},10)}return!1},paste:(e,t)=>{var n;let i=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return u=t,o=!!(null==i?void 0:i.includes("data-pm-slice")),!1}}},appendTransaction:(t,n,i)=>{let r=t[0],s="paste"===r.getMeta("uiEvent")&&!o,c="drop"===r.getMeta("uiEvent")&&!l,h=r.getMeta("applyPasteRules"),p=!!h;if(!s&&!c&&!p)return;if(p){let{text:t}=h;"string"==typeof t||(t=C(a.HY.from(t),i.schema));let{from:n}=h,r=n+t.length;return d({rule:e,state:i,from:n,to:{b:r},pasteEvt:V(t)})}let f=n.doc.content.findDiffStart(i.doc.content),m=n.doc.content.findDiffEnd(i.doc.content);if("number"==typeof f&&m&&f!==m.b)return d({rule:e,state:i,from:f,to:m,pasteEvt:u})}}))}({editor:e,rules:r}),...o]}get attributes(){return m(this.extensions)}get nodeViews(){let{editor:e}=this,{nodeExtensions:t}=f(this.extensions);return Object.fromEntries(t.filter(e=>!!p(e,"addNodeView")).map(t=>{let n=this.attributes.filter(e=>e.type===t.name),i={name:t.name,options:t.options,storage:t.storage,editor:e,type:g(t.name,this.schema)},r=p(t,"addNodeView",i);return r?[t.name,(i,s,a,o,l)=>{let u=y(i,n);return r()({node:i,view:s,getPos:a,decorations:o,innerDecorations:l,editor:e,extension:t,HTMLAttributes:u})}]:[]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;let n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:k(e.name,this.schema)};"mark"===e.type&&(null===(t=b(p(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name);let i=p(e,"onBeforeCreate",n),r=p(e,"onCreate",n),s=p(e,"onUpdate",n),a=p(e,"onSelectionUpdate",n),o=p(e,"onTransaction",n),l=p(e,"onFocus",n),u=p(e,"onBlur",n),c=p(e,"onDestroy",n);i&&this.editor.on("beforeCreate",i),r&&this.editor.on("create",r),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),o&&this.editor.on("transaction",o),l&&this.editor.on("focus",l),u&&this.editor.on("blur",u),c&&this.editor.on("destroy",c)})}}class B{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=b(p(this,"addOptions",{name:this.name}))),this.storage=b(p(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new B(e)}configure(e={}){let t=this.extend({...this.config,addOptions:()=>A(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){let t=new B({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=b(p(t,"addOptions",{name:t.name})),t.storage=b(p(t,"addStorage",{name:t.name,options:t.options})),t}}function $(e,t,n){let{from:i,to:r}=t,{blockSeparator:s="\n\n",textSerializers:a={}}=n||{},o="";return e.nodesBetween(i,r,(e,n,l,u)=>{var c;e.isBlock&&n>i&&(o+=s);let h=null==a?void 0:a[e.type.name];if(h)return l&&(o+=h({node:e,pos:n,parent:l,index:u,range:t})),!1;e.isText&&(o+=null===(c=null==e?void 0:e.text)||void 0===c?void 0:c.slice(Math.max(i,n)-n,r-n))}),o}function z(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}let j=B.create({name:"clipboardTextSerializer",addOptions:()=>({blockSeparator:void 0}),addProseMirrorPlugins(){return[new i.Sy({key:new i.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{let{editor:e}=this,{state:t,schema:n}=e,{doc:i,selection:r}=t,{ranges:s}=r,a=Math.min(...s.map(e=>e.$from.pos)),o=Math.max(...s.map(e=>e.$to.pos)),l=z(n);return $(i,{from:a,to:o},{...void 0!==this.options.blockSeparator?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}});function U(e,t,n={strict:!0}){let i=Object.keys(t);return!i.length||i.every(i=>n.strict?t[i]===e[i]:P(t[i])?t[i].test(e[i]):t[i]===e[i])}function q(e,t,n={}){return e.find(e=>e.type===t&&U(Object.fromEntries(Object.keys(n).map(t=>[t,e.attrs[t]])),n))}function H(e,t,n={}){return!!q(e,t,n)}function W(e,t,n){var i;if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(r.node&&r.node.marks.some(e=>e.type===t)||(r=e.parent.childBefore(e.parentOffset)),!r.node||!r.node.marks.some(e=>e.type===t)||(n=n||(null===(i=r.node.marks[0])||void 0===i?void 0:i.attrs),!q([...r.node.marks],t,n)))return;let s=r.index,a=e.start()+r.offset,o=s+1,l=a+r.node.nodeSize;for(;s>0&&H([...e.parent.child(s-1).marks],t,n);)s-=1,a-=e.parent.child(s).nodeSize;for(;o<e.parent.childCount&&H([...e.parent.child(o).marks],t,n);)l+=e.parent.child(o).nodeSize,o+=1;return{from:a,to:l}}function Y(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function G(e){return e instanceof i.Bs}function K(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function X(e,t=null){if(!t)return null;let n=i.Y1.atStart(e),r=i.Y1.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;let s=n.from,a=r.to;return"all"===t?i.Bs.create(e,K(0,s,a),K(e.content.size,s,a)):i.Bs.create(e,K(t,s,a),K(t,s,a))}function Q(){return"Android"===navigator.platform||/android/i.test(navigator.userAgent)}function Z(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}let J=e=>{let t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){let i=t[n];3===i.nodeType&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?e.removeChild(i):1===i.nodeType&&J(i)}return e};function ee(e){let t=`<body>${e}</body>`;return J(new window.DOMParser().parseFromString(t,"text/html").body)}function et(e,t,n){if(e instanceof a.NB||e instanceof a.HY)return e;n={slice:!0,parseOptions:{},...n};let i="object"==typeof e&&null!==e,r="string"==typeof e;if(i)try{if(Array.isArray(e)&&e.length>0)return a.HY.fromArray(e.map(e=>t.nodeFromJSON(e)));let i=t.nodeFromJSON(e);return n.errorOnInvalidContent&&i.check(),i}catch(i){if(n.errorOnInvalidContent)throw Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",i),et("",t,n)}if(r){if(n.errorOnInvalidContent){let i=!1,r="",s=new a.V_({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:e=>(i=!0,r="string"==typeof e?e:e.outerHTML,null)}]}})});if(n.slice?a.aw.fromSchema(s).parseSlice(ee(e),n.parseOptions):a.aw.fromSchema(s).parse(ee(e),n.parseOptions),n.errorOnInvalidContent&&i)throw Error("[tiptap error]: Invalid HTML content",{cause:Error(`Invalid element found: ${r}`)})}let i=a.aw.fromSchema(t);return n.slice?i.parseSlice(ee(e),n.parseOptions).content:i.parse(ee(e),n.parseOptions)}return et("",t,n)}let en=e=>!("type"in e);function ei(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function er(e,t,n={}){let{from:i,to:r,empty:s}=e.selection,a=t?g(t,e.schema):null,o=[];e.doc.nodesBetween(i,r,(e,t)=>{if(e.isText)return;let n=Math.max(i,t),s=Math.min(r,t+e.nodeSize);o.push({node:e,from:n,to:s})});let l=r-i,u=o.filter(e=>!a||a.name===e.node.type.name).filter(e=>U(e.node.attrs,n,{strict:!1}));return s?!!u.length:u.reduce((e,t)=>e+t.to-t.from,0)>=l}function es(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function ea(e,t){let n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,i)=>(n.includes(i)||(t[i]=e[i]),t),{})}function eo(e,t,n={},i={}){return et(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}function el(e,t){let n=Y(t,e.schema),{from:i,to:r,empty:s}=e.selection,a=[];s?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,r,e=>{a.push(...e.marks)});let o=a.find(e=>e.type.name===n.name);return o?{...o.attrs}:{}}function eu(e){return t=>(function(e,t){for(let n=e.depth;n>0;n-=1){let i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}})(t.$from,e)}function ec(e,t,n){let i=[];return e===t?n.resolve(e).marks().forEach(t=>{let r=W(n.resolve(e),t.type);r&&i.push({mark:t,...r})}):n.nodesBetween(e,t,(e,t)=>{e&&(null==e?void 0:e.nodeSize)!==void 0&&i.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),i}function eh(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{let i=e.find(e=>e.type===t&&e.name===n);return!!i&&i.attribute.keepOnSplit}))}function ed(e,t,n={}){let{empty:i,ranges:r}=e.selection,s=t?Y(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!s||s.name===e.type.name).find(e=>U(e.attrs,n,{strict:!1}));let a=0,o=[];if(r.forEach(({$from:t,$to:n})=>{let i=t.pos,r=n.pos;e.doc.nodesBetween(i,r,(e,t)=>{if(!e.isText&&!e.marks.length)return;let n=Math.max(i,t),s=Math.min(r,t+e.nodeSize);a+=s-n,o.push(...e.marks.map(e=>({mark:e,from:n,to:s})))})}),0===a)return!1;let l=o.filter(e=>!s||s.name===e.mark.type.name).filter(e=>U(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),u=o.filter(e=>!s||e.mark.type!==s&&e.mark.type.excludes(s)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+u:l)>=a}function ep(e,t){let{nodeExtensions:n}=f(t),i=n.find(t=>t.name===e);if(!i)return!1;let r={name:i.name,options:i.options,storage:i.storage},s=b(p(i,"group",r));return"string"==typeof s&&s.split(" ").includes("list")}function ef(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if("hardBreak"===e.type.name)return!0;if(e.isText)return/^\s*$/m.test(null!==(i=e.text)&&void 0!==i?i:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(0===e.content.childCount)return!0;if(t){let i=!0;return e.content.forEach(e=>{!1!==i&&(ef(e,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function em(e,t){let n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){let i=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(i)}}let eg=(e,t)=>{let n=eu(e=>e.type===t)(e.selection);if(!n)return!0;let i=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===i)return!0;let r=e.doc.nodeAt(i);return!(n.node.type===(null==r?void 0:r.type)&&(0,o.Mn)(e.doc,n.pos))||(e.join(n.pos),!0)},ev=(e,t)=>{let n=eu(e=>e.type===t)(e.selection);if(!n)return!0;let i=e.doc.resolve(n.start).after(n.depth);if(void 0===i)return!0;let r=e.doc.nodeAt(i);return!(n.node.type===(null==r?void 0:r.type)&&(0,o.Mn)(e.doc,i))||(e.join(i),!0)};var ey=Object.freeze({__proto__:null,blur:()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null==window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())}),!0),clearContent:(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes:()=>({state:e,tr:t,dispatch:n})=>{let{selection:i}=t,{ranges:r}=i;return!n||(r.forEach(({$from:n,$to:i})=>{e.doc.nodesBetween(n.pos,i.pos,(e,n)=>{if(e.type.isText)return;let{doc:i,mapping:r}=t,s=i.resolve(r.map(n)),a=i.resolve(r.map(n+e.nodeSize)),l=s.blockRange(a);if(!l)return;let u=(0,o.k9)(l);if(e.type.isTextblock){let{defaultType:e}=s.parent.contentMatchAt(s.index());t.setNodeMarkup(l.start,e)}(u||0===u)&&t.lift(l,u)})}),!0)},command:e=>t=>e(t),createParagraphNear:()=>({state:e,dispatch:t})=>(0,l.mD)(e,t),cut:(e,t)=>({editor:n,tr:r})=>{let{state:s}=n,a=s.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);let o=r.mapping.map(t);return r.insert(o,a.content),r.setSelection(new i.Bs(r.doc.resolve(Math.max(o-1,0)))),!0},deleteCurrentNode:()=>({tr:e,dispatch:t})=>{let{selection:n}=e,i=n.$anchor.node();if(i.content.size>0)return!1;let r=e.selection.$anchor;for(let n=r.depth;n>0;n-=1)if(r.node(n).type===i.type){if(t){let t=r.before(n),i=r.after(n);e.delete(t,i).scrollIntoView()}return!0}return!1},deleteNode:e=>({tr:t,state:n,dispatch:i})=>{let r=g(e,n.schema),s=t.selection.$anchor;for(let e=s.depth;e>0;e-=1)if(s.node(e).type===r){if(i){let n=s.before(e),i=s.after(e);t.delete(n,i).scrollIntoView()}return!0}return!1},deleteRange:e=>({tr:t,dispatch:n})=>{let{from:i,to:r}=e;return n&&t.delete(i,r),!0},deleteSelection:()=>({state:e,dispatch:t})=>(0,l.NE)(e,t),enter:()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode:()=>({state:e,dispatch:t})=>(0,l.uo)(e,t),extendMarkRange:(e,t={})=>({tr:n,state:r,dispatch:s})=>{let a=Y(e,r.schema),{doc:o,selection:l}=n,{$from:u,from:c,to:h}=l;if(s){let e=W(u,a,t);if(e&&e.from<=c&&e.to>=h){let t=i.Bs.create(o,e.from,e.to);n.setSelection(t)}}return!0},first:e=>t=>{let n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1},focus:(e=null,t={})=>({editor:n,view:i,tr:r,dispatch:s})=>{t={scrollIntoView:!0,...t};let a=()=>{(Z()||Q())&&i.dom.focus(),requestAnimationFrame(()=>{!n.isDestroyed&&(i.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};if(i.hasFocus()&&null===e||!1===e)return!0;if(s&&null===e&&!G(n.state.selection))return a(),!0;let o=X(r.doc,e)||n.state.selection,l=n.state.selection.eq(o);return s&&(l||r.setSelection(o),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),a()),!0},forEach:(e,t)=>n=>e.every((e,i)=>t(e,{...n,index:i})),insertContent:(e,t)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),insertContentAt:(e,t,n)=>({tr:r,dispatch:s,editor:l})=>{var u;if(s){let s,c;n={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let h=e=>{l.emit("contentError",{editor:l,error:e,disableCollaboration:()=>{l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{et(t,l.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(e){h(e)}try{s=et(t,l.schema,{parseOptions:d,errorOnInvalidContent:null!==(u=n.errorOnInvalidContent)&&void 0!==u?u:l.options.enableContentCheck})}catch(e){return h(e),!1}let{from:p,to:f}="number"==typeof e?{from:e,to:e}:{from:e.from,to:e.to},m=!0,g=!0;if((en(s)?s:[s]).forEach(e=>{e.check(),m=!!m&&e.isText&&0===e.marks.length,g=!!g&&e.isBlock}),p===f&&g){let{parent:e}=r.doc.resolve(p);!e.isTextblock||e.type.spec.code||e.childCount||(p-=1,f+=1)}if(m){if(Array.isArray(t))c=t.map(e=>e.text||"").join("");else if(t instanceof a.HY){let e="";t.forEach(t=>{t.text&&(e+=t.text)}),c=e}else c="object"==typeof t&&t&&t.text?t.text:t;r.insertText(c,p,f)}else c=s,r.replaceWith(p,f,c);n.updateSelection&&function(e,t,n){let r=e.steps.length-1;if(r<t)return;let s=e.steps[r];if(!(s instanceof o.Pu||s instanceof o.FC))return;let a=e.mapping.maps[r],l=0;a.forEach((e,t,n,i)=>{0===l&&(l=i)}),e.setSelection(i.Y1.near(e.doc.resolve(l),-1))}(r,r.steps.length-1,0),n.applyInputRules&&r.setMeta("applyInputRules",{from:p,text:c}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:p,text:c})}return!0},joinBackward:()=>({state:e,dispatch:t})=>(0,l.al)(e,t),joinDown:()=>({state:e,dispatch:t})=>(0,l.Ig)(e,t),joinForward:()=>({state:e,dispatch:t})=>(0,l.Y_)(e,t),joinItemBackward:()=>({state:e,dispatch:t,tr:n})=>{try{let i=(0,o.GJ)(e.doc,e.selection.$from.pos,-1);if(null==i)return!1;return n.join(i,2),t&&t(n),!0}catch{return!1}},joinItemForward:()=>({state:e,dispatch:t,tr:n})=>{try{let i=(0,o.GJ)(e.doc,e.selection.$from.pos,1);if(null==i)return!1;return n.join(i,2),t&&t(n),!0}catch{return!1}},joinTextblockBackward:()=>({state:e,dispatch:t})=>(0,l.rr)(e,t),joinTextblockForward:()=>({state:e,dispatch:t})=>(0,l.cR)(e,t),joinUp:()=>({state:e,dispatch:t})=>(0,l.MI)(e,t),keyboardShortcut:e=>({editor:t,view:n,tr:i,dispatch:r})=>{let s=(function(e){let t,n,i,r;let s=e.split(/-(?!$)/),a=s[s.length-1];"Space"===a&&(a=" ");for(let e=0;e<s.length-1;e+=1){let a=s[e];if(/^(cmd|meta|m)$/i.test(a))r=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))i=!0;else if(/^mod$/i.test(a))Z()||ei()?r=!0:n=!0;else throw Error(`Unrecognized modifier name: ${a}`)}return t&&(a=`Alt-${a}`),n&&(a=`Ctrl-${a}`),r&&(a=`Meta-${a}`),i&&(a=`Shift-${a}`),a})(e).split(/-(?!$)/),a=s.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),o=new KeyboardEvent("keydown",{key:"Space"===a?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,o))});return null==l||l.steps.forEach(e=>{let t=e.map(i.mapping);t&&r&&i.maybeStep(t)}),!0},lift:(e,t={})=>({state:n,dispatch:i})=>{let r=g(e,n.schema);return!!er(n,r,t)&&(0,l.xb)(n,i)},liftEmptyBlock:()=>({state:e,dispatch:t})=>(0,l.X0)(e,t),liftListItem:e=>({state:t,dispatch:n})=>{let i=g(e,t.schema);return(0,u.IB)(i)(t,n)},newlineInCode:()=>({state:e,dispatch:t})=>(0,l.QK)(e,t),resetAttributes:(e,t)=>({tr:n,state:i,dispatch:r})=>{let s=null,a=null,o=es("string"==typeof e?e:e.name,i.schema);return!!o&&("node"===o&&(s=g(e,i.schema)),"mark"===o&&(a=Y(e,i.schema)),r&&n.selection.ranges.forEach(e=>{i.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,i)=>{s&&s===e.type&&n.setNodeMarkup(i,void 0,ea(e.attrs,t)),a&&e.marks.length&&e.marks.forEach(r=>{a===r.type&&n.addMark(i,i+e.nodeSize,a.create(ea(r.attrs,t)))})})}),!0)},scrollIntoView:()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll:()=>({tr:e,dispatch:t})=>{if(t){let t=new i.C1(e.doc);e.setSelection(t)}return!0},selectNodeBackward:()=>({state:e,dispatch:t})=>(0,l._M)(e,t),selectNodeForward:()=>({state:e,dispatch:t})=>(0,l.o)(e,t),selectParentNode:()=>({state:e,dispatch:t})=>(0,l.N0)(e,t),selectTextblockEnd:()=>({state:e,dispatch:t})=>(0,l.nw)(e,t),selectTextblockStart:()=>({state:e,dispatch:t})=>(0,l.U9)(e,t),setContent:(e,t=!1,n={},i={})=>({editor:r,tr:s,dispatch:a,commands:o})=>{var l,u;let{doc:c}=s;if("full"!==n.preserveWhitespace){let o=eo(e,r.schema,n,{errorOnInvalidContent:null!==(l=i.errorOnInvalidContent)&&void 0!==l?l:r.options.enableContentCheck});return a&&s.replaceWith(0,c.content.size,o).setMeta("preventUpdate",!t),!0}return a&&s.setMeta("preventUpdate",!t),o.insertContentAt({from:0,to:c.content.size},e,{parseOptions:n,errorOnInvalidContent:null!==(u=i.errorOnInvalidContent)&&void 0!==u?u:r.options.enableContentCheck})},setMark:(e,t={})=>({tr:n,state:i,dispatch:r})=>{let{selection:s}=n,{empty:a,ranges:o}=s,l=Y(e,i.schema);if(r){if(a){let e=el(i,l);n.addStoredMark(l.create({...e,...t}))}else o.forEach(e=>{let r=e.$from.pos,s=e.$to.pos;i.doc.nodesBetween(r,s,(e,i)=>{let a=Math.max(i,r),o=Math.min(i+e.nodeSize,s);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(a,o,l.create({...e.attrs,...t}))}):n.addMark(a,o,l.create(t))})})}return function(e,t,n){var i;let{selection:r}=t,s=null;if(G(r)&&(s=r.$cursor),s){let t=null!==(i=e.storedMarks)&&void 0!==i?i:s.marks();return!!n.isInSet(t)||!t.some(e=>e.type.excludes(n))}let{ranges:a}=r;return a.some(({$from:t,$to:i})=>{let r=0===t.depth&&e.doc.inlineContent&&e.doc.type.allowsMarkType(n);return e.doc.nodesBetween(t.pos,i.pos,(e,t,i)=>{if(r)return!1;if(e.isInline){let t=!i||i.type.allowsMarkType(n),s=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));r=t&&s}return!r}),r})}(i,n,l)},setMeta:(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode:(e,t={})=>({state:n,dispatch:i,chain:r})=>{let s;let a=g(e,n.schema);return(n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),a.isTextblock)?r().command(({commands:e})=>!!(0,l.uJ)(a,{...s,...t})(n)||e.clearNodes()).command(({state:e})=>(0,l.uJ)(a,{...s,...t})(e,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection:e=>({tr:t,dispatch:n})=>{if(n){let{doc:n}=t,r=K(e,0,n.content.size),s=i.qv.create(n,r);t.setSelection(s)}return!0},setTextSelection:e=>({tr:t,dispatch:n})=>{if(n){let{doc:n}=t,{from:r,to:s}="number"==typeof e?{from:e,to:e}:e,a=i.Bs.atStart(n).from,o=i.Bs.atEnd(n).to,l=K(r,a,o),u=K(s,a,o),c=i.Bs.create(n,l,u);t.setSelection(c)}return!0},sinkListItem:e=>({state:t,dispatch:n})=>{let i=g(e,t.schema);return(0,u.bw)(i)(t,n)},splitBlock:({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:s})=>{let{selection:a,doc:l}=t,{$from:u,$to:c}=a,h=eh(s.extensionManager.attributes,u.node().type.name,u.node().attrs);if(a instanceof i.qv&&a.node.isBlock)return!!(u.parentOffset&&(0,o.Ax)(l,u.pos))&&(r&&(e&&em(n,s.extensionManager.splittableMarks),t.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;let d=c.parentOffset===c.parent.content.size,p=0===u.depth?void 0:function(e){for(let t=0;t<e.edgeCount;t+=1){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(u.node(-1).contentMatchAt(u.indexAfter(-1))),f=d&&p?[{type:p,attrs:h}]:void 0,m=(0,o.Ax)(t.doc,t.mapping.map(u.pos),1,f);if(!f&&!m&&(0,o.Ax)(t.doc,t.mapping.map(u.pos),1,p?[{type:p}]:void 0)&&(m=!0,f=p?[{type:p,attrs:h}]:void 0),r){if(m&&(a instanceof i.Bs&&t.deleteSelection(),t.split(t.mapping.map(u.pos),1,f),p&&!d&&!u.parentOffset&&u.parent.type!==p)){let e=t.mapping.map(u.before()),n=t.doc.resolve(e);u.node(-1).canReplaceWith(n.index(),n.index()+1,p)&&t.setNodeMarkup(t.mapping.map(u.before()),p)}e&&em(n,s.extensionManager.splittableMarks),t.scrollIntoView()}return m},splitListItem:(e,t={})=>({tr:n,state:r,dispatch:s,editor:l})=>{var u;let c=g(e,r.schema),{$from:h,$to:d}=r.selection,p=r.selection.node;if(p&&p.isBlock||h.depth<2||!h.sameParent(d))return!1;let f=h.node(-1);if(f.type!==c)return!1;let m=l.extensionManager.attributes;if(0===h.parent.content.size&&h.node(-1).childCount===h.indexAfter(-1)){if(2===h.depth||h.node(-3).type!==c||h.index(-2)!==h.node(-2).childCount-1)return!1;if(s){let e=a.HY.empty,r=h.index(-1)?1:h.index(-2)?2:3;for(let t=h.depth-r;t>=h.depth-3;t-=1)e=a.HY.from(h.node(t).copy(e));let s=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,o={...eh(m,h.node().type.name,h.node().attrs),...t},l=(null===(u=c.contentMatch.defaultType)||void 0===u?void 0:u.createAndFill(o))||void 0;e=e.append(a.HY.from(c.createAndFill(null,l)||void 0));let d=h.before(h.depth-(r-1));n.replace(d,h.after(-s),new a.p2(e,4-r,0));let p=-1;n.doc.nodesBetween(d,n.doc.content.size,(e,t)=>{if(p>-1)return!1;e.isTextblock&&0===e.content.size&&(p=t+1)}),p>-1&&n.setSelection(i.Bs.near(n.doc.resolve(p))),n.scrollIntoView()}return!0}let v=d.pos===h.end()?f.contentMatchAt(0).defaultType:null,y={...eh(m,f.type.name,f.attrs),...t},_={...eh(m,h.node().type.name,h.node().attrs),...t};if(n.delete(h.pos,d.pos),!(0,o.Ax)(n.doc,h.pos,2))return!1;if(s){let{selection:e,storedMarks:t}=r,{splittableMarks:i}=l.extensionManager,a=t||e.$to.parentOffset&&e.$from.marks();if(n.split(h.pos,2,v?[{type:c,attrs:y},{type:v,attrs:_}]:[{type:c,attrs:y}]).scrollIntoView(),!a||!s)return!0;let o=a.filter(e=>i.includes(e.type.name));n.ensureMarks(o)}return!0},toggleList:(e,t,n,i={})=>({editor:r,tr:s,state:a,dispatch:o,chain:l,commands:u,can:c})=>{let{extensions:h,splittableMarks:d}=r.extensionManager,p=g(e,a.schema),f=g(t,a.schema),{selection:m,storedMarks:v}=a,{$from:y,$to:_}=m,b=y.blockRange(_),x=v||m.$to.parentOffset&&m.$from.marks();if(!b)return!1;let w=eu(e=>ep(e.type.name,h))(m);if(b.depth>=1&&w&&b.depth-w.depth<=1){if(w.node.type===p)return u.liftListItem(f);if(ep(w.node.type.name,h)&&p.validContent(w.node.content)&&o)return l().command(()=>(s.setNodeMarkup(w.pos,p),!0)).command(()=>eg(s,p)).command(()=>ev(s,p)).run()}return n&&x&&o?l().command(()=>{let e=c().wrapInList(p,i),t=x.filter(e=>d.includes(e.type.name));return s.ensureMarks(t),!!e||u.clearNodes()}).wrapInList(p,i).command(()=>eg(s,p)).command(()=>ev(s,p)).run():l().command(()=>!!c().wrapInList(p,i)||u.clearNodes()).wrapInList(p,i).command(()=>eg(s,p)).command(()=>ev(s,p)).run()},toggleMark:(e,t={},n={})=>({state:i,commands:r})=>{let{extendEmptyMarkRange:s=!1}=n,a=Y(e,i.schema);return ed(i,a,t)?r.unsetMark(a,{extendEmptyMarkRange:s}):r.setMark(a,t)},toggleNode:(e,t,n={})=>({state:i,commands:r})=>{let s;let a=g(e,i.schema),o=g(t,i.schema),l=er(i,a,n);return(i.selection.$anchor.sameParent(i.selection.$head)&&(s=i.selection.$anchor.parent.attrs),l)?r.setNode(o,s):r.setNode(a,{...s,...n})},toggleWrap:(e,t={})=>({state:n,commands:i})=>{let r=g(e,n.schema);return er(n,r,t)?i.lift(r):i.wrapIn(r,t)},undoInputRule:()=>({state:e,dispatch:t})=>{let n=e.plugins;for(let i=0;i<n.length;i+=1){let r;let s=n[i];if(s.spec.isInputRules&&(r=s.getState(e))){if(t){let t=e.tr,n=r.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(r.text){let n=t.doc.resolve(r.from).marks();t.replaceWith(r.from,r.to,e.schema.text(r.text,n))}else t.delete(r.from,r.to)}return!0}}return!1},unsetAllMarks:()=>({tr:e,dispatch:t})=>{let{selection:n}=e,{empty:i,ranges:r}=n;return!!i||(t&&r.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0)},unsetMark:(e,t={})=>({tr:n,state:i,dispatch:r})=>{var s;let{extendEmptyMarkRange:a=!1}=t,{selection:o}=n,l=Y(e,i.schema),{$from:u,empty:c,ranges:h}=o;if(!r)return!0;if(c&&a){let{from:e,to:t}=o,i=null===(s=u.marks().find(e=>e.type===l))||void 0===s?void 0:s.attrs,r=W(u,l,i);r&&(e=r.from,t=r.to),n.removeMark(e,t,l)}else h.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},updateAttributes:(e,t={})=>({tr:n,state:i,dispatch:r})=>{let s=null,a=null,o=es("string"==typeof e?e:e.name,i.schema);return!!o&&("node"===o&&(s=g(e,i.schema)),"mark"===o&&(a=Y(e,i.schema)),r&&n.selection.ranges.forEach(e=>{let r,o,l,u;let c=e.$from.pos,h=e.$to.pos;n.selection.empty?i.doc.nodesBetween(c,h,(e,t)=>{s&&s===e.type&&(l=Math.max(t,c),u=Math.min(t+e.nodeSize,h),r=t,o=e)}):i.doc.nodesBetween(c,h,(e,i)=>{i<c&&s&&s===e.type&&(l=Math.max(i,c),u=Math.min(i+e.nodeSize,h),r=i,o=e),i>=c&&i<=h&&(s&&s===e.type&&n.setNodeMarkup(i,void 0,{...e.attrs,...t}),a&&e.marks.length&&e.marks.forEach(r=>{if(a===r.type){let s=Math.max(i,c),o=Math.min(i+e.nodeSize,h);n.addMark(s,o,a.create({...r.attrs,...t}))}}))}),o&&(void 0!==r&&n.setNodeMarkup(r,void 0,{...o.attrs,...t}),a&&o.marks.length&&o.marks.forEach(e=>{a===e.type&&n.addMark(l,u,a.create({...e.attrs,...t}))}))}),!0)},wrapIn:(e,t={})=>({state:n,dispatch:i})=>{let r=g(e,n.schema);return(0,l.ym)(r,t)(n,i)},wrapInList:(e,t={})=>({state:n,dispatch:i})=>{let r=g(e,n.schema);return(0,u.KI)(r,t)(n,i)}});let e_=B.create({name:"commands",addCommands:()=>({...ey})}),eb=B.create({name:"drop",addProseMirrorPlugins(){return[new i.Sy({key:new i.H$("tiptapDrop"),props:{handleDrop:(e,t,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:i})}}})]}}),ex=B.create({name:"editable",addProseMirrorPlugins(){return[new i.Sy({key:new i.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),ew=new i.H$("focusEvents"),ek=B.create({name:"focusEvents",addProseMirrorPlugins(){let{editor:e}=this;return[new i.Sy({key:ew,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;let i=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,n)=>{e.isFocused=!1;let i=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),eS=B.create({name:"keymap",addKeyboardShortcuts(){let e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{let{selection:n,doc:r}=t,{empty:s,$anchor:a}=n,{pos:o,parent:l}=a,u=a.parent.isTextblock&&o>0?t.doc.resolve(o-1):a,c=u.parent.type.spec.isolating,h=a.pos-a.parentOffset,d=c&&1===u.parent.childCount?h===a.pos:i.Y1.atStart(r).from===o;return!!s&&!!l.type.isTextblock&&!l.textContent.length&&!!d&&(!d||"paragraph"!==a.parent.type.name)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.deleteCurrentNode(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},s={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Z()||ei()?s:r},addProseMirrorPlugins(){return[new i.Sy({key:new i.H$("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(e=>e.getMeta("composition")))return;let r=e.some(e=>e.docChanged)&&!t.doc.eq(n.doc),s=e.some(e=>e.getMeta("preventClearDocument"));if(!r||s)return;let{empty:a,from:o,to:l}=t.selection,u=i.Y1.atStart(t.doc).from,d=i.Y1.atEnd(t.doc).to;if(a||!(o===u&&l===d)||!ef(n.doc))return;let p=n.tr,f=c({state:n,transaction:p}),{commands:m}=new h({editor:this.editor,state:f});if(m.clearNodes(),p.steps.length)return p}})]}}),eC=B.create({name:"paste",addProseMirrorPlugins(){return[new i.Sy({key:new i.H$("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),eE=B.create({name:"tabindex",addProseMirrorPlugins(){return[new i.Sy({key:new i.H$("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class eP{get name(){return this.node.type.name}constructor(e,t,n=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=t,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return null!==(e=this.actualDepth)&&void 0!==e?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,n=this.to;if(this.isBlock){if(0===this.content.size){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:t,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(0===this.depth)return null;let e=this.resolvedPos.start(this.resolvedPos.depth-1);return new eP(this.resolvedPos.doc.resolve(e),this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new eP(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new eP(e,this.editor)}get children(){let e=[];return this.node.content.forEach((t,n)=>{let i=t.isBlock&&!t.isTextblock,r=t.isAtom&&!t.isText,s=this.pos+n+(r?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;let a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;let o=new eP(a,this.editor,i,i?t:null);i&&(o.actualDepth=this.depth+1),e.push(new eP(a,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){let e=this.children;return e[e.length-1]||null}closest(e,t={}){let n=null,i=this.parent;for(;i&&!n;){if(i.node.type.name===e){if(Object.keys(t).length>0){let e=i.node.attrs,n=Object.keys(t);for(let i=0;i<n.length;i+=1){let r=n[i];if(e[r]!==t[r])break}}else n=i}i=i.parent}return n}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},n=!1){let i=[];if(!this.children||0===this.children.length)return i;let r=Object.keys(t);return this.children.forEach(s=>{(!n||!(i.length>0))&&(s.node.type.name===e&&r.every(e=>t[e]===s.node.attrs[e])&&i.push(s),n&&i.length>0||(i=i.concat(s.querySelectorAll(e,t,n))))}),i}setAttribute(e){let{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}let eT=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class eN extends d{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:e})=>{throw e},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:e,slice:t,moved:n})=>this.options.onDrop(e,t,n)),this.on("paste",({event:e,slice:t})=>this.options.onPaste(e,t)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(e,t,n){let i=document.querySelector("style[data-tiptap-style]");if(null!==i)return i;let r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}(eT,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){let n=_(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;let t=this.state.plugins,n=t;if([].concat(e).forEach(e=>{let t="string"==typeof e?`${e}$`:e.key;n=n.filter(e=>!e.key.startsWith(t))}),t.length===n.length)return;let i=this.state.reconfigure({plugins:n});return this.view.updateState(i),i}createExtensionManager(){var e,t;let n=[...this.options.enableCoreExtensions?[ex,j.configure({blockSeparator:null===(t=null===(e=this.options.coreExtensionOptions)||void 0===e?void 0:e.clipboardTextSerializer)||void 0===t?void 0:t.blockSeparator}),e_,ek,eS,eE,eb,eC].filter(e=>"object"!=typeof this.options.enableCoreExtensions||!1!==this.options.enableCoreExtensions[e.name]):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new F(n,this)}createCommandManager(){this.commandManager=new h({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=eo(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(e=>"collaboration"!==e.name),this.createExtensionManager()}}),t=eo(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}let n=X(t,this.options.autofocus);this.view=new r.tk(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...null===(e=this.options.editorProps)||void 0===e?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:i.yy.create({doc:t,selection:n||void 0})});let s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.createNodeViews(),this.prependClass(),this.view.dom.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;let t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)});return}let t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});let i=e.getMeta("focus"),r=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),r&&this.emit("blur",{editor:this,event:r.event,transaction:e}),!e.docChanged||e.getMeta("preventUpdate")||this.emit("update",{editor:this,transaction:e})}getAttributes(e){return function(e,t){let n=es("string"==typeof t?t:t.name,e.schema);return"node"===n?function(e,t){let n=g(t,e.schema),{from:i,to:r}=e.selection,s=[];e.doc.nodesBetween(i,r,e=>{s.push(e)});let a=s.reverse().find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}(e,t):"mark"===n?el(e,t):{}}(this.state,e)}isActive(e,t){let n="string"==typeof e?e:null,i="string"==typeof e?t:e;return function(e,t,n={}){if(!t)return er(e,null,n)||ed(e,null,n);let i=es(t,e.schema);return"node"===i?er(e,t,n):"mark"===i&&ed(e,t,n)}(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return C(this.state.doc.content,this.schema)}getText(e){let{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return function(e,t){let n={from:0,to:e.content.size};return $(e,n,t)}(this.state.doc,{blockSeparator:t,textSerializers:{...z(this.schema),...n}})}get isEmpty(){return ef(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){let e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}$node(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return(null===(n=this.$doc)||void 0===n?void 0:n.querySelectorAll(e,t))||null}$pos(e){return new eP(this.state.doc.resolve(e),this)}get $doc(){return this.$pos(0)}}function eI(e){return new T({find:e.find,handler:({state:t,range:n,match:i})=>{let r=b(e.getAttributes,void 0,i);if(!1===r||null===r)return null;let{tr:s}=t,a=i[i.length-1],o=i[0];if(a){let i=o.search(/\S/),l=n.from+o.indexOf(a),u=l+a.length;if(ec(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>l).length)return null;u<n.to&&s.delete(u,n.to),l>n.from&&s.delete(n.from+i,l);let c=n.from+i+a.length;s.addMark(n.from+i,c,e.type.create(r||{})),s.removeStoredMark(e.type)}}})}class eM{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=b(p(this,"addOptions",{name:this.name}))),this.storage=b(p(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new eM(e)}configure(e={}){let t=this.extend({...this.config,addOptions:()=>A(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){let t=new eM(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=b(p(t,"addOptions",{name:t.name})),t.storage=b(p(t,"addStorage",{name:t.name,options:t.options})),t}}class eA{constructor(e,t,n){this.isDragging=!1,this.component=e,this.editor=t.editor,this.options={stopEvent:null,ignoreMutation:null,...n},this.extension=t.extension,this.node=t.node,this.decorations=t.decorations,this.innerDecorations=t.innerDecorations,this.view=t.view,this.HTMLAttributes=t.HTMLAttributes,this.getPos=t.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var t,n,r,s,a,o,l;let{view:u}=this.editor,c=e.target,h=3===c.nodeType?null===(t=c.parentElement)||void 0===t?void 0:t.closest("[data-drag-handle]"):c.closest("[data-drag-handle]");if(!this.dom||(null===(n=this.contentDOM)||void 0===n?void 0:n.contains(c))||!h)return;let d=0,p=0;if(this.dom!==h){let t=this.dom.getBoundingClientRect(),n=h.getBoundingClientRect(),i=null!==(r=e.offsetX)&&void 0!==r?r:null===(s=e.nativeEvent)||void 0===s?void 0:s.offsetX,l=null!==(a=e.offsetY)&&void 0!==a?a:null===(o=e.nativeEvent)||void 0===o?void 0:o.offsetY;d=n.x-t.x+i,p=n.y-t.y+l}let f=this.dom.cloneNode(!0);null===(l=e.dataTransfer)||void 0===l||l.setDragImage(f,d,p);let m=this.getPos();if("number"!=typeof m)return;let g=i.qv.create(u.state.doc,m),v=u.state.tr.setSelection(g);u.dispatch(v)}stopEvent(e){var t;if(!this.dom)return!1;if("function"==typeof this.options.stopEvent)return this.options.stopEvent({event:e});let n=e.target;if(!(this.dom.contains(n)&&!(null===(t=this.contentDOM)||void 0===t?void 0:t.contains(n))))return!1;let r=e.type.startsWith("drag"),s="drop"===e.type;if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!s&&!r)return!0;let{isEditable:a}=this.editor,{isDragging:o}=this,l=!!this.node.type.spec.draggable,u=i.qv.isSelectable(this.node),c="copy"===e.type,h="paste"===e.type,d="cut"===e.type,p="mousedown"===e.type;if(!l&&u&&r&&e.target===this.dom&&e.preventDefault(),l&&r&&!o&&e.target===this.dom)return e.preventDefault(),!1;if(l&&a&&!o&&p){let e=n.closest("[data-drag-handle]");e&&(this.dom===e||this.dom.contains(e))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!o&&!s&&!c&&!h&&!d&&(!p||!u)}ignoreMutation(e){return!this.dom||!this.contentDOM||("function"==typeof this.options.ignoreMutation?this.options.ignoreMutation({mutation:e}):!!this.node.isLeaf||!!this.node.isAtom||!("selection"===e.type||this.dom.contains(e.target)&&"childList"===e.type&&(Z()||Q())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(e=>e.isContentEditable))&&(this.contentDOM===e.target&&"attributes"===e.type||!this.contentDOM.contains(e.target)))}updateAttributes(e){this.editor.commands.command(({tr:t})=>{let n=this.getPos();return"number"==typeof n&&(t.setNodeMarkup(n,void 0,{...this.node.attrs,...e}),!0)})}deleteNode(){let e=this.getPos();if("number"!=typeof e)return;let t=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:t})}}function eO(e){return new D({find:e.find,handler:({state:t,range:n,match:i,pasteEvent:r})=>{let s=b(e.getAttributes,void 0,i,r);if(!1===s||null===s)return null;let{tr:a}=t,o=i[i.length-1],l=i[0],u=n.to;if(o){let i=l.search(/\S/),r=n.from+l.indexOf(o),c=r+o.length;if(ec(n.from,n.to,t.doc).filter(t=>t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)).filter(e=>e.to>r).length)return null;c<n.to&&a.delete(c,n.to),r>n.from&&a.delete(n.from+i,r),u=n.from+i+o.length,a.addMark(n.from+i,u,e.type.create(s||{})),a.removeStoredMark(e.type)}}})}},84123:function(e,t,n){"use strict";n.d(t,{_b:function(){return U}});var i=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],r=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],s="\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙՠ-ֈא-תׯ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࡠ-ࡪࡰ-ࢇࢉ-ࢎࢠ-ࣉऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱৼਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡૹଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘ-ౚౝౠౡಀಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೝೞೠೡೱೲഄ-ഌഎ-ഐഒ-ഺഽൎൔ-ൖൟ-ൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄຆ-ຊຌ-ຣລວ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏽᏸ-ᏽᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜑᜟ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡸᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭌᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᲀ-ᲊᲐ-ᲺᲽ-Ჿᳩ-ᳬᳮ-ᳳᳵᳶᳺᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕ℘-ℝℤΩℨK-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞ々-〇〡-〩〱-〵〸-〼ぁ-ゖ゛-ゟァ-ヺー-ヿㄅ-ㄯㄱ-ㆎㆠ-ㆿㇰ-ㇿ㐀-䶿一-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꟍꟐꟑꟓꟕ-Ƛꟲ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꣽꣾꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭩꭰ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ",a={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},o="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",l={5:o,"5module":o+" export import",6:o+" const class extends export import super"},u=/^in(stanceof)?$/,c=RegExp("["+s+"]"),h=RegExp("["+s+"‌‍\xb7̀-ͯ·҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-٩ٰۖ-ۜ۟-۪ۤۧۨ-ۭ۰-۹ܑܰ-݊ަ-ް߀-߉߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࢗ-࢟࣊-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣ०-९ঁ-ঃ়া-ৄেৈো-্ৗৢৣ০-৯৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑ੦-ੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣ૦-૯ૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍୕-ୗୢୣ୦-୯ஂா-ூெ-ைொ-்ௗ௦-௯ఀ-ఄ఼ా-ౄె-ైొ-్ౕౖౢౣ౦-౯ಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣ೦-೯ೳഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣ൦-൯ඁ-ඃ්ා-ුූෘ-ෟ෦-෯ෲෳัิ-ฺ็-๎๐-๙ັິ-ຼ່-໎໐-໙༘༙༠-༩༹༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှ၀-၉ၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏ-ႝ፝-፟፩-፱ᜒ-᜕ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝០-៩᠋-᠍᠏-᠙ᢩᤠ-ᤫᤰ-᤻᥆-᥏᧐-᧚ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼-᪉᪐-᪙᪰-᪽ᪿ-ᫎᬀ-ᬄ᬴-᭄᭐-᭙᭫-᭳ᮀ-ᮂᮡ-ᮭ᮰-᮹᯦-᯳ᰤ-᰷᱀-᱉᱐-᱙᳐-᳔᳒-᳨᳭᳴᳷-᳹᷀-᷿‌‍‿⁀⁔⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯・꘠-꘩꙯ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧ꠬ꢀꢁꢴ-ꣅ꣐-꣙꣠-꣱ꣿ-꤉ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀꧐-꧙ꧥ꧰-꧹ꨩ-ꨶꩃꩌꩍ꩐-꩙ꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭꯰-꯹ﬞ︀-️︠-︯︳︴﹍-﹏０-９＿･]");function d(e,t){for(var n=65536,i=0;i<t.length&&!((n+=t[i])>e);i+=2)if((n+=t[i+1])>=e)return!0;return!1}function p(e,t){return e<65?36===e:e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&c.test(String.fromCharCode(e)):!1!==t&&d(e,r)))}function f(e,t){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||(e<=65535?e>=170&&h.test(String.fromCharCode(e)):!1!==t&&(d(e,r)||d(e,i)))))}var m=function(e,t){void 0===t&&(t={}),this.label=e,this.keyword=t.keyword,this.beforeExpr=!!t.beforeExpr,this.startsExpr=!!t.startsExpr,this.isLoop=!!t.isLoop,this.isAssign=!!t.isAssign,this.prefix=!!t.prefix,this.postfix=!!t.postfix,this.binop=t.binop||null,this.updateContext=null};function g(e,t){return new m(e,{beforeExpr:!0,binop:t})}var v={beforeExpr:!0},y={startsExpr:!0},_={};function b(e,t){return void 0===t&&(t={}),t.keyword=e,_[e]=new m(e,t)}var x={num:new m("num",y),regexp:new m("regexp",y),string:new m("string",y),name:new m("name",y),privateId:new m("privateId",y),eof:new m("eof"),bracketL:new m("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new m("]"),braceL:new m("{",{beforeExpr:!0,startsExpr:!0}),braceR:new m("}"),parenL:new m("(",{beforeExpr:!0,startsExpr:!0}),parenR:new m(")"),comma:new m(",",v),semi:new m(";",v),colon:new m(":",v),dot:new m("."),question:new m("?",v),questionDot:new m("?."),arrow:new m("=>",v),template:new m("template"),invalidTemplate:new m("invalidTemplate"),ellipsis:new m("...",v),backQuote:new m("`",y),dollarBraceL:new m("${",{beforeExpr:!0,startsExpr:!0}),eq:new m("=",{beforeExpr:!0,isAssign:!0}),assign:new m("_=",{beforeExpr:!0,isAssign:!0}),incDec:new m("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new m("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:g("||",1),logicalAND:g("&&",2),bitwiseOR:g("|",3),bitwiseXOR:g("^",4),bitwiseAND:g("&",5),equality:g("==/!=/===/!==",6),relational:g("</>/<=/>=",7),bitShift:g("<</>>/>>>",8),plusMin:new m("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:g("%",10),star:g("*",10),slash:g("/",10),starstar:new m("**",{beforeExpr:!0}),coalesce:g("??",1),_break:b("break"),_case:b("case",v),_catch:b("catch"),_continue:b("continue"),_debugger:b("debugger"),_default:b("default",v),_do:b("do",{isLoop:!0,beforeExpr:!0}),_else:b("else",v),_finally:b("finally"),_for:b("for",{isLoop:!0}),_function:b("function",y),_if:b("if"),_return:b("return",v),_switch:b("switch"),_throw:b("throw",v),_try:b("try"),_var:b("var"),_const:b("const"),_while:b("while",{isLoop:!0}),_with:b("with"),_new:b("new",{beforeExpr:!0,startsExpr:!0}),_this:b("this",y),_super:b("super",y),_class:b("class",y),_extends:b("extends",v),_export:b("export"),_import:b("import",y),_null:b("null",y),_true:b("true",y),_false:b("false",y),_in:b("in",{beforeExpr:!0,binop:7}),_instanceof:b("instanceof",{beforeExpr:!0,binop:7}),_typeof:b("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:b("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:b("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},w=/\r\n?|\n|\u2028|\u2029/,k=RegExp(w.source,"g");function S(e){return 10===e||13===e||8232===e||8233===e}function C(e,t,n){void 0===n&&(n=e.length);for(var i=t;i<n;i++){var r=e.charCodeAt(i);if(S(r))return i<n-1&&13===r&&10===e.charCodeAt(i+1)?i+2:i+1}return -1}var E=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,P=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,T=Object.prototype,N=T.hasOwnProperty,I=T.toString,M=Object.hasOwn||function(e,t){return N.call(e,t)},A=Array.isArray||function(e){return"[object Array]"===I.call(e)},O=Object.create(null);function D(e){return O[e]||(O[e]=RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function R(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10)+55296,(1023&e)+56320)}var L=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,V=function(e,t){this.line=e,this.column=t};V.prototype.offset=function(e){return new V(this.line,this.column+e)};var F=function(e,t,n){this.start=t,this.end=n,null!==e.sourceFile&&(this.source=e.sourceFile)};function B(e,t){for(var n=1,i=0;;){var r=C(e,i,t);if(r<0)return new V(n,t-i);++n,i=r}}var $={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},z=!1;function j(e,t){return 2|(e?4:0)|(t?8:0)}var U=function(e,t,n){this.options=e=function(e){var t,n={};for(var i in $)n[i]=e&&M(e,i)?e[i]:$[i];if("latest"===n.ecmaVersion?n.ecmaVersion=1e8:null==n.ecmaVersion?(!z&&"object"==typeof console&&console.warn&&(z=!0,console.warn("Since Acorn 8.0.0, options.ecmaVersion is required.\nDefaulting to 2020, but this will stop working in the future.")),n.ecmaVersion=11):n.ecmaVersion>=2015&&(n.ecmaVersion-=2009),null==n.allowReserved&&(n.allowReserved=n.ecmaVersion<5),e&&null!=e.allowHashBang||(n.allowHashBang=n.ecmaVersion>=14),A(n.onToken)){var r=n.onToken;n.onToken=function(e){return r.push(e)}}return A(n.onComment)&&(n.onComment=(t=n.onComment,function(e,i,r,s,a,o){var l={type:e?"Block":"Line",value:i,start:r,end:s};n.locations&&(l.loc=new F(this,a,o)),n.ranges&&(l.range=[r,s]),t.push(l)})),n}(e),this.sourceFile=e.sourceFile,this.keywords=D(l[e.ecmaVersion>=6?6:"module"===e.sourceType?"5module":5]);var i="";!0!==e.allowReserved&&(i=a[e.ecmaVersion>=6?6:5===e.ecmaVersion?5:3],"module"===e.sourceType&&(i+=" await")),this.reservedWords=D(i);var r=(i?i+" ":"")+a.strict;this.reservedWordsStrict=D(r),this.reservedWordsStrictBind=D(r+" "+a.strictBind),this.input=String(t),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf("\n",n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(w).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=x.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule="module"===e.sourceType,this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),0===this.pos&&e.allowHashBang&&"#!"===this.input.slice(0,2)&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(1),this.regexpState=null,this.privateNameStack=[]},q={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};U.prototype.parse=function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},q.inFunction.get=function(){return(2&this.currentVarScope().flags)>0},q.inGenerator.get=function(){return(8&this.currentVarScope().flags)>0},q.inAsync.get=function(){return(4&this.currentVarScope().flags)>0},q.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e].flags;if(768&t)return!1;if(2&t)return(4&t)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},q.allowSuper.get=function(){return(64&this.currentThisScope().flags)>0||this.options.allowSuperOutsideMethod},q.allowDirectSuper.get=function(){return(128&this.currentThisScope().flags)>0},q.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},q.allowNewDotTarget.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var t=this.scopeStack[e].flags;if(768&t||2&t&&!(16&t))return!0}return!1},q.inClassStaticBlock.get=function(){return(256&this.currentVarScope().flags)>0},U.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];for(var n=this,i=0;i<e.length;i++)n=e[i](n);return n},U.parse=function(e,t){return new this(t,e).parse()},U.parseExpressionAt=function(e,t,n){var i=new this(n,e,t);return i.nextToken(),i.parseExpression()},U.tokenizer=function(e,t){return new this(t,e)},Object.defineProperties(U.prototype,q);var H=U.prototype,W=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;H.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){P.lastIndex=e,e+=P.exec(this.input)[0].length;var t=W.exec(this.input.slice(e));if(!t)return!1;if("use strict"===(t[1]||t[2])){P.lastIndex=e+t[0].length;var n=P.exec(this.input),i=n.index+n[0].length,r=this.input.charAt(i);return";"===r||"}"===r||w.test(n[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||"!"===r&&"="===this.input.charAt(i+1))}e+=t[0].length,P.lastIndex=e,e+=P.exec(this.input)[0].length,";"===this.input[e]&&e++}},H.eat=function(e){return this.type===e&&(this.next(),!0)},H.isContextual=function(e){return this.type===x.name&&this.value===e&&!this.containsEsc},H.eatContextual=function(e){return!!this.isContextual(e)&&(this.next(),!0)},H.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},H.canInsertSemicolon=function(){return this.type===x.eof||this.type===x.braceR||w.test(this.input.slice(this.lastTokEnd,this.start))},H.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},H.semicolon=function(){this.eat(x.semi)||this.insertSemicolon()||this.unexpected()},H.afterTrailingComma=function(e,t){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),t||this.next(),!0},H.expect=function(e){this.eat(e)||this.unexpected()},H.unexpected=function(e){this.raise(null!=e?e:this.start,"Unexpected token")};var Y=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};H.checkPatternErrors=function(e,t){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var n=t?e.parenthesizedAssign:e.parenthesizedBind;n>-1&&this.raiseRecoverable(n,t?"Assigning to rvalue":"Parenthesized pattern")}},H.checkExpressionErrors=function(e,t){if(!e)return!1;var n=e.shorthandAssign,i=e.doubleProto;if(!t)return n>=0||i>=0;n>=0&&this.raise(n,"Shorthand property assignments are valid only in destructuring patterns"),i>=0&&this.raiseRecoverable(i,"Redefinition of __proto__ property")},H.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},H.isSimpleAssignTarget=function(e){return"ParenthesizedExpression"===e.type?this.isSimpleAssignTarget(e.expression):"Identifier"===e.type||"MemberExpression"===e.type};var G=U.prototype;G.parseTopLevel=function(e){var t=Object.create(null);for(e.body||(e.body=[]);this.type!==x.eof;){var n=this.parseStatement(null,!0,t);e.body.push(n)}if(this.inModule)for(var i=0,r=Object.keys(this.undefinedExports);i<r.length;i+=1){var s=r[i];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var K={kind:"loop"},X={kind:"switch"};G.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;P.lastIndex=this.pos;var t=P.exec(this.input),n=this.pos+t[0].length,i=this.input.charCodeAt(n);if(91===i||92===i)return!0;if(e)return!1;if(123===i||i>55295&&i<56320)return!0;if(p(i,!0)){for(var r=n+1;f(i=this.input.charCodeAt(r),!0);)++r;if(92===i||i>55295&&i<56320)return!0;var s=this.input.slice(n,r);if(!u.test(s))return!0}return!1},G.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;P.lastIndex=this.pos;var e,t=P.exec(this.input),n=this.pos+t[0].length;return!w.test(this.input.slice(this.pos,n))&&"function"===this.input.slice(n,n+8)&&(n+8===this.input.length||!(f(e=this.input.charCodeAt(n+8))||e>55295&&e<56320))},G.isUsingKeyword=function(e,t){if(this.options.ecmaVersion<17||!this.isContextual(e?"await":"using"))return!1;P.lastIndex=this.pos;var n=P.exec(this.input),i=this.pos+n[0].length;if(w.test(this.input.slice(this.pos,i)))return!1;if(e){var r,s=i+5;if("using"!==this.input.slice(i,s)||s===this.input.length||f(r=this.input.charCodeAt(s))||r>55295&&r<56320)return!1;P.lastIndex=s;var a=P.exec(this.input);if(a&&w.test(this.input.slice(s,s+a[0].length)))return!1}if(t){var o,l=i+2;if("of"===this.input.slice(i,l)&&(l===this.input.length||!f(o=this.input.charCodeAt(l))&&!(o>55295&&o<56320)))return!1}var u=this.input.charCodeAt(i);return p(u,!0)||92===u},G.isAwaitUsing=function(e){return this.isUsingKeyword(!0,e)},G.isUsing=function(e){return this.isUsingKeyword(!1,e)},G.parseStatement=function(e,t,n){var i,r=this.type,s=this.startNode();switch(this.isLet(e)&&(r=x._var,i="let"),r){case x._break:case x._continue:return this.parseBreakContinueStatement(s,r.keyword);case x._debugger:return this.parseDebuggerStatement(s);case x._do:return this.parseDoStatement(s);case x._for:return this.parseForStatement(s);case x._function:return e&&(this.strict||"if"!==e&&"label"!==e)&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(s,!1,!e);case x._class:return e&&this.unexpected(),this.parseClass(s,!0);case x._if:return this.parseIfStatement(s);case x._return:return this.parseReturnStatement(s);case x._switch:return this.parseSwitchStatement(s);case x._throw:return this.parseThrowStatement(s);case x._try:return this.parseTryStatement(s);case x._const:case x._var:return i=i||this.value,e&&"var"!==i&&this.unexpected(),this.parseVarStatement(s,i);case x._while:return this.parseWhileStatement(s);case x._with:return this.parseWithStatement(s);case x.braceL:return this.parseBlock(!0,s);case x.semi:return this.parseEmptyStatement(s);case x._export:case x._import:if(this.options.ecmaVersion>10&&r===x._import){P.lastIndex=this.pos;var a=P.exec(this.input),o=this.pos+a[0].length,l=this.input.charCodeAt(o);if(40===l||46===l)return this.parseExpressionStatement(s,this.parseExpression())}return this.options.allowImportExportEverywhere||(t||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),r===x._import?this.parseImport(s):this.parseExport(s,n);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(s,!0,!e);var u=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(u)return t&&"script"===this.options.sourceType&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),"await using"===u&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(s,!1,u),this.semicolon(),this.finishNode(s,"VariableDeclaration");var c=this.value,h=this.parseExpression();if(r===x.name&&"Identifier"===h.type&&this.eat(x.colon))return this.parseLabeledStatement(s,c,h,e);return this.parseExpressionStatement(s,h)}},G.parseBreakContinueStatement=function(e,t){var n="break"===t;this.next(),this.eat(x.semi)||this.insertSemicolon()?e.label=null:this.type!==x.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var i=0;i<this.labels.length;++i){var r=this.labels[i];if((null==e.label||r.name===e.label.name)&&(null!=r.kind&&(n||"loop"===r.kind)||e.label&&n))break}return i===this.labels.length&&this.raise(e.start,"Unsyntactic "+t),this.finishNode(e,n?"BreakStatement":"ContinueStatement")},G.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},G.parseDoStatement=function(e){return this.next(),this.labels.push(K),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(x._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(x.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},G.parseForStatement=function(e){this.next();var t=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(K),this.enterScope(0),this.expect(x.parenL),this.type===x.semi)return t>-1&&this.unexpected(t),this.parseFor(e,null);var n=this.isLet();if(this.type===x._var||this.type===x._const||n){var i=this.startNode(),r=n?"let":this.value;return this.next(),this.parseVar(i,!0,r),this.finishNode(i,"VariableDeclaration"),this.parseForAfterInit(e,i,t)}var s=this.isContextual("let"),a=!1,o=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(o){var l=this.startNode();return this.next(),"await using"===o&&this.next(),this.parseVar(l,!0,o),this.finishNode(l,"VariableDeclaration"),this.parseForAfterInit(e,l,t)}var u=this.containsEsc,c=new Y,h=this.start,d=t>-1?this.parseExprSubscripts(c,"await"):this.parseExpression(!0,c);return this.type===x._in||(a=this.options.ecmaVersion>=6&&this.isContextual("of"))?(t>-1?(this.type===x._in&&this.unexpected(t),e.await=!0):a&&this.options.ecmaVersion>=8&&(d.start!==h||u||"Identifier"!==d.type||"async"!==d.name?this.options.ecmaVersion>=9&&(e.await=!1):this.unexpected()),s&&a&&this.raise(d.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(d,!1,c),this.checkLValPattern(d),this.parseForIn(e,d)):(this.checkExpressionErrors(c,!0),t>-1&&this.unexpected(t),this.parseFor(e,d))},G.parseForAfterInit=function(e,t,n){return(this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&1===t.declarations.length?(this.options.ecmaVersion>=9&&(this.type===x._in?n>-1&&this.unexpected(n):e.await=n>-1),this.parseForIn(e,t)):(n>-1&&this.unexpected(n),this.parseFor(e,t))},G.parseFunctionStatement=function(e,t,n){return this.next(),this.parseFunction(e,Z|(n?0:J),!1,t)},G.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(x._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},G.parseReturnStatement=function(e){return this.inFunction||this.options.allowReturnOutsideFunction||this.raise(this.start,"'return' outside of function"),this.next(),this.eat(x.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},G.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(x.braceL),this.labels.push(X),this.enterScope(0);for(var t,n=!1;this.type!==x.braceR;)if(this.type===x._case||this.type===x._default){var i=this.type===x._case;t&&this.finishNode(t,"SwitchCase"),e.cases.push(t=this.startNode()),t.consequent=[],this.next(),i?t.test=this.parseExpression():(n&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),n=!0,t.test=null),this.expect(x.colon)}else t||this.unexpected(),t.consequent.push(this.parseStatement(null));return this.exitScope(),t&&this.finishNode(t,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},G.parseThrowStatement=function(e){return this.next(),w.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var Q=[];G.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),t="Identifier"===e.type;return this.enterScope(t?32:0),this.checkLValPattern(e,t?4:2),this.expect(x.parenR),e},G.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===x._catch){var t=this.startNode();this.next(),this.eat(x.parenL)?t.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),t.param=null,this.enterScope(0)),t.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(t,"CatchClause")}return e.finalizer=this.eat(x._finally)?this.parseBlock():null,e.handler||e.finalizer||this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},G.parseVarStatement=function(e,t,n){return this.next(),this.parseVar(e,!1,t,n),this.semicolon(),this.finishNode(e,"VariableDeclaration")},G.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(K),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},G.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},G.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},G.parseLabeledStatement=function(e,t,n,i){for(var r=0,s=this.labels;r<s.length;r+=1)s[r].name===t&&this.raise(n.start,"Label '"+t+"' is already declared");for(var a=this.type.isLoop?"loop":this.type===x._switch?"switch":null,o=this.labels.length-1;o>=0;o--){var l=this.labels[o];if(l.statementStart===e.start)l.statementStart=this.start,l.kind=a;else break}return this.labels.push({name:t,kind:a,statementStart:this.start}),e.body=this.parseStatement(i?-1===i.indexOf("label")?i+"label":i:"label"),this.labels.pop(),e.label=n,this.finishNode(e,"LabeledStatement")},G.parseExpressionStatement=function(e,t){return e.expression=t,this.semicolon(),this.finishNode(e,"ExpressionStatement")},G.parseBlock=function(e,t,n){for(void 0===e&&(e=!0),void 0===t&&(t=this.startNode()),t.body=[],this.expect(x.braceL),e&&this.enterScope(0);this.type!==x.braceR;){var i=this.parseStatement(null);t.body.push(i)}return n&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(t,"BlockStatement")},G.parseFor=function(e,t){return e.init=t,this.expect(x.semi),e.test=this.type===x.semi?null:this.parseExpression(),this.expect(x.semi),e.update=this.type===x.parenR?null:this.parseExpression(),this.expect(x.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},G.parseForIn=function(e,t){var n=this.type===x._in;return this.next(),"VariableDeclaration"===t.type&&null!=t.declarations[0].init&&(!n||this.options.ecmaVersion<8||this.strict||"var"!==t.kind||"Identifier"!==t.declarations[0].id.type)&&this.raise(t.start,(n?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=t,e.right=n?this.parseExpression():this.parseMaybeAssign(),this.expect(x.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,n?"ForInStatement":"ForOfStatement")},G.parseVar=function(e,t,n,i){for(e.declarations=[],e.kind=n;;){var r=this.startNode();if(this.parseVarId(r,n),this.eat(x.eq)?r.init=this.parseMaybeAssign(t):i||"const"!==n||this.type===x._in||this.options.ecmaVersion>=6&&this.isContextual("of")?i||"using"!==n&&"await using"!==n||!(this.options.ecmaVersion>=17)||this.type===x._in||this.isContextual("of")?i||"Identifier"===r.id.type||t&&(this.type===x._in||this.isContextual("of"))?r.init=null:this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):this.raise(this.lastTokEnd,"Missing initializer in "+n+" declaration"):this.unexpected(),e.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(x.comma))break}return e},G.parseVarId=function(e,t){e.id="using"===t||"await using"===t?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(e.id,"var"===t?1:2,!1)};var Z=1,J=2;function ee(e,t){var n=e.computed,i=e.key;return!n&&("Identifier"===i.type&&i.name===t||"Literal"===i.type&&i.value===t)}G.parseFunction=function(e,t,n,i,r){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!i)&&(this.type===x.star&&t&J&&this.unexpected(),e.generator=this.eat(x.star)),this.options.ecmaVersion>=8&&(e.async=!!i),t&Z&&(e.id=4&t&&this.type!==x.name?null:this.parseIdent(),e.id&&!(t&J)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?1:2:3));var s=this.yieldPos,a=this.awaitPos,o=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(j(e.async,e.generator)),t&Z||(e.id=this.type===x.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,n,!1,r),this.yieldPos=s,this.awaitPos=a,this.awaitIdentPos=o,this.finishNode(e,t&Z?"FunctionDeclaration":"FunctionExpression")},G.parseFunctionParams=function(e){this.expect(x.parenL),e.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},G.parseClass=function(e,t){this.next();var n=this.strict;this.strict=!0,this.parseClassId(e,t),this.parseClassSuper(e);var i=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(x.braceL);this.type!==x.braceR;){var a=this.parseClassElement(null!==e.superClass);a&&(r.body.push(a),"MethodDefinition"===a.type&&"constructor"===a.kind?(s&&this.raiseRecoverable(a.start,"Duplicate constructor in the same class"),s=!0):a.key&&"PrivateIdentifier"===a.key.type&&function(e,t){var n=t.key.name,i=e[n],r="true";return("MethodDefinition"===t.type&&("get"===t.kind||"set"===t.kind)&&(r=(t.static?"s":"i")+t.kind),"iget"===i&&"iset"===r||"iset"===i&&"iget"===r||"sget"===i&&"sset"===r||"sset"===i&&"sget"===r)?(e[n]="true",!1):!!i||(e[n]=r,!1)}(i,a)&&this.raiseRecoverable(a.key.start,"Identifier '#"+a.key.name+"' has already been declared"))}return this.strict=n,this.next(),e.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(e,t?"ClassDeclaration":"ClassExpression")},G.parseClassElement=function(e){if(this.eat(x.semi))return null;var t=this.options.ecmaVersion,n=this.startNode(),i="",r=!1,s=!1,a="method",o=!1;if(this.eatContextual("static")){if(t>=13&&this.eat(x.braceL))return this.parseClassStaticBlock(n),n;this.isClassElementNameStart()||this.type===x.star?o=!0:i="static"}if(n.static=o,!i&&t>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===x.star)&&!this.canInsertSemicolon()?s=!0:i="async"),!i&&(t>=9||!s)&&this.eat(x.star)&&(r=!0),!i&&!s&&!r){var l=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?a=l:i=l)}if(i?(n.computed=!1,n.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),n.key.name=i,this.finishNode(n.key,"Identifier")):this.parseClassElementName(n),t<13||this.type===x.parenL||"method"!==a||r||s){var u=!n.static&&ee(n,"constructor");u&&"method"!==a&&this.raise(n.key.start,"Constructor can't have get/set modifier"),n.kind=u?"constructor":a,this.parseClassMethod(n,r,s,u&&e)}else this.parseClassField(n);return n},G.isClassElementNameStart=function(){return this.type===x.name||this.type===x.privateId||this.type===x.num||this.type===x.string||this.type===x.bracketL||this.type.keyword},G.parseClassElementName=function(e){this.type===x.privateId?("constructor"===this.value&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},G.parseClassMethod=function(e,t,n,i){var r=e.key;"constructor"===e.kind?(t&&this.raise(r.start,"Constructor can't be a generator"),n&&this.raise(r.start,"Constructor can't be an async method")):e.static&&ee(e,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=e.value=this.parseMethod(t,n,i);return"get"===e.kind&&0!==s.params.length&&this.raiseRecoverable(s.start,"getter should have no params"),"set"===e.kind&&1!==s.params.length&&this.raiseRecoverable(s.start,"setter should have exactly one param"),"set"===e.kind&&"RestElement"===s.params[0].type&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},G.parseClassField=function(e){return ee(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&ee(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(x.eq)?(this.enterScope(576),e.value=this.parseMaybeAssign(),this.exitScope()):e.value=null,this.semicolon(),this.finishNode(e,"PropertyDefinition")},G.parseClassStaticBlock=function(e){e.body=[];var t=this.labels;for(this.labels=[],this.enterScope(320);this.type!==x.braceR;){var n=this.parseStatement(null);e.body.push(n)}return this.next(),this.exitScope(),this.labels=t,this.finishNode(e,"StaticBlock")},G.parseClassId=function(e,t){this.type===x.name?(e.id=this.parseIdent(),t&&this.checkLValSimple(e.id,2,!1)):(!0===t&&this.unexpected(),e.id=null)},G.parseClassSuper=function(e){e.superClass=this.eat(x._extends)?this.parseExprSubscripts(null,!1):null},G.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},G.exitClassBody=function(){var e=this.privateNameStack.pop(),t=e.declared,n=e.used;if(this.options.checkPrivateFields)for(var i=this.privateNameStack.length,r=0===i?null:this.privateNameStack[i-1],s=0;s<n.length;++s){var a=n[s];M(t,a.name)||(r?r.used.push(a):this.raiseRecoverable(a.start,"Private field '#"+a.name+"' must be declared in an enclosing class"))}},G.parseExportAllDeclaration=function(e,t){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(t,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==x.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},G.parseExport=function(e,t){if(this.next(),this.eat(x.star))return this.parseExportAllDeclaration(e,t);if(this.eat(x._default))return this.checkExport(t,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),"VariableDeclaration"===e.declaration.type?this.checkVariableExport(t,e.declaration.declarations):this.checkExport(t,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[]);else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(t),this.eatContextual("from"))this.type!==x.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var n=0,i=e.specifiers;n<i.length;n+=1){var r=i[n];this.checkUnreserved(r.local),this.checkLocalExport(r.local),"Literal"===r.local.type&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[])}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},G.parseExportDeclaration=function(e){return this.parseStatement(null)},G.parseExportDefaultDeclaration=function(){if(this.type===x._function||(e=this.isAsyncFunction())){var e,t=this.startNode();return this.next(),e&&this.next(),this.parseFunction(t,4|Z,!1,e)}if(this.type===x._class){var n=this.startNode();return this.parseClass(n,"nullableID")}var i=this.parseMaybeAssign();return this.semicolon(),i},G.checkExport=function(e,t,n){e&&("string"!=typeof t&&(t="Identifier"===t.type?t.name:t.value),M(e,t)&&this.raiseRecoverable(n,"Duplicate export '"+t+"'"),e[t]=!0)},G.checkPatternExport=function(e,t){var n=t.type;if("Identifier"===n)this.checkExport(e,t,t.start);else if("ObjectPattern"===n)for(var i=0,r=t.properties;i<r.length;i+=1){var s=r[i];this.checkPatternExport(e,s)}else if("ArrayPattern"===n)for(var a=0,o=t.elements;a<o.length;a+=1){var l=o[a];l&&this.checkPatternExport(e,l)}else"Property"===n?this.checkPatternExport(e,t.value):"AssignmentPattern"===n?this.checkPatternExport(e,t.left):"RestElement"===n&&this.checkPatternExport(e,t.argument)},G.checkVariableExport=function(e,t){if(e)for(var n=0;n<t.length;n+=1){var i=t[n];this.checkPatternExport(e,i.id)}},G.shouldParseExportStatement=function(){return"var"===this.type.keyword||"const"===this.type.keyword||"class"===this.type.keyword||"function"===this.type.keyword||this.isLet()||this.isAsyncFunction()},G.parseExportSpecifier=function(e){var t=this.startNode();return t.local=this.parseModuleExportName(),t.exported=this.eatContextual("as")?this.parseModuleExportName():t.local,this.checkExport(e,t.exported,t.exported.start),this.finishNode(t,"ExportSpecifier")},G.parseExportSpecifiers=function(e){var t=[],n=!0;for(this.expect(x.braceL);!this.eat(x.braceR);){if(n)n=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;t.push(this.parseExportSpecifier(e))}return t},G.parseImport=function(e){return this.next(),this.type===x.string?(e.specifiers=Q,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===x.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},G.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportSpecifier")},G.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportDefaultSpecifier")},G.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,2),this.finishNode(e,"ImportNamespaceSpecifier")},G.parseImportSpecifiers=function(){var e=[],t=!0;if(this.type===x.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(x.comma)))return e;if(this.type===x.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(x.braceL);!this.eat(x.braceR);){if(t)t=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;e.push(this.parseImportSpecifier())}return e},G.parseWithClause=function(){var e=[];if(!this.eat(x._with))return e;this.expect(x.braceL);for(var t={},n=!0;!this.eat(x.braceR);){if(n)n=!1;else if(this.expect(x.comma),this.afterTrailingComma(x.braceR))break;var i=this.parseImportAttribute(),r="Identifier"===i.key.type?i.key.name:i.key.value;M(t,r)&&this.raiseRecoverable(i.key.start,"Duplicate attribute key '"+r+"'"),t[r]=!0,e.push(i)}return e},G.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===x.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved),this.expect(x.colon),this.type!==x.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},G.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===x.string){var e=this.parseLiteral(this.value);return L.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},G.adaptDirectivePrologue=function(e){for(var t=0;t<e.length&&this.isDirectiveCandidate(e[t]);++t)e[t].directive=e[t].expression.raw.slice(1,-1)},G.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"string"==typeof e.expression.value&&('"'===this.input[e.start]||"'"===this.input[e.start])};var et=U.prototype;et.toAssignable=function(e,t,n){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&"await"===e.name&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",n&&this.checkPatternErrors(n,!0);for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.toAssignable(s,t),"RestElement"===s.type&&("ArrayPattern"===s.argument.type||"ObjectPattern"===s.argument.type)&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":"init"!==e.kind&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,t);break;case"ArrayExpression":e.type="ArrayPattern",n&&this.checkPatternErrors(n,!0),this.toAssignableList(e.elements,t);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,t),"AssignmentPattern"===e.argument.type&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":"="!==e.operator&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,t);break;case"ParenthesizedExpression":this.toAssignable(e.expression,t,n);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!t)break;default:this.raise(e.start,"Assigning to rvalue")}else n&&this.checkPatternErrors(n,!0);return e},et.toAssignableList=function(e,t){for(var n=e.length,i=0;i<n;i++){var r=e[i];r&&this.toAssignable(r,t)}if(n){var s=e[n-1];6===this.options.ecmaVersion&&t&&s&&"RestElement"===s.type&&"Identifier"!==s.argument.type&&this.unexpected(s.argument.start)}return e},et.parseSpread=function(e){var t=this.startNode();return this.next(),t.argument=this.parseMaybeAssign(!1,e),this.finishNode(t,"SpreadElement")},et.parseRestBinding=function(){var e=this.startNode();return this.next(),6===this.options.ecmaVersion&&this.type!==x.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},et.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case x.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(x.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case x.braceL:return this.parseObj(!0)}return this.parseIdent()},et.parseBindingList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);)if(s?s=!1:this.expect(x.comma),t&&this.type===x.comma)r.push(null);else if(n&&this.afterTrailingComma(e))break;else if(this.type===x.ellipsis){var a=this.parseRestBinding();this.parseBindingListItem(a),r.push(a),this.type===x.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else r.push(this.parseAssignableListItem(i));return r},et.parseAssignableListItem=function(e){var t=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(t),t},et.parseBindingListItem=function(e){return e},et.parseMaybeDefault=function(e,t,n){if(n=n||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(x.eq))return n;var i=this.startNodeAt(e,t);return i.left=n,i.right=this.parseMaybeAssign(),this.finishNode(i,"AssignmentPattern")},et.checkLValSimple=function(e,t,n){void 0===t&&(t=0);var i=0!==t;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(i?"Binding ":"Assigning to ")+e.name+" in strict mode"),i&&(2===t&&"let"===e.name&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),n&&(M(n,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),n[e.name]=!0),5!==t&&this.declareName(e.name,t,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":i&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return i&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,t,n);default:this.raise(e.start,(i?"Binding":"Assigning to")+" rvalue")}},et.checkLValPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"ObjectPattern":for(var i=0,r=e.properties;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,t,n)}break;case"ArrayPattern":for(var a=0,o=e.elements;a<o.length;a+=1){var l=o[a];l&&this.checkLValInnerPattern(l,t,n)}break;default:this.checkLValSimple(e,t,n)}},et.checkLValInnerPattern=function(e,t,n){switch(void 0===t&&(t=0),e.type){case"Property":this.checkLValInnerPattern(e.value,t,n);break;case"AssignmentPattern":this.checkLValPattern(e.left,t,n);break;case"RestElement":this.checkLValPattern(e.argument,t,n);break;default:this.checkLValPattern(e,t,n)}};var en=function(e,t,n,i,r){this.token=e,this.isExpr=!!t,this.preserveSpace=!!n,this.override=i,this.generator=!!r},ei={b_stat:new en("{",!1),b_expr:new en("{",!0),b_tmpl:new en("${",!1),p_stat:new en("(",!1),p_expr:new en("(",!0),q_tmpl:new en("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new en("function",!1),f_expr:new en("function",!0),f_expr_gen:new en("function",!0,!1,null,!0),f_gen:new en("function",!1,!1,null,!0)},er=U.prototype;er.initialContext=function(){return[ei.b_stat]},er.curContext=function(){return this.context[this.context.length-1]},er.braceIsBlock=function(e){var t=this.curContext();return t===ei.f_expr||t===ei.f_stat||(e===x.colon&&(t===ei.b_stat||t===ei.b_expr)?!t.isExpr:e===x._return||e===x.name&&this.exprAllowed?w.test(this.input.slice(this.lastTokEnd,this.start)):e===x._else||e===x.semi||e===x.eof||e===x.parenR||e===x.arrow||(e===x.braceL?t===ei.b_stat:e!==x._var&&e!==x._const&&e!==x.name&&!this.exprAllowed))},er.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var t=this.context[e];if("function"===t.token)return t.generator}return!1},er.updateContext=function(e){var t,n=this.type;n.keyword&&e===x.dot?this.exprAllowed=!1:(t=n.updateContext)?t.call(this,e):this.exprAllowed=n.beforeExpr},er.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},x.parenR.updateContext=x.braceR.updateContext=function(){if(1===this.context.length){this.exprAllowed=!0;return}var e=this.context.pop();e===ei.b_stat&&"function"===this.curContext().token&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},x.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?ei.b_stat:ei.b_expr),this.exprAllowed=!0},x.dollarBraceL.updateContext=function(){this.context.push(ei.b_tmpl),this.exprAllowed=!0},x.parenL.updateContext=function(e){var t=e===x._if||e===x._for||e===x._with||e===x._while;this.context.push(t?ei.p_stat:ei.p_expr),this.exprAllowed=!0},x.incDec.updateContext=function(){},x._function.updateContext=x._class.updateContext=function(e){!e.beforeExpr||e===x._else||e===x.semi&&this.curContext()!==ei.p_stat||e===x._return&&w.test(this.input.slice(this.lastTokEnd,this.start))||(e===x.colon||e===x.braceL)&&this.curContext()===ei.b_stat?this.context.push(ei.f_stat):this.context.push(ei.f_expr),this.exprAllowed=!1},x.colon.updateContext=function(){"function"===this.curContext().token&&this.context.pop(),this.exprAllowed=!0},x.backQuote.updateContext=function(){this.curContext()===ei.q_tmpl?this.context.pop():this.context.push(ei.q_tmpl),this.exprAllowed=!1},x.star.updateContext=function(e){if(e===x._function){var t=this.context.length-1;this.context[t]===ei.f_expr?this.context[t]=ei.f_expr_gen:this.context[t]=ei.f_gen}this.exprAllowed=!0},x.name.updateContext=function(e){var t=!1;this.options.ecmaVersion>=6&&e!==x.dot&&("of"===this.value&&!this.exprAllowed||"yield"===this.value&&this.inGeneratorContext())&&(t=!0),this.exprAllowed=t};var es=U.prototype;es.checkPropClash=function(e,t,n){if((!(this.options.ecmaVersion>=9)||"SpreadElement"!==e.type)&&(!(this.options.ecmaVersion>=6)||!e.computed&&!e.method&&!e.shorthand)){var i,r=e.key;switch(r.type){case"Identifier":i=r.name;break;case"Literal":i=String(r.value);break;default:return}var s=e.kind;if(this.options.ecmaVersion>=6){"__proto__"===i&&"init"===s&&(t.proto&&(n?n.doubleProto<0&&(n.doubleProto=r.start):this.raiseRecoverable(r.start,"Redefinition of __proto__ property")),t.proto=!0);return}var a=t[i="$"+i];a?("init"===s?this.strict&&a.init||a.get||a.set:a.init||a[s])&&this.raiseRecoverable(r.start,"Redefinition of property"):a=t[i]={init:!1,get:!1,set:!1},a[s]=!0}},es.parseExpression=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeAssign(e,t);if(this.type===x.comma){var s=this.startNodeAt(n,i);for(s.expressions=[r];this.eat(x.comma);)s.expressions.push(this.parseMaybeAssign(e,t));return this.finishNode(s,"SequenceExpression")}return r},es.parseMaybeAssign=function(e,t,n){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var i=!1,r=-1,s=-1,a=-1;t?(r=t.parenthesizedAssign,s=t.trailingComma,a=t.doubleProto,t.parenthesizedAssign=t.trailingComma=-1):(t=new Y,i=!0);var o=this.start,l=this.startLoc;(this.type===x.parenL||this.type===x.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait="await"===e);var u=this.parseMaybeConditional(e,t);if(n&&(u=n.call(this,u,o,l)),this.type.isAssign){var c=this.startNodeAt(o,l);return c.operator=this.value,this.type===x.eq&&(u=this.toAssignable(u,!1,t)),i||(t.parenthesizedAssign=t.trailingComma=t.doubleProto=-1),t.shorthandAssign>=u.start&&(t.shorthandAssign=-1),this.type===x.eq?this.checkLValPattern(u):this.checkLValSimple(u),c.left=u,this.next(),c.right=this.parseMaybeAssign(e),a>-1&&(t.doubleProto=a),this.finishNode(c,"AssignmentExpression")}return i&&this.checkExpressionErrors(t,!0),r>-1&&(t.parenthesizedAssign=r),s>-1&&(t.trailingComma=s),u},es.parseMaybeConditional=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprOps(e,t);if(this.checkExpressionErrors(t))return r;if(this.eat(x.question)){var s=this.startNodeAt(n,i);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(x.colon),s.alternate=this.parseMaybeAssign(e),this.finishNode(s,"ConditionalExpression")}return r},es.parseExprOps=function(e,t){var n=this.start,i=this.startLoc,r=this.parseMaybeUnary(t,!1,!1,e);return this.checkExpressionErrors(t)?r:r.start===n&&"ArrowFunctionExpression"===r.type?r:this.parseExprOp(r,n,i,-1,e)},es.parseExprOp=function(e,t,n,i,r){var s=this.type.binop;if(null!=s&&(!r||this.type!==x._in)&&s>i){var a=this.type===x.logicalOR||this.type===x.logicalAND,o=this.type===x.coalesce;o&&(s=x.logicalAND.binop);var l=this.value;this.next();var u=this.start,c=this.startLoc,h=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),u,c,s,r),d=this.buildBinary(t,n,e,h,l,a||o);return(a&&this.type===x.coalesce||o&&(this.type===x.logicalOR||this.type===x.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(d,t,n,i,r)}return e},es.buildBinary=function(e,t,n,i,r,s){"PrivateIdentifier"===i.type&&this.raise(i.start,"Private identifier can only be left side of binary expression");var a=this.startNodeAt(e,t);return a.left=n,a.operator=r,a.right=i,this.finishNode(a,s?"LogicalExpression":"BinaryExpression")},es.parseMaybeUnary=function(e,t,n,i){var r,s=this.start,a=this.startLoc;if(this.isContextual("await")&&this.canAwait)r=this.parseAwait(i),t=!0;else if(this.type.prefix){var o=this.startNode(),l=this.type===x.incDec;o.operator=this.value,o.prefix=!0,this.next(),o.argument=this.parseMaybeUnary(null,!0,l,i),this.checkExpressionErrors(e,!0),l?this.checkLValSimple(o.argument):this.strict&&"delete"===o.operator&&function e(t){return"Identifier"===t.type||"ParenthesizedExpression"===t.type&&e(t.expression)}(o.argument)?this.raiseRecoverable(o.start,"Deleting local variable in strict mode"):"delete"===o.operator&&function e(t){return"MemberExpression"===t.type&&"PrivateIdentifier"===t.property.type||"ChainExpression"===t.type&&e(t.expression)||"ParenthesizedExpression"===t.type&&e(t.expression)}(o.argument)?this.raiseRecoverable(o.start,"Private fields can not be deleted"):t=!0,r=this.finishNode(o,l?"UpdateExpression":"UnaryExpression")}else if(t||this.type!==x.privateId){if(r=this.parseExprSubscripts(e,i),this.checkExpressionErrors(e))return r;for(;this.type.postfix&&!this.canInsertSemicolon();){var u=this.startNodeAt(s,a);u.operator=this.value,u.prefix=!1,u.argument=r,this.checkLValSimple(r),this.next(),r=this.finishNode(u,"UpdateExpression")}}else(i||0===this.privateNameStack.length)&&this.options.checkPrivateFields&&this.unexpected(),r=this.parsePrivateIdent(),this.type!==x._in&&this.unexpected();return!n&&this.eat(x.starstar)?t?void this.unexpected(this.lastTokStart):this.buildBinary(s,a,r,this.parseMaybeUnary(null,!1,!1,i),"**",!1):r},es.parseExprSubscripts=function(e,t){var n=this.start,i=this.startLoc,r=this.parseExprAtom(e,t);if("ArrowFunctionExpression"===r.type&&")"!==this.input.slice(this.lastTokStart,this.lastTokEnd))return r;var s=this.parseSubscripts(r,n,i,!1,t);return e&&"MemberExpression"===s.type&&(e.parenthesizedAssign>=s.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=s.start&&(e.parenthesizedBind=-1),e.trailingComma>=s.start&&(e.trailingComma=-1)),s},es.parseSubscripts=function(e,t,n,i,r){for(var s=this.options.ecmaVersion>=8&&"Identifier"===e.type&&"async"===e.name&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start==5&&this.potentialArrowAt===e.start,a=!1;;){var o=this.parseSubscript(e,t,n,i,s,a,r);if(o.optional&&(a=!0),o===e||"ArrowFunctionExpression"===o.type){if(a){var l=this.startNodeAt(t,n);l.expression=o,o=this.finishNode(l,"ChainExpression")}return o}e=o}},es.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(x.arrow)},es.parseSubscriptAsyncArrow=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!0,i)},es.parseSubscript=function(e,t,n,i,r,s,a){var o=this.options.ecmaVersion>=11,l=o&&this.eat(x.questionDot);i&&l&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var u=this.eat(x.bracketL);if(u||l&&this.type!==x.parenL&&this.type!==x.backQuote||this.eat(x.dot)){var c=this.startNodeAt(t,n);c.object=e,u?(c.property=this.parseExpression(),this.expect(x.bracketR)):this.type===x.privateId&&"Super"!==e.type?c.property=this.parsePrivateIdent():c.property=this.parseIdent("never"!==this.options.allowReserved),c.computed=!!u,o&&(c.optional=l),e=this.finishNode(c,"MemberExpression")}else if(!i&&this.eat(x.parenL)){var h=new Y,d=this.yieldPos,p=this.awaitPos,f=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var m=this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1,h);if(r&&!l&&this.shouldParseAsyncArrow())return this.checkPatternErrors(h,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=d,this.awaitPos=p,this.awaitIdentPos=f,this.parseSubscriptAsyncArrow(t,n,m,a);this.checkExpressionErrors(h,!0),this.yieldPos=d||this.yieldPos,this.awaitPos=p||this.awaitPos,this.awaitIdentPos=f||this.awaitIdentPos;var g=this.startNodeAt(t,n);g.callee=e,g.arguments=m,o&&(g.optional=l),e=this.finishNode(g,"CallExpression")}else if(this.type===x.backQuote){(l||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var v=this.startNodeAt(t,n);v.tag=e,v.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(v,"TaggedTemplateExpression")}return e},es.parseExprAtom=function(e,t,n){this.type===x.slash&&this.readRegexp();var i,r=this.potentialArrowAt===this.start;switch(this.type){case x._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),i=this.startNode(),this.next(),this.type!==x.parenL||this.allowDirectSuper||this.raise(i.start,"super() call outside constructor of a subclass"),this.type!==x.dot&&this.type!==x.bracketL&&this.type!==x.parenL&&this.unexpected(),this.finishNode(i,"Super");case x._this:return i=this.startNode(),this.next(),this.finishNode(i,"ThisExpression");case x.name:var s=this.start,a=this.startLoc,o=this.containsEsc,l=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!o&&"async"===l.name&&!this.canInsertSemicolon()&&this.eat(x._function))return this.overrideContext(ei.f_expr),this.parseFunction(this.startNodeAt(s,a),0,!1,!0,t);if(r&&!this.canInsertSemicolon()){if(this.eat(x.arrow))return this.parseArrowExpression(this.startNodeAt(s,a),[l],!1,t);if(this.options.ecmaVersion>=8&&"async"===l.name&&this.type===x.name&&!o&&(!this.potentialArrowInForAwait||"of"!==this.value||this.containsEsc))return l=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(x.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,a),[l],!0,t)}return l;case x.regexp:var u=this.value;return(i=this.parseLiteral(u.value)).regex={pattern:u.pattern,flags:u.flags},i;case x.num:case x.string:return this.parseLiteral(this.value);case x._null:case x._true:case x._false:return(i=this.startNode()).value=this.type===x._null?null:this.type===x._true,i.raw=this.type.keyword,this.next(),this.finishNode(i,"Literal");case x.parenL:var c=this.start,h=this.parseParenAndDistinguishExpression(r,t);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(h)&&(e.parenthesizedAssign=c),e.parenthesizedBind<0&&(e.parenthesizedBind=c)),h;case x.bracketL:return i=this.startNode(),this.next(),i.elements=this.parseExprList(x.bracketR,!0,!0,e),this.finishNode(i,"ArrayExpression");case x.braceL:return this.overrideContext(ei.b_expr),this.parseObj(!1,e);case x._function:return i=this.startNode(),this.next(),this.parseFunction(i,0);case x._class:return this.parseClass(this.startNode(),!1);case x._new:return this.parseNew();case x.backQuote:return this.parseTemplate();case x._import:if(this.options.ecmaVersion>=11)return this.parseExprImport(n);return this.unexpected();default:return this.parseExprAtomDefault()}},es.parseExprAtomDefault=function(){this.unexpected()},es.parseExprImport=function(e){var t=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===x.parenL&&!e)return this.parseDynamicImport(t);if(this.type===x.dot){var n=this.startNodeAt(t.start,t.loc&&t.loc.start);return n.name="import",t.meta=this.finishNode(n,"Identifier"),this.parseImportMeta(t)}this.unexpected()},es.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(x.parenR)?e.options=null:(this.expect(x.comma),this.afterTrailingComma(x.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(x.parenR)||(this.expect(x.comma),this.afterTrailingComma(x.parenR)||this.unexpected())));else if(!this.eat(x.parenR)){var t=this.start;this.eat(x.comma)&&this.eat(x.parenR)?this.raiseRecoverable(t,"Trailing comma is not allowed in import()"):this.unexpected(t)}return this.finishNode(e,"ImportExpression")},es.parseImportMeta=function(e){this.next();var t=this.containsEsc;return e.property=this.parseIdent(!0),"meta"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),t&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),"module"===this.options.sourceType||this.options.allowImportExportEverywhere||this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},es.parseLiteral=function(e){var t=this.startNode();return t.value=e,t.raw=this.input.slice(this.start,this.end),110===t.raw.charCodeAt(t.raw.length-1)&&(t.bigint=null!=t.value?t.value.toString():t.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(t,"Literal")},es.parseParenExpression=function(){this.expect(x.parenL);var e=this.parseExpression();return this.expect(x.parenR),e},es.shouldParseArrow=function(e){return!this.canInsertSemicolon()},es.parseParenAndDistinguishExpression=function(e,t){var n,i=this.start,r=this.startLoc,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var a,o=this.start,l=this.startLoc,u=[],c=!0,h=!1,d=new Y,p=this.yieldPos,f=this.awaitPos;for(this.yieldPos=0,this.awaitPos=0;this.type!==x.parenR;){if(c?c=!1:this.expect(x.comma),s&&this.afterTrailingComma(x.parenR,!0)){h=!0;break}if(this.type===x.ellipsis){a=this.start,u.push(this.parseParenItem(this.parseRestBinding())),this.type===x.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}u.push(this.parseMaybeAssign(!1,d,this.parseParenItem))}var m=this.lastTokEnd,g=this.lastTokEndLoc;if(this.expect(x.parenR),e&&this.shouldParseArrow(u)&&this.eat(x.arrow))return this.checkPatternErrors(d,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=p,this.awaitPos=f,this.parseParenArrowList(i,r,u,t);(!u.length||h)&&this.unexpected(this.lastTokStart),a&&this.unexpected(a),this.checkExpressionErrors(d,!0),this.yieldPos=p||this.yieldPos,this.awaitPos=f||this.awaitPos,u.length>1?((n=this.startNodeAt(o,l)).expressions=u,this.finishNodeAt(n,"SequenceExpression",m,g)):n=u[0]}else n=this.parseParenExpression();if(!this.options.preserveParens)return n;var v=this.startNodeAt(i,r);return v.expression=n,this.finishNode(v,"ParenthesizedExpression")},es.parseParenItem=function(e){return e},es.parseParenArrowList=function(e,t,n,i){return this.parseArrowExpression(this.startNodeAt(e,t),n,!1,i)};var ea=[];es.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===x.dot){var t=this.startNodeAt(e.start,e.loc&&e.loc.start);t.name="new",e.meta=this.finishNode(t,"Identifier"),this.next();var n=this.containsEsc;return e.property=this.parseIdent(!0),"target"!==e.property.name&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),n&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var i=this.start,r=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),i,r,!0,!1),this.eat(x.parenL)?e.arguments=this.parseExprList(x.parenR,this.options.ecmaVersion>=8,!1):e.arguments=ea,this.finishNode(e,"NewExpression")},es.parseTemplateElement=function(e){var t=e.isTagged,n=this.startNode();return this.type===x.invalidTemplate?(t||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),n.value={raw:this.value.replace(/\r\n?/g,"\n"),cooked:null}):n.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,"\n"),cooked:this.value},this.next(),n.tail=this.type===x.backQuote,this.finishNode(n,"TemplateElement")},es.parseTemplate=function(e){void 0===e&&(e={});var t=e.isTagged;void 0===t&&(t=!1);var n=this.startNode();this.next(),n.expressions=[];var i=this.parseTemplateElement({isTagged:t});for(n.quasis=[i];!i.tail;)this.type===x.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(x.dollarBraceL),n.expressions.push(this.parseExpression()),this.expect(x.braceR),n.quasis.push(i=this.parseTemplateElement({isTagged:t}));return this.next(),this.finishNode(n,"TemplateLiteral")},es.isAsyncProp=function(e){return!e.computed&&"Identifier"===e.key.type&&"async"===e.key.name&&(this.type===x.name||this.type===x.num||this.type===x.string||this.type===x.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===x.star)&&!w.test(this.input.slice(this.lastTokEnd,this.start))},es.parseObj=function(e,t){var n=this.startNode(),i=!0,r={};for(n.properties=[],this.next();!this.eat(x.braceR);){if(i)i=!1;else if(this.expect(x.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(x.braceR))break;var s=this.parseProperty(e,t);e||this.checkPropClash(s,r,t),n.properties.push(s)}return this.finishNode(n,e?"ObjectPattern":"ObjectExpression")},es.parseProperty=function(e,t){var n,i,r,s,a=this.startNode();if(this.options.ecmaVersion>=9&&this.eat(x.ellipsis))return e?(a.argument=this.parseIdent(!1),this.type===x.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(a,"RestElement")):(a.argument=this.parseMaybeAssign(!1,t),this.type===x.comma&&t&&t.trailingComma<0&&(t.trailingComma=this.start),this.finishNode(a,"SpreadElement"));this.options.ecmaVersion>=6&&(a.method=!1,a.shorthand=!1,(e||t)&&(r=this.start,s=this.startLoc),e||(n=this.eat(x.star)));var o=this.containsEsc;return this.parsePropertyName(a),!e&&!o&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(a)?(i=!0,n=this.options.ecmaVersion>=9&&this.eat(x.star),this.parsePropertyName(a)):i=!1,this.parsePropertyValue(a,e,n,i,r,s,t,o),this.finishNode(a,"Property")},es.parseGetterSetter=function(e){var t=e.key.name;this.parsePropertyName(e),e.value=this.parseMethod(!1),e.kind=t;var n="get"===e.kind?0:1;if(e.value.params.length!==n){var i=e.value.start;"get"===e.kind?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else"set"===e.kind&&"RestElement"===e.value.params[0].type&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},es.parsePropertyValue=function(e,t,n,i,r,s,a,o){(n||i)&&this.type===x.colon&&this.unexpected(),this.eat(x.colon)?(e.value=t?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,a),e.kind="init"):this.options.ecmaVersion>=6&&this.type===x.parenL?(t&&this.unexpected(),e.method=!0,e.value=this.parseMethod(n,i),e.kind="init"):t||o||!(this.options.ecmaVersion>=5)||e.computed||"Identifier"!==e.key.type||"get"!==e.key.name&&"set"!==e.key.name||this.type===x.comma||this.type===x.braceR||this.type===x.eq?this.options.ecmaVersion>=6&&!e.computed&&"Identifier"===e.key.type?((n||i)&&this.unexpected(),this.checkUnreserved(e.key),"await"!==e.key.name||this.awaitIdentPos||(this.awaitIdentPos=r),t?e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key)):this.type===x.eq&&a?(a.shorthandAssign<0&&(a.shorthandAssign=this.start),e.value=this.parseMaybeDefault(r,s,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.kind="init",e.shorthand=!0):this.unexpected():((n||i)&&this.unexpected(),this.parseGetterSetter(e))},es.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(x.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(x.bracketR),e.key;e.computed=!1}return e.key=this.type===x.num||this.type===x.string?this.parseExprAtom():this.parseIdent("never"!==this.options.allowReserved)},es.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},es.parseMethod=function(e,t,n){var i=this.startNode(),r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.initFunction(i),this.options.ecmaVersion>=6&&(i.generator=e),this.options.ecmaVersion>=8&&(i.async=!!t),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(64|j(t,i.generator)|(n?128:0)),this.expect(x.parenL),i.params=this.parseBindingList(x.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(i,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(i,"FunctionExpression")},es.parseArrowExpression=function(e,t,n,i){var r=this.yieldPos,s=this.awaitPos,a=this.awaitIdentPos;return this.enterScope(16|j(n,!1)),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!n),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(t,!0),this.parseFunctionBody(e,!0,!1,i),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=a,this.finishNode(e,"ArrowFunctionExpression")},es.parseFunctionBody=function(e,t,n,i){var r=t&&this.type!==x.braceL,s=this.strict,a=!1;if(r)e.body=this.parseMaybeAssign(i),e.expression=!0,this.checkParams(e,!1);else{var o=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!s||o)&&(a=this.strictDirective(this.end))&&o&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list");var l=this.labels;this.labels=[],a&&(this.strict=!0),this.checkParams(e,!s&&!a&&!t&&!n&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,5),e.body=this.parseBlock(!1,void 0,a&&!s),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=l}this.exitScope()},es.isSimpleParamList=function(e){for(var t=0;t<e.length;t+=1)if("Identifier"!==e[t].type)return!1;return!0},es.checkParams=function(e,t){for(var n=Object.create(null),i=0,r=e.params;i<r.length;i+=1){var s=r[i];this.checkLValInnerPattern(s,1,t?null:n)}},es.parseExprList=function(e,t,n,i){for(var r=[],s=!0;!this.eat(e);){if(s)s=!1;else if(this.expect(x.comma),t&&this.afterTrailingComma(e))break;var a=void 0;n&&this.type===x.comma?a=null:this.type===x.ellipsis?(a=this.parseSpread(i),i&&this.type===x.comma&&i.trailingComma<0&&(i.trailingComma=this.start)):a=this.parseMaybeAssign(!1,i),r.push(a)}return r},es.checkUnreserved=function(e){var t=e.start,n=e.end,i=e.name;this.inGenerator&&"yield"===i&&this.raiseRecoverable(t,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&"await"===i&&this.raiseRecoverable(t,"Cannot use 'await' as identifier inside an async function"),259&this.currentThisScope().flags||"arguments"!==i||this.raiseRecoverable(t,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&("arguments"===i||"await"===i)&&this.raise(t,"Cannot use "+i+" in class static initialization block"),this.keywords.test(i)&&this.raise(t,"Unexpected keyword '"+i+"'"),(!(this.options.ecmaVersion<6)||-1===this.input.slice(t,n).indexOf("\\"))&&(this.strict?this.reservedWordsStrict:this.reservedWords).test(i)&&(this.inAsync||"await"!==i||this.raiseRecoverable(t,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(t,"The keyword '"+i+"' is reserved"))},es.parseIdent=function(e){var t=this.parseIdentNode();return this.next(!!e),this.finishNode(t,"Identifier"),e||(this.checkUnreserved(t),"await"!==t.name||this.awaitIdentPos||(this.awaitIdentPos=t.start)),t},es.parseIdentNode=function(){var e=this.startNode();return this.type===x.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,("class"===e.name||"function"===e.name)&&(this.lastTokEnd!==this.lastTokStart+1||46!==this.input.charCodeAt(this.lastTokStart))&&this.context.pop(),this.type=x.name):this.unexpected(),e},es.parsePrivateIdent=function(){var e=this.startNode();return this.type===x.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(0===this.privateNameStack.length?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},es.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var t=this.startNode();return this.next(),this.type===x.semi||this.canInsertSemicolon()||this.type!==x.star&&!this.type.startsExpr?(t.delegate=!1,t.argument=null):(t.delegate=this.eat(x.star),t.argument=this.parseMaybeAssign(e)),this.finishNode(t,"YieldExpression")},es.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var t=this.startNode();return this.next(),t.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(t,"AwaitExpression")};var eo=U.prototype;eo.raise=function(e,t){var n=B(this.input,e);t+=" ("+n.line+":"+n.column+")",this.sourceFile&&(t+=" in "+this.sourceFile);var i=SyntaxError(t);throw i.pos=e,i.loc=n,i.raisedAt=this.pos,i},eo.raiseRecoverable=eo.raise,eo.curPosition=function(){if(this.options.locations)return new V(this.curLine,this.pos-this.lineStart)};var el=U.prototype,eu=function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[]};el.enterScope=function(e){this.scopeStack.push(new eu(e))},el.exitScope=function(){this.scopeStack.pop()},el.treatFunctionsAsVarInScope=function(e){return 2&e.flags||!this.inModule&&1&e.flags},el.declareName=function(e,t,n){var i=!1;if(2===t){var r=this.currentScope();i=r.lexical.indexOf(e)>-1||r.functions.indexOf(e)>-1||r.var.indexOf(e)>-1,r.lexical.push(e),this.inModule&&1&r.flags&&delete this.undefinedExports[e]}else if(4===t)this.currentScope().lexical.push(e);else if(3===t){var s=this.currentScope();i=this.treatFunctionsAsVar?s.lexical.indexOf(e)>-1:s.lexical.indexOf(e)>-1||s.var.indexOf(e)>-1,s.functions.push(e)}else for(var a=this.scopeStack.length-1;a>=0;--a){var o=this.scopeStack[a];if(o.lexical.indexOf(e)>-1&&!(32&o.flags&&o.lexical[0]===e)||!this.treatFunctionsAsVarInScope(o)&&o.functions.indexOf(e)>-1){i=!0;break}if(o.var.push(e),this.inModule&&1&o.flags&&delete this.undefinedExports[e],259&o.flags)break}i&&this.raiseRecoverable(n,"Identifier '"+e+"' has already been declared")},el.checkLocalExport=function(e){-1===this.scopeStack[0].lexical.indexOf(e.name)&&-1===this.scopeStack[0].var.indexOf(e.name)&&(this.undefinedExports[e.name]=e)},el.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},el.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(771&t.flags)return t}},el.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var t=this.scopeStack[e];if(771&t.flags&&!(16&t.flags))return t}};var ec=function(e,t,n){this.type="",this.start=t,this.end=0,e.options.locations&&(this.loc=new F(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[t,0])},eh=U.prototype;function ed(e,t,n,i){return e.type=t,e.end=n,this.options.locations&&(e.loc.end=i),this.options.ranges&&(e.range[1]=n),e}eh.startNode=function(){return new ec(this,this.start,this.startLoc)},eh.startNodeAt=function(e,t){return new ec(this,e,t)},eh.finishNode=function(e,t){return ed.call(this,e,t,this.lastTokEnd,this.lastTokEndLoc)},eh.finishNodeAt=function(e,t,n,i){return ed.call(this,e,t,n,i)},eh.copyNode=function(e){var t=new ec(this,e.start,this.startLoc);for(var n in e)t[n]=e[n];return t};for(var ep="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ef=ep+" Extended_Pictographic",em=ef+" EBase EComp EMod EPres ExtPict",eg={9:ep,10:ef,11:ef,12:em,13:em,14:em},ev={9:"",10:"",11:"",12:"",13:"",14:"Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji"},ey="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",e_="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",eb=e_+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ex=eb+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ew=ex+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ek=ew+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",eS={9:e_,10:eb,11:ex,12:ew,13:ek,14:ek+" Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz"},eC={},eE=0,eP=[9,10,11,12,13,14];eE<eP.length;eE+=1)!function(e){var t=eC[e]={binary:D(eg[e]+" "+ey),binaryOfStrings:D(ev[e]),nonBinary:{General_Category:D(ey),Script:D(eS[e])}};t.nonBinary.Script_Extensions=t.nonBinary.Script,t.nonBinary.gc=t.nonBinary.General_Category,t.nonBinary.sc=t.nonBinary.Script,t.nonBinary.scx=t.nonBinary.Script_Extensions}(eP[eE]);var eT=U.prototype,eN=function(e,t){this.parent=e,this.base=t||this};eN.prototype.separatedFrom=function(e){for(var t=this;t;t=t.parent)for(var n=e;n;n=n.parent)if(t.base===n.base&&t!==n)return!0;return!1},eN.prototype.sibling=function(){return new eN(this.parent,this.base)};var eI=function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=eC[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};function eM(e){return 36===e||e>=40&&e<=43||46===e||63===e||e>=91&&e<=94||e>=123&&e<=125}function eA(e){return e>=65&&e<=90||e>=97&&e<=122}function eO(e){return eA(e)||95===e}function eD(e){return e>=48&&e<=57}function eR(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function eL(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}function eV(e){return e>=48&&e<=55}eI.prototype.reset=function(e,t,n){var i=-1!==n.indexOf("v"),r=-1!==n.indexOf("u");this.start=0|e,this.source=t+"",this.flags=n,i&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},eI.prototype.raise=function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},eI.prototype.at=function(e,t){void 0===t&&(t=!1);var n=this.source,i=n.length;if(e>=i)return -1;var r=n.charCodeAt(e);if(!(t||this.switchU)||r<=55295||r>=57344||e+1>=i)return r;var s=n.charCodeAt(e+1);return s>=56320&&s<=57343?(r<<10)+s-56613888:r},eI.prototype.nextIndex=function(e,t){void 0===t&&(t=!1);var n=this.source,i=n.length;if(e>=i)return i;var r,s=n.charCodeAt(e);return!(t||this.switchU)||s<=55295||s>=57344||e+1>=i||(r=n.charCodeAt(e+1))<56320||r>57343?e+1:e+2},eI.prototype.current=function(e){return void 0===e&&(e=!1),this.at(this.pos,e)},eI.prototype.lookahead=function(e){return void 0===e&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},eI.prototype.advance=function(e){void 0===e&&(e=!1),this.pos=this.nextIndex(this.pos,e)},eI.prototype.eat=function(e,t){return void 0===t&&(t=!1),this.current(t)===e&&(this.advance(t),!0)},eI.prototype.eatChars=function(e,t){void 0===t&&(t=!1);for(var n=this.pos,i=0;i<e.length;i+=1){var r=e[i],s=this.at(n,t);if(-1===s||s!==r)return!1;n=this.nextIndex(n,t)}return this.pos=n,!0},eT.validateRegExpFlags=function(e){for(var t=e.validFlags,n=e.flags,i=!1,r=!1,s=0;s<n.length;s++){var a=n.charAt(s);-1===t.indexOf(a)&&this.raise(e.start,"Invalid regular expression flag"),n.indexOf(a,s+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),"u"===a&&(i=!0),"v"===a&&(r=!0)}this.options.ecmaVersion>=15&&i&&r&&this.raise(e.start,"Invalid regular expression flag")},eT.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&function(e){for(var t in e)return!0;return!1}(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},eT.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var t=0,n=e.backReferenceNames;t<n.length;t+=1){var i=n[t];e.groupNames[i]||e.raise("Invalid named capture referenced")}},eT.regexp_disjunction=function(e){var t=this.options.ecmaVersion>=16;for(t&&(e.branchID=new eN(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)t&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);t&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},eT.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},eT.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?!!this.regexp_eatAtom(e):!!this.regexp_eatExtendedAtom(e))&&(this.regexp_eatQuantifier(e),!0)},eT.regexp_eatAssertion=function(e){var t=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=t}if(e.eat(40)&&e.eat(63)){var n=!1;if(this.options.ecmaVersion>=9&&(n=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!n,!0}return e.pos=t,!1},eT.regexp_eatQuantifier=function(e,t){return void 0===t&&(t=!1),!!this.regexp_eatQuantifierPrefix(e,t)&&(e.eat(63),!0)},eT.regexp_eatQuantifierPrefix=function(e,t){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,t)},eT.regexp_eatBracedQuantifier=function(e,t){var n=e.pos;if(e.eat(123)){var i=0,r=-1;if(this.regexp_eatDecimalDigits(e)&&(i=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(r=e.lastIntValue),e.eat(125)))return -1!==r&&r<i&&!t&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!t&&e.raise("Incomplete quantifier"),e.pos=n}return!1},eT.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},eT.regexp_eatReverseSolidusAtomEscape=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=t}return!1},eT.regexp_eatUncapturingGroup=function(e){var t=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var n=this.regexp_eatModifiers(e),i=e.eat(45);if(n||i){for(var r=0;r<n.length;r++){var s=n.charAt(r);n.indexOf(s,r+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(i){var a=this.regexp_eatModifiers(e);n||a||58!==e.current()||e.raise("Invalid regular expression modifiers");for(var o=0;o<a.length;o++){var l=a.charAt(o);(a.indexOf(l,o+1)>-1||n.indexOf(l)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=t}return!1},eT.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):63===e.current()&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},eT.regexp_eatModifiers=function(e){for(var t,n="",i=0;-1!==(i=e.current())&&(105===(t=i)||109===t||115===t);)n+=R(i),e.advance();return n},eT.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},eT.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},eT.regexp_eatSyntaxCharacter=function(e){var t=e.current();return!!eM(t)&&(e.lastIntValue=t,e.advance(),!0)},eT.regexp_eatPatternCharacters=function(e){for(var t=e.pos,n=0;-1!==(n=e.current())&&!eM(n);)e.advance();return e.pos!==t},eT.regexp_eatExtendedPatternCharacter=function(e){var t=e.current();return -1!==t&&36!==t&&(!(t>=40)||!(t<=43))&&46!==t&&63!==t&&91!==t&&94!==t&&124!==t&&(e.advance(),!0)},eT.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var t=this.options.ecmaVersion>=16,n=e.groupNames[e.lastStringValue];if(n){if(t)for(var i=0;i<n.length;i+=1)n[i].separatedFrom(e.branchID)||e.raise("Duplicate capture group name");else e.raise("Duplicate capture group name")}t?(n||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},eT.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},eT.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=R(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=R(e.lastIntValue);return!0}return!1},eT.regexp_eatRegExpIdentifierStart=function(e){var t,n=e.pos,i=this.options.ecmaVersion>=11,r=e.current(i);return(e.advance(i),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(r=e.lastIntValue),p(t=r,!0)||36===t||95===t)?(e.lastIntValue=r,!0):(e.pos=n,!1)},eT.regexp_eatRegExpIdentifierPart=function(e){var t,n=e.pos,i=this.options.ecmaVersion>=11,r=e.current(i);return(e.advance(i),92===r&&this.regexp_eatRegExpUnicodeEscapeSequence(e,i)&&(r=e.lastIntValue),f(t=r,!0)||36===t||95===t||8204===t||8205===t)?(e.lastIntValue=r,!0):(e.pos=n,!1)},eT.regexp_eatAtomEscape=function(e){return!!(this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e))||(e.switchU&&(99===e.current()&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},eT.regexp_eatBackReference=function(e){var t=e.pos;if(this.regexp_eatDecimalEscape(e)){var n=e.lastIntValue;if(e.switchU)return n>e.maxBackReference&&(e.maxBackReference=n),!0;if(n<=e.numCapturingParens)return!0;e.pos=t}return!1},eT.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},eT.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},eT.regexp_eatCControlLetter=function(e){var t=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=t}return!1},eT.regexp_eatZero=function(e){return!(48!==e.current()||eD(e.lookahead()))&&(e.lastIntValue=0,e.advance(),!0)},eT.regexp_eatControlEscape=function(e){var t=e.current();return 116===t?(e.lastIntValue=9,e.advance(),!0):110===t?(e.lastIntValue=10,e.advance(),!0):118===t?(e.lastIntValue=11,e.advance(),!0):102===t?(e.lastIntValue=12,e.advance(),!0):114===t&&(e.lastIntValue=13,e.advance(),!0)},eT.regexp_eatControlLetter=function(e){var t=e.current();return!!eA(t)&&(e.lastIntValue=t%32,e.advance(),!0)},eT.regexp_eatRegExpUnicodeEscapeSequence=function(e,t){void 0===t&&(t=!1);var n=e.pos,i=t||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var r,s=e.lastIntValue;if(i&&s>=55296&&s<=56319){var a=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var o=e.lastIntValue;if(o>=56320&&o<=57343)return e.lastIntValue=(s-55296)*1024+(o-56320)+65536,!0}e.pos=a,e.lastIntValue=s}return!0}if(i&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&(r=e.lastIntValue)>=0&&r<=1114111)return!0;i&&e.raise("Invalid unicode escape"),e.pos=n}return!1},eT.regexp_eatIdentityEscape=function(e){if(e.switchU)return!!this.regexp_eatSyntaxCharacter(e)||!!e.eat(47)&&(e.lastIntValue=47,!0);var t=e.current();return 99!==t&&(!e.switchN||107!==t)&&(e.lastIntValue=t,e.advance(),!0)},eT.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var t=e.current();if(t>=49&&t<=57){do e.lastIntValue=10*e.lastIntValue+(t-48),e.advance();while((t=e.current())>=48&&t<=57);return!0}return!1},eT.regexp_eatCharacterClassEscape=function(e){var t,n=e.current();if(100===n||68===n||115===n||83===n||119===n||87===n)return e.lastIntValue=-1,e.advance(),1;var i=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((i=80===n)||112===n)){if(e.lastIntValue=-1,e.advance(),e.eat(123)&&(t=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return i&&2===t&&e.raise("Invalid property name"),t;e.raise("Invalid property name")}return 0},eT.regexp_eatUnicodePropertyValueExpression=function(e){var t=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var n=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var i=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,n,i),1}}if(e.pos=t,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var r=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,r)}return 0},eT.regexp_validateUnicodePropertyNameAndValue=function(e,t,n){M(e.unicodeProperties.nonBinary,t)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[t].test(n)||e.raise("Invalid property value")},eT.regexp_validateUnicodePropertyNameOrValue=function(e,t){return e.unicodeProperties.binary.test(t)?1:e.switchV&&e.unicodeProperties.binaryOfStrings.test(t)?2:void e.raise("Invalid property name")},eT.regexp_eatUnicodePropertyName=function(e){var t=0;for(e.lastStringValue="";eO(t=e.current());)e.lastStringValue+=R(t),e.advance();return""!==e.lastStringValue},eT.regexp_eatUnicodePropertyValue=function(e){var t,n=0;for(e.lastStringValue="";eO(t=n=e.current())||eD(t);)e.lastStringValue+=R(n),e.advance();return""!==e.lastStringValue},eT.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},eT.regexp_eatCharacterClass=function(e){if(e.eat(91)){var t=e.eat(94),n=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),t&&2===n&&e.raise("Negated character class may contain strings"),!0}return!1},eT.regexp_classContents=function(e){return 93===e.current()?1:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),1)},eT.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var t=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var n=e.lastIntValue;e.switchU&&(-1===t||-1===n)&&e.raise("Invalid character class"),-1!==t&&-1!==n&&t>n&&e.raise("Range out of order in character class")}}},eT.regexp_eatClassAtom=function(e){var t=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var n=e.current();(99===n||eV(n))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=t}var i=e.current();return 93!==i&&(e.lastIntValue=i,e.advance(),!0)},eT.regexp_eatClassEscape=function(e){var t=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=t}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},eT.regexp_classSetExpression=function(e){var t,n=1;if(this.regexp_eatClassSetRange(e));else if(t=this.regexp_eatClassSetOperand(e)){2===t&&(n=2);for(var i=e.pos;e.eatChars([38,38]);){if(38!==e.current()&&(t=this.regexp_eatClassSetOperand(e))){2!==t&&(n=1);continue}e.raise("Invalid character in character class")}if(i!==e.pos)return n;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(i!==e.pos)return n}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(!(t=this.regexp_eatClassSetOperand(e)))return n;2===t&&(n=2)}},eT.regexp_eatClassSetRange=function(e){var t=e.pos;if(this.regexp_eatClassSetCharacter(e)){var n=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var i=e.lastIntValue;return -1!==n&&-1!==i&&n>i&&e.raise("Range out of order in character class"),!0}e.pos=t}return!1},eT.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?1:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},eT.regexp_eatNestedClass=function(e){var t=e.pos;if(e.eat(91)){var n=e.eat(94),i=this.regexp_classContents(e);if(e.eat(93))return n&&2===i&&e.raise("Negated character class may contain strings"),i;e.pos=t}if(e.eat(92)){var r=this.regexp_eatCharacterClassEscape(e);if(r)return r;e.pos=t}return null},eT.regexp_eatClassStringDisjunction=function(e){var t=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var n=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return n}else e.raise("Invalid escape");e.pos=t}return null},eT.regexp_classStringDisjunctionContents=function(e){for(var t=this.regexp_classString(e);e.eat(124);)2===this.regexp_classString(e)&&(t=2);return t},eT.regexp_classString=function(e){for(var t=0;this.regexp_eatClassSetCharacter(e);)t++;return 1===t?1:2},eT.regexp_eatClassSetCharacter=function(e){var t,n=e.pos;if(e.eat(92))return!!(this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e))||(e.eat(98)?(e.lastIntValue=8,!0):(e.pos=n,!1));var i=e.current();return!(i<0||i===e.lookahead()&&(33===i||i>=35&&i<=38||i>=42&&i<=44||46===i||i>=58&&i<=64||94===i||96===i||126===i)||40===(t=i)||41===t||45===t||47===t||t>=91&&t<=93||t>=123&&t<=125)&&(e.advance(),e.lastIntValue=i,!0)},eT.regexp_eatClassSetReservedPunctuator=function(e){var t=e.current();return!!(33===t||35===t||37===t||38===t||44===t||45===t||t>=58&&t<=62||64===t||96===t||126===t)&&(e.lastIntValue=t,e.advance(),!0)},eT.regexp_eatClassControlLetter=function(e){var t=e.current();return(!!eD(t)||95===t)&&(e.lastIntValue=t%32,e.advance(),!0)},eT.regexp_eatHexEscapeSequence=function(e){var t=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=t}return!1},eT.regexp_eatDecimalDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;eD(n=e.current());)e.lastIntValue=10*e.lastIntValue+(n-48),e.advance();return e.pos!==t},eT.regexp_eatHexDigits=function(e){var t=e.pos,n=0;for(e.lastIntValue=0;eR(n=e.current());)e.lastIntValue=16*e.lastIntValue+eL(n),e.advance();return e.pos!==t},eT.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var t=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var n=e.lastIntValue;t<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=64*t+8*n+e.lastIntValue:e.lastIntValue=8*t+n}else e.lastIntValue=t;return!0}return!1},eT.regexp_eatOctalDigit=function(e){var t=e.current();return eV(t)?(e.lastIntValue=t-48,e.advance(),!0):(e.lastIntValue=0,!1)},eT.regexp_eatFixedHexDigits=function(e,t){var n=e.pos;e.lastIntValue=0;for(var i=0;i<t;++i){var r=e.current();if(!eR(r))return e.pos=n,!1;e.lastIntValue=16*e.lastIntValue+eL(r),e.advance()}return!0};var eF=function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new F(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},eB=U.prototype;function e$(e){return"function"!=typeof BigInt?null:BigInt(e.replace(/_/g,""))}eB.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new eF(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},eB.getToken=function(){return this.next(),new eF(this)},"undefined"!=typeof Symbol&&(eB[Symbol.iterator]=function(){var e=this;return{next:function(){var t=e.getToken();return{done:t.type===x.eof,value:t}}}}),eB.nextToken=function(){var e=this.curContext();return(e&&e.preserveSpace||this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)?this.finishToken(x.eof):e.override?e.override(this):void this.readToken(this.fullCharCodeAtPos())},eB.readToken=function(e){return p(e,this.options.ecmaVersion>=6)||92===e?this.readWord():this.getTokenFromCode(e)},eB.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var t=this.input.charCodeAt(this.pos+1);return t<=56319||t>=57344?e:(e<<10)+t-56613888},eB.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),t=this.pos,n=this.input.indexOf("*/",this.pos+=2);if(-1===n&&this.raise(this.pos-2,"Unterminated comment"),this.pos=n+2,this.options.locations)for(var i=void 0,r=t;(i=C(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=i;this.options.onComment&&this.options.onComment(!0,this.input.slice(t+2,n),t,this.pos,e,this.curPosition())},eB.skipLineComment=function(e){for(var t=this.pos,n=this.options.onComment&&this.curPosition(),i=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!S(i);)i=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(t+e,this.pos),t,this.pos,n,this.curPosition())},eB.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:10===this.input.charCodeAt(this.pos+1)&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&E.test(String.fromCharCode(e)))++this.pos;else break e}}},eB.finishToken=function(e,t){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var n=this.type;this.type=e,this.value=t,this.updateContext(n)},eB.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var t=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&46===e&&46===t?(this.pos+=3,this.finishToken(x.ellipsis)):(++this.pos,this.finishToken(x.dot))},eB.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):61===e?this.finishOp(x.assign,2):this.finishOp(x.slash,1)},eB.readToken_mult_modulo_exp=function(e){var t=this.input.charCodeAt(this.pos+1),n=1,i=42===e?x.star:x.modulo;return(this.options.ecmaVersion>=7&&42===e&&42===t&&(++n,i=x.starstar,t=this.input.charCodeAt(this.pos+2)),61===t)?this.finishOp(x.assign,n+1):this.finishOp(i,n)},eB.readToken_pipe_amp=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?this.options.ecmaVersion>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(x.assign,3):this.finishOp(124===e?x.logicalOR:x.logicalAND,2):61===t?this.finishOp(x.assign,2):this.finishOp(124===e?x.bitwiseOR:x.bitwiseAND,1)},eB.readToken_caret=function(){return 61===this.input.charCodeAt(this.pos+1)?this.finishOp(x.assign,2):this.finishOp(x.bitwiseXOR,1)},eB.readToken_plus_min=function(e){var t=this.input.charCodeAt(this.pos+1);return t===e?45===t&&!this.inModule&&62===this.input.charCodeAt(this.pos+2)&&(0===this.lastTokEnd||w.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(x.incDec,2):61===t?this.finishOp(x.assign,2):this.finishOp(x.plusMin,1)},eB.readToken_lt_gt=function(e){var t=this.input.charCodeAt(this.pos+1),n=1;return t===e?(n=62===e&&62===this.input.charCodeAt(this.pos+2)?3:2,61===this.input.charCodeAt(this.pos+n))?this.finishOp(x.assign,n+1):this.finishOp(x.bitShift,n):33!==t||60!==e||this.inModule||45!==this.input.charCodeAt(this.pos+2)||45!==this.input.charCodeAt(this.pos+3)?(61===t&&(n=2),this.finishOp(x.relational,n)):(this.skipLineComment(4),this.skipSpace(),this.nextToken())},eB.readToken_eq_excl=function(e){var t=this.input.charCodeAt(this.pos+1);return 61===t?this.finishOp(x.equality,61===this.input.charCodeAt(this.pos+2)?3:2):61===e&&62===t&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(x.arrow)):this.finishOp(61===e?x.eq:x.prefix,1)},eB.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var t=this.input.charCodeAt(this.pos+1);if(46===t){var n=this.input.charCodeAt(this.pos+2);if(n<48||n>57)return this.finishOp(x.questionDot,2)}if(63===t)return e>=12&&61===this.input.charCodeAt(this.pos+2)?this.finishOp(x.assign,3):this.finishOp(x.coalesce,2)}return this.finishOp(x.question,1)},eB.readToken_numberSign=function(){var e=this.options.ecmaVersion,t=35;if(e>=13&&(++this.pos,p(t=this.fullCharCodeAtPos(),!0)||92===t))return this.finishToken(x.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+R(t)+"'")},eB.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(x.parenL);case 41:return++this.pos,this.finishToken(x.parenR);case 59:return++this.pos,this.finishToken(x.semi);case 44:return++this.pos,this.finishToken(x.comma);case 91:return++this.pos,this.finishToken(x.bracketL);case 93:return++this.pos,this.finishToken(x.bracketR);case 123:return++this.pos,this.finishToken(x.braceL);case 125:return++this.pos,this.finishToken(x.braceR);case 58:return++this.pos,this.finishToken(x.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(x.backQuote);case 48:var t=this.input.charCodeAt(this.pos+1);if(120===t||88===t)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(111===t||79===t)return this.readRadixNumber(8);if(98===t||66===t)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(x.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+R(e)+"'")},eB.finishOp=function(e,t){var n=this.input.slice(this.pos,this.pos+t);return this.pos+=t,this.finishToken(e,n)},eB.readRegexp=function(){for(var e,t,n=this.pos;;){this.pos>=this.input.length&&this.raise(n,"Unterminated regular expression");var i=this.input.charAt(this.pos);if(w.test(i)&&this.raise(n,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++this.pos}var r=this.input.slice(n,this.pos);++this.pos;var s=this.pos,a=this.readWord1();this.containsEsc&&this.unexpected(s);var o=this.regexpState||(this.regexpState=new eI(this));o.reset(n,r,a),this.validateRegExpFlags(o),this.validateRegExpPattern(o);var l=null;try{l=new RegExp(r,a)}catch(e){}return this.finishToken(x.regexp,{pattern:r,flags:a,value:l})},eB.readInt=function(e,t,n){for(var i=this.options.ecmaVersion>=12&&void 0===t,r=n&&48===this.input.charCodeAt(this.pos),s=this.pos,a=0,o=0,l=0,u=null==t?1/0:t;l<u;++l,++this.pos){var c=this.input.charCodeAt(this.pos),h=void 0;if(i&&95===c){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),95===o&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),0===l&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),o=c;continue}if((h=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=e)break;o=c,a=a*e+h}return(i&&95===o&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||null!=t&&this.pos-s!==t)?null:a},eB.readRadixNumber=function(e){var t=this.pos;this.pos+=2;var n=this.readInt(e);return null==n&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&110===this.input.charCodeAt(this.pos)?(n=e$(this.input.slice(t,this.pos)),++this.pos):p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(x.num,n)},eB.readNumber=function(e){var t,n=this.pos;e||null!==this.readInt(10,void 0,!0)||this.raise(n,"Invalid number");var i=this.pos-n>=2&&48===this.input.charCodeAt(n);i&&this.strict&&this.raise(n,"Invalid number");var r=this.input.charCodeAt(this.pos);if(!i&&!e&&this.options.ecmaVersion>=11&&110===r){var s=e$(this.input.slice(n,this.pos));return++this.pos,p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(x.num,s)}i&&/[89]/.test(this.input.slice(n,this.pos))&&(i=!1),46!==r||i||(++this.pos,this.readInt(10),r=this.input.charCodeAt(this.pos)),69!==r&&101!==r||i||((43===(r=this.input.charCodeAt(++this.pos))||45===r)&&++this.pos,null===this.readInt(10)&&this.raise(n,"Invalid number")),p(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var a=(t=this.input.slice(n,this.pos),i?parseInt(t,8):parseFloat(t.replace(/_/g,"")));return this.finishToken(x.num,a)},eB.readCodePoint=function(){var e;if(123===this.input.charCodeAt(this.pos)){this.options.ecmaVersion<6&&this.unexpected();var t=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(t,"Code point out of bounds")}else e=this.readHexChar(4);return e},eB.readString=function(e){for(var t="",n=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var i=this.input.charCodeAt(this.pos);if(i===e)break;92===i?(t+=this.input.slice(n,this.pos)+this.readEscapedChar(!1),n=this.pos):8232===i||8233===i?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(S(i)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return t+=this.input.slice(n,this.pos++),this.finishToken(x.string,t)};var ez={};eB.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===ez)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},eB.invalidStringToken=function(e,t){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw ez;this.raise(e,t)},eB.readTmplToken=function(){for(var e="",t=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var n=this.input.charCodeAt(this.pos);if(96===n||36===n&&123===this.input.charCodeAt(this.pos+1)){if(this.pos===this.start&&(this.type===x.template||this.type===x.invalidTemplate)){if(36===n)return this.pos+=2,this.finishToken(x.dollarBraceL);return++this.pos,this.finishToken(x.backQuote)}return e+=this.input.slice(t,this.pos),this.finishToken(x.template,e)}if(92===n)e+=this.input.slice(t,this.pos)+this.readEscapedChar(!0),t=this.pos;else if(S(n)){switch(e+=this.input.slice(t,this.pos),++this.pos,n){case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:e+="\n";break;default:e+=String.fromCharCode(n)}this.options.locations&&(++this.curLine,this.lineStart=this.pos),t=this.pos}else++this.pos}},eB.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if("{"!==this.input[this.pos+1])break;case"`":return this.finishToken(x.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":"\n"===this.input[this.pos+1]&&++this.pos;case"\n":case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1}this.raise(this.start,"Unterminated template")},eB.readEscapedChar=function(e){var t=this.input.charCodeAt(++this.pos);switch(++this.pos,t){case 110:return"\n";case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return R(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:10===this.input.charCodeAt(this.pos)&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var n=this.pos-1;this.invalidStringToken(n,"Invalid escape sequence in template string")}default:if(t>=48&&t<=55){var i=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(i,8);return r>255&&(r=parseInt(i=i.slice(0,-1),8)),this.pos+=i.length-1,t=this.input.charCodeAt(this.pos),("0"!==i||56===t||57===t)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-i.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}if(S(t))return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";return String.fromCharCode(t)}},eB.readHexChar=function(e){var t=this.pos,n=this.readInt(16,e);return null===n&&this.invalidStringToken(t,"Bad character escape sequence"),n},eB.readWord1=function(){this.containsEsc=!1;for(var e="",t=!0,n=this.pos,i=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(f(r,i))this.pos+=r<=65535?1:2;else if(92===r){this.containsEsc=!0,e+=this.input.slice(n,this.pos);var s=this.pos;117!==this.input.charCodeAt(++this.pos)&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var a=this.readCodePoint();(t?p:f)(a,i)||this.invalidStringToken(s,"Invalid Unicode escape"),e+=R(a),n=this.pos}else break;t=!1}return e+this.input.slice(n,this.pos)},eB.readWord=function(){var e=this.readWord1(),t=x.name;return this.keywords.test(e)&&(t=_[e]),this.finishToken(t,e)},U.acorn={Parser:U,version:"8.15.0",defaultOptions:$,Position:V,SourceLocation:F,getLineInfo:B,Node:ec,TokenType:m,tokTypes:x,keywordTypes:_,TokContext:en,tokContexts:ei,isIdentifierChar:f,isIdentifierStart:p,Token:eF,isNewLine:S,lineBreak:w,lineBreakG:k,nonASCIIwhitespace:E}},88588:function(e,t,n){"use strict";n.d(t,{EH:function(){return t_},p:function(){return tg},tk:function(){return tj}});var i=n(70267),r=n(58839),s=n(49736);let a=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},o=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},l=null,u=function(e,t,n){let i=l||(l=document.createRange());return i.setEnd(e,null==n?e.nodeValue.length:n),i.setStart(e,t||0),i},c=function(){l=null},h=function(e,t,n,i){return n&&(p(e,t,n,i,-1)||p(e,t,n,i,1))},d=/^(img|br|input|textarea|hr)$/i;function p(e,t,n,i,r){for(var s;;){if(e==n&&t==i)return!0;if(t==(r<0?0:f(e))){let n=e.parentNode;if(!n||1!=n.nodeType||m(e)||d.test(e.nodeName)||"false"==e.contentEditable)return!1;t=a(e)+(r<0?0:1),e=n}else{if(1!=e.nodeType)return!1;let n=e.childNodes[t+(r<0?-1:0)];if(1==n.nodeType&&"false"==n.contentEditable){if(null===(s=n.pmViewDesc)||void 0===s||!s.ignoreForSelection)return!1;t+=r}else e=n,t=r<0?f(e):0}}}function f(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function m(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}let g=function(e){return e.focusNode&&h(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function v(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}let y="undefined"!=typeof navigator?navigator:null,_="undefined"!=typeof document?document:null,b=y&&y.userAgent||"",x=/Edge\/(\d+)/.exec(b),w=/MSIE \d/.exec(b),k=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(b),S=!!(w||k||x),C=w?document.documentMode:k?+k[1]:x?+x[1]:0,E=!S&&/gecko\/(\d+)/i.test(b);E&&(/Firefox\/(\d+)/.exec(b)||[0,0])[1];let P=!S&&/Chrome\/(\d+)/.exec(b),T=!!P,N=P?+P[1]:0,I=!S&&!!y&&/Apple Computer/.test(y.vendor),M=I&&(/Mobile\/\w+/.test(b)||!!y&&y.maxTouchPoints>2),A=M||!!y&&/Mac/.test(y.platform),O=!!y&&/Win/.test(y.platform),D=/Android \d/.test(b),R=!!_&&"webkitFontSmoothing"in _.documentElement.style,L=R?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function V(e,t){return"number"==typeof e?e:e[t]}function F(e,t,n){let i=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let a=n||e.dom;a;){if(1!=a.nodeType){a=o(a);continue}let e=a,n=e==s.body,l=n?function(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}(s):function(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}(e),u=0,c=0;if(t.top<l.top+V(i,"top")?c=-(l.top-t.top+V(r,"top")):t.bottom>l.bottom-V(i,"bottom")&&(c=t.bottom-t.top>l.bottom-l.top?t.top+V(r,"top")-l.top:t.bottom-l.bottom+V(r,"bottom")),t.left<l.left+V(i,"left")?u=-(l.left-t.left+V(r,"left")):t.right>l.right-V(i,"right")&&(u=t.right-l.right+V(r,"right")),u||c){if(n)s.defaultView.scrollBy(u,c);else{let n=e.scrollLeft,i=e.scrollTop;c&&(e.scrollTop+=c),u&&(e.scrollLeft+=u);let r=e.scrollLeft-n,s=e.scrollTop-i;t={left:t.left-r,top:t.top-s,right:t.right-r,bottom:t.bottom-s}}}let h=n?"fixed":getComputedStyle(a).position;if(/^(fixed|sticky)$/.test(h))break;a="absolute"==h?a.offsetParent:o(a)}}function B(e){let t=[],n=e.ownerDocument;for(let i=e;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),e!=n);i=o(i));return t}function $(e,t){for(let n=0;n<e.length;n++){let{dom:i,top:r,left:s}=e[n];i.scrollTop!=r+t&&(i.scrollTop=r+t),i.scrollLeft!=s&&(i.scrollLeft=s)}}let z=null;function j(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function U(e){return e.top<e.bottom||e.left<e.right}function q(e,t){let n=e.getClientRects();if(n.length){let e=n[t<0?0:n.length-1];if(U(e))return e}return Array.prototype.find.call(n,U)||e.getBoundingClientRect()}let H=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function W(e,t,n){let{node:i,offset:r,atom:s}=e.docView.domFromPos(t,n<0?-1:1),a=R||E;if(3==i.nodeType){if(a&&(H.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let e=q(u(i,r,r),n);if(E&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let t=q(u(i,r-1,r-1),-1);if(t.top==e.top){let n=q(u(i,r,r+1),-1);if(n.top!=e.top)return Y(n,n.left<t.left)}}return e}{let e=r,t=r,s=n<0?1:-1;return n<0&&!r?(t++,s=-1):n>=0&&r==i.nodeValue.length?(e--,s=1):n<0?e--:t++,Y(q(u(i,e,t),s),s<0)}}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(null==s&&r&&(n<0||r==f(i))){let e=i.childNodes[r-1];if(1==e.nodeType)return G(e.getBoundingClientRect(),!1)}if(null==s&&r<f(i)){let e=i.childNodes[r];if(1==e.nodeType)return G(e.getBoundingClientRect(),!0)}return G(i.getBoundingClientRect(),n>=0)}if(null==s&&r&&(n<0||r==f(i))){let e=i.childNodes[r-1],t=3==e.nodeType?u(e,f(e)-(a?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return Y(q(t,1),!1)}if(null==s&&r<f(i)){let e=i.childNodes[r];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?u(e,0,a?0:1):1==e.nodeType?e:null:null;if(t)return Y(q(t,-1),!0)}return Y(q(3==i.nodeType?u(i):i,-n),n>=0)}function Y(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function G(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function K(e,t,n){let i=e.state,r=e.root.activeElement;i!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),r!=e.dom&&r&&r.focus()}}let X=/[\u0590-\u08ac]/,Q=null,Z=null,J=!1;class ee{constructor(e,t,n,i){this.parent=e,this.children=t,this.dom=n,this.contentDOM=i,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let i=this.children[t];if(i==e)return n;n+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){let i;if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,i;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&!((i=n.pmViewDesc)&&i.parent==this);)n=n.previousSibling;return n?this.posBeforeChild(i)+i.size:this.posAtStart}{let n,i;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&!((i=n.pmViewDesc)&&i.parent==this);)n=n.nextSibling;return n?this.posBeforeChild(i):this.posAtEnd}}if(e==this.dom&&this.contentDOM)i=t>a(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){i=!1;break}if(t.previousSibling)break}if(null==i&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){i=!0;break}if(t.nextSibling)break}}return(null==i?n>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,i=e;i;i=i.parentNode){let r=this.getDesc(i),s;if(r&&(!t||r.node)){if(!n||!(s=r.nodeDOM)||(1==s.nodeType?s.contains(1==e.nodeType?e:e.parentNode):s==e))return r;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let i=e;i;i=i.parentNode){let r=this.getDesc(i);if(r)return r.localPosFromDOM(e,t,n)}return -1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let i=this.children[t],r=n+i.size;if(n==e&&r!=n){for(;!i.border&&i.children.length;)for(let e=0;e<i.children.length;e++){let t=i.children[e];if(t.size){i=t;break}}return i}if(e<r)return i.descAt(e-n-i.border);n=r}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,i=0;for(let t=0;n<this.children.length;n++){let r=this.children[n],s=t+r.size;if(s>e||r instanceof eo){i=e-t;break}t=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,t);for(let e;n&&!(e=this.children[n-1]).size&&e instanceof et&&e.side>=0;n--);if(t<=0){let e,i=!0;for(;(e=n?this.children[n-1]:null)&&e.dom.parentNode!=this.contentDOM;n--,i=!1);return e&&t&&i&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?a(e.dom)+1:0}}{let e,i=!0;for(;(e=n<this.children.length?this.children[n]:null)&&e.dom.parentNode!=this.contentDOM;n++,i=!1);return e&&i&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?a(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,r=-1;for(let s=n,o=0;;o++){let n=this.children[o],l=s+n.size;if(-1==i&&e<=l){let r=s+n.border;if(e>=r&&t<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,r);e=s;for(let t=o;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){i=a(n.dom)+1;break}e-=n.size}-1==i&&(i=0)}if(i>-1&&(l>t||o==this.children.length-1)){t=l;for(let e=o+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){r=a(n.dom);break}t+=n.size}-1==r&&(r=this.contentDOM.childNodes.length);break}s=l}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:r}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,i=!1){let r=Math.min(e,t),s=Math.max(e,t);for(let a=0,o=0;a<this.children.length;a++){let l=this.children[a],u=o+l.size;if(r>o&&s<u)return l.setSelection(e-o-l.border,t-o-l.border,n,i);o=u}let o=this.domFromPos(e,e?-1:1),l=t==e?o:this.domFromPos(t,t?-1:1),u=n.root.getSelection(),c=n.domSelectionRange(),d=!1;if((E||I)&&e==t){let{node:e,offset:t}=o;if(3==e.nodeType){if((d=!!(t&&"\n"==e.nodeValue[t-1]))&&t==e.nodeValue.length)for(let t=e,n;t;t=t.parentNode){if(n=t.nextSibling){"BR"==n.nodeName&&(o=l={node:n.parentNode,offset:a(n)+1});break}let e=t.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];d=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(E&&c.focusNode&&c.focusNode!=l.node&&1==c.focusNode.nodeType){let e=c.focusNode.childNodes[c.focusOffset];e&&"false"==e.contentEditable&&(i=!0)}if(!(i||d&&I)&&h(o.node,o.offset,c.anchorNode,c.anchorOffset)&&h(l.node,l.offset,c.focusNode,c.focusOffset))return;let p=!1;if((u.extend||e==t)&&!d){u.collapse(o.node,o.offset);try{e!=t&&u.extend(l.node,l.offset),p=!0}catch(e){}}if(!p){if(e>t){let e=o;o=l,l=e}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(o.node,o.offset),u.removeAllRanges(),u.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,i=0;i<this.children.length;i++){let r=this.children[i],s=n+r.size;if(n==s?e<=s&&t>=n:e<s&&t>n){let i=n+r.border,a=s-r.border;if(e>=i&&t<=a){this.dirty=e==n||t==s?2:1,e==i&&t==a&&(r.contentLost||r.dom.parentNode!=this.contentDOM)?r.dirty=3:r.markDirty(e-i,t-i);return}r.dirty=r.dom!=r.contentDOM||r.dom.parentNode!=this.contentDOM||r.children.length?3:2}n=s}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class et extends ee{constructor(e,t,n,i){let r,s=t.type.toDOM;if("function"==typeof s&&(s=s(n,()=>r?r.parent?r.parent.posBeforeChild(r):void 0:i)),!t.type.spec.raw){if(1!=s.nodeType){let e=document.createElement("span");e.appendChild(s),s=e}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,r=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class en extends ee{constructor(e,t,n,i){super(e,[],t,null),this.textDOM=n,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class ei extends ee{constructor(e,t,n,i,r){super(e,[],n,i),this.mark=t,this.spec=r}static create(e,t,n,i){let s=i.nodeViews[t.type.name],a=s&&s(t,i,n);return a&&a.dom||(a=r.PW.renderSpec(document,t.type.spec.toDOM(t,n),null,t.attrs)),new ei(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let i=ei.create(this.parent,this.mark,!0,n),r=this.children,s=this.size;t<s&&(r=ey(r,t,s,n)),e>0&&(r=ey(r,0,e,n));for(let e=0;e<r.length;e++)r[e].parent=i;return i.children=r,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class er extends ee{constructor(e,t,n,i,r,s,a,o,l){super(e,[],r,s),this.node=t,this.outerDeco=n,this.innerDeco=i,this.nodeDOM=a}static create(e,t,n,i,s,a){let o=s.nodeViews[t.type.name],l,u=o&&o(t,s,()=>l?l.parent?l.parent.posBeforeChild(l):void 0:a,n,i),c=u&&u.dom,h=u&&u.contentDOM;if(t.isText){if(c){if(3!=c.nodeType)throw RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text)}else if(!c){let e=r.PW.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs);({dom:c,contentDOM:h}=e)}h||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let d=c;return(c=ep(c,n,t),u)?l=new el(e,t,n,i,c,h||null,d,u,s,a+1):t.isText?new ea(e,t,n,i,c,d,s):new er(e,t,n,i,c,h||null,d,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM){if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>r.HY.empty)}else e.contentElement=this.contentDOM}else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&ef(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,a=s&&s.pos>-1?s:null,o=s&&s.pos<0,l=new eg(this,a&&a.node,e);(function(e,t,n,i){let r=t.locals(e),s=0;if(0==r.length){for(let n=0;n<e.childCount;n++){let a=e.child(n);i(a,r,t.forChild(s,a),n),s+=a.nodeSize}return}let a=0,o=[],l=null;for(let u=0;;){let c,h,d,p;for(;a<r.length&&r[a].to==s;){let e=r[a++];e.widget&&(c?(h||(h=[c])).push(e):c=e)}if(c){if(h){h.sort(ev);for(let e=0;e<h.length;e++)n(h[e],u,!!l)}else n(c,u,!!l)}if(l)p=-1,d=l,l=null;else if(u<e.childCount)p=u,d=e.child(u++);else break;for(let e=0;e<o.length;e++)o[e].to<=s&&o.splice(e--,1);for(;a<r.length&&r[a].from<=s&&r[a].to>s;)o.push(r[a++]);let f=s+d.nodeSize;if(d.isText){let e=f;a<r.length&&r[a].from<e&&(e=r[a].from);for(let t=0;t<o.length;t++)o[t].to<e&&(e=o[t].to);e<f&&(l=d.cut(e-s),d=d.cut(0,e-s),f=e,p=-1)}else for(;a<r.length&&r[a].to<f;)a++;let m=d.isInline&&!d.isLeaf?o.filter(e=>!e.inline):o.slice();i(d,m,t.forChild(s,d),p),s=f}})(this.node,this.innerDeco,(t,s,a)=>{t.spec.marks?l.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!a&&l.syncToMarks(s==this.node.childCount?r.vc.none:this.node.child(s).marks,n,e),l.placeWidget(t,e,i)},(t,r,a,u)=>{let c;l.syncToMarks(t.marks,n,e),l.findNodeMatch(t,r,a,u)||o&&e.state.selection.from>i&&e.state.selection.to<i+t.nodeSize&&(c=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(t,r,a,c,e)||l.updateNextNode(t,r,a,e,u,i)||l.addNode(t,r,a,e,i),i+=t.nodeSize}),l.syncToMarks([],n,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),function e(t,n,i){let r=t.firstChild,s=!1;for(let a=0;a<n.length;a++){let o=n[a],l=o.dom;if(l.parentNode==t){for(;l!=r;)r=em(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(l,r);if(o instanceof ei){let n=r?r.previousSibling:t.lastChild;e(o.contentDOM,o.children,i),r=n?n.nextSibling:t.firstChild}}for(;r;)r=em(r),s=!0;s&&i.trackWrites==t&&(i.trackWrites=null)}(this.contentDOM,this.children,e),M&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof i.Bs)||n<t||r>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(!this.node.inlineContent)return{node:s,pos:-1,text:""};{let e=s.nodeValue,i=function(e,t,n,i){for(let r=0,s=0;r<e.childCount&&s<=i;){let a=e.child(r++),o=s;if(s+=a.nodeSize,!a.isText)continue;let l=a.text;for(;r<e.childCount;){let t=e.child(r++);if(s+=t.nodeSize,!t.isText)break;l+=t.text}if(s>=n){if(s>=i&&l.slice(i-t.length-o,i-o)==t)return i-t.length;let e=o<i?l.lastIndexOf(t,i-o-1):-1;if(e>=0&&e+t.length+o>=n)return o+e;if(n==i&&l.length>=i+t.length-o&&l.slice(i-o,i-o+t.length)==t)return i}}return -1}(this.node.content,e,n-t,r-t);return i<0?null:{node:s,pos:i,text:e}}}protectLocalComposition(e,{node:t,pos:n,text:i}){if(this.getDesc(t))return;let r=t;for(;r.parentNode!=this.contentDOM;r=r.parentNode){for(;r.previousSibling;)r.parentNode.removeChild(r.previousSibling);for(;r.nextSibling;)r.parentNode.removeChild(r.nextSibling);r.pmViewDesc&&(r.pmViewDesc=void 0)}let s=new en(this,r,t,i);e.input.compositionNodes.push(s),this.children=ey(this.children,n,n+i.length,e,s)}update(e,t,n,i){return!!(3!=this.dirty&&e.sameMarkup(this.node))&&(this.updateInner(e,t,n,i),!0)}updateInner(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(ef(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=ed(this.dom,this.nodeDOM,eh(this.outerDeco,this.node,t),eh(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function es(e,t,n,i,r){ep(i,t,e);let s=new er(void 0,e,t,n,i,i,i,r,0);return s.contentDOM&&s.updateChildren(r,0),s}class ea extends er{constructor(e,t,n,i,r,s,a){super(e,t,n,i,r,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,i){return!!(3!=this.dirty&&(0==this.dirty||this.inParent())&&e.sameMarkup(this.node))&&(this.updateOuterDeco(t),(0!=this.dirty||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let i=this.node.cut(e,t),r=document.createTextNode(i.text);return new ea(this.parent,i,this.outerDeco,this.innerDeco,r,r,n)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(0==e||t==this.nodeDOM.nodeValue.length)&&(this.dirty=3)}get domAtom(){return!1}isText(e){return this.node.text==e}}class eo extends ee{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class el extends er{constructor(e,t,n,i,r,s,a,o,l,u){super(e,t,n,i,r,s,a,l,u),this.spec=o}update(e,t,n,i){if(3==this.dirty)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let r=this.spec.update(e,t,n);return r&&this.updateInner(e,t,n,i),r}return(!!this.contentDOM||!!e.isLeaf)&&super.update(e,t,n,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,i){this.spec.setSelection?this.spec.setSelection(e,t,n.root):super.setSelection(e,t,n,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}let eu=function(e){e&&(this.nodeName=e)};eu.prototype=Object.create(null);let ec=[new eu];function eh(e,t,n){if(0==e.length)return ec;let i=n?ec[0]:new eu,r=[i];for(let s=0;s<e.length;s++){let a=e[s].type.attrs;if(a)for(let e in a.nodeName&&r.push(i=new eu(a.nodeName)),a){let s=a[e];null!=s&&(n&&1==r.length&&r.push(i=new eu(t.isInline?"span":"div")),"class"==e?i.class=(i.class?i.class+" ":"")+s:"style"==e?i.style=(i.style?i.style+";":"")+s:"nodeName"!=e&&(i[e]=s))}}return r}function ed(e,t,n,i){if(n==ec&&i==ec)return t;let r=t;for(let t=0;t<i.length;t++){let s=i[t],a=n[t];if(t){let t;a&&a.nodeName==s.nodeName&&r!=e&&(t=r.parentNode)&&t.nodeName.toLowerCase()==s.nodeName||((t=document.createElement(s.nodeName)).pmIsDeco=!0,t.appendChild(r),a=ec[0]),r=t}!function(e,t,n){for(let i in t)"class"==i||"style"==i||"nodeName"==i||i in n||e.removeAttribute(i);for(let i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){let i=t.class?t.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<i.length;t++)-1==r.indexOf(i[t])&&e.classList.remove(i[t]);for(let t=0;t<r.length;t++)-1==i.indexOf(r[t])&&e.classList.add(r[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=n.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}(r,a||ec[0],s)}return r}function ep(e,t,n){return ed(e,e,ec,eh(t,n,1!=e.nodeType))}function ef(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function em(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class eg{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,i=n.children.length,r=e.childCount,s=new Map,a=[];i:for(;r>0;){let o;for(;;)if(i){let e=n.children[i-1];if(e instanceof ei)n=e,i=e.children.length;else{o=e,i--;break}}else if(n==t)break i;else i=n.parent.children.indexOf(n),n=n.parent;let l=o.node;if(l){if(l!=e.child(r-1))break;--r,s.set(o,r),a.push(o)}}return{index:r,matched:s,matches:a.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let i=0,r=this.stack.length>>1,s=Math.min(r,e.length);for(;i<s&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);let i=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++){let n=this.top.children[t];if(n.matchesMark(e[r])&&!this.isLocked(n.dom)){i=t;break}}if(i>-1)i>this.index&&(this.changed=!0,this.destroyBetween(this.index,i)),this.top=this.top.children[this.index];else{let i=ei.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,i),this.top=i,this.changed=!0}this.index=0,r++}}findNodeMatch(e,t,n,i){let r=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,t,n))r=this.top.children.indexOf(s,this.index);else for(let i=this.index,s=Math.min(this.top.children.length,i+5);i<s;i++){let s=this.top.children[i];if(s.matchesNode(e,t,n)&&!this.preMatch.matched.has(s)){r=i;break}}return!(r<0)&&(this.destroyBetween(this.index,r),this.index++,!0)}updateNodeAt(e,t,n,i,r){let s=this.top.children[i];return 3==s.dirty&&s.dom==s.contentDOM&&(s.dirty=2),!!s.update(e,t,n,r)&&(this.destroyBetween(this.index,i),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return -1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t){for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e}return -1}e=t}}updateNextNode(e,t,n,i,r,s){for(let a=this.index;a<this.top.children.length;a++){let o=this.top.children[a];if(o instanceof er){let l=this.preMatch.matched.get(o);if(null!=l&&l!=r)return!1;let u=o.dom,c,h=this.isLocked(u)&&!(e.isText&&o.node&&o.node.isText&&o.nodeDOM.nodeValue==e.text&&3!=o.dirty&&ef(t,o.outerDeco));if(!h&&o.update(e,t,n,i))return this.destroyBetween(this.index,a),o.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(c=this.recreateWrapper(o,e,t,n,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=c,c.contentDOM&&(c.dirty=2,c.updateChildren(i,s+1),c.dirty=0),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,n,i,r,s){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!ef(n,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=er.create(this.top,t,n,i,r,s);if(a.contentDOM)for(let t of(a.children=e.children,e.children=[],a.children))t.parent=a;return e.destroy(),a}addNode(e,t,n,i,r){let s=er.create(this.top,e,t,n,i,r);s.contentDOM&&s.updateChildren(i,r+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,t,n){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let i=new et(this.top,e,t,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ei;)e=(t=e).children[t.children.length-1];(!e||!(e instanceof ea)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((I||T)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let i=new eo(this.top,[],n,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||1==e.nodeType&&e.contains(this.lock.parentNode))}}function ev(e,t){return e.type.side-t.type.side}function ey(e,t,n,i,r){let s=[];for(let a=0,o=0;a<e.length;a++){let l=e[a],u=o,c=o+=l.size;u>=n||c<=t?s.push(l):(u<t&&s.push(l.slice(0,t-u,i)),r&&(s.push(r),r=void 0),c>n&&s.push(l.slice(n-u,l.size,i)))}return s}function e_(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),o=s&&0==s.size,l=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let u=r.resolve(l),c,h;if(g(n)){for(c=l;s&&!s.node;)s=s.parent;let e=s.node;if(s&&e.isAtom&&i.qv.isSelectable(e)&&s.parent&&!(e.isInline&&function(e,t,n){for(let i=0==t,r=t==f(e);i||r;){if(e==n)return!0;let t=a(e);if(!(e=e.parentNode))return!1;i=i&&0==t,r=r&&t==f(e)}}(n.focusNode,n.focusOffset,s.dom))){let e=s.posBefore;h=new i.qv(l==e?u:r.resolve(e))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let t=l,i=l;for(let r=0;r<n.rangeCount;r++){let s=n.getRangeAt(r);t=Math.min(t,e.docView.posFromDOM(s.startContainer,s.startOffset,1)),i=Math.max(i,e.docView.posFromDOM(s.endContainer,s.endOffset,-1))}if(t<0)return null;[c,l]=i==e.state.selection.anchor?[i,t]:[t,i],u=r.resolve(l)}else c=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!h){let n="pointer"==t||e.state.selection.head<u.pos&&!o?1:-1;h=eT(e,d,u,n)}return h}function eb(e){return e.editable?e.hasFocus():eI(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function ex(e,t=!1){let n=e.state.selection;if(eE(e,n),eb(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&T){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&h(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange();if(!t)return;let i=e.cursorWrapper.dom,r="IMG"==i.nodeName;r?n.setStart(i.parentNode,a(i)+1):n.setStart(i,0),n.collapse(!0),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&S&&C<=11&&(i.disabled=!0,i.disabled=!1)}(e);else{let r,s,a,o,{anchor:l,head:u}=n,c,h;!ew||n instanceof i.Bs||(n.$from.parent.inlineContent||(c=ek(e,n.from)),n.empty||n.$from.parent.inlineContent||(h=ek(e,n.to))),e.docView.setSelection(l,u,e,t),ew&&(c&&eC(c),h&&eC(h)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&((r=e.dom.ownerDocument).removeEventListener("selectionchange",e.input.hideSelectionGuard),a=(s=e.domSelectionRange()).anchorNode,o=s.anchorOffset,r.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(s.anchorNode!=a||s.anchorOffset!=o)&&(r.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!eb(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}let ew=I||T&&N<63;function ek(e,t){let{node:n,offset:i}=e.docView.domFromPos(t,0),r=i<n.childNodes.length?n.childNodes[i]:null,s=i?n.childNodes[i-1]:null;if(I&&r&&"false"==r.contentEditable)return eS(r);if((!r||"false"==r.contentEditable)&&(!s||"false"==s.contentEditable)){if(r)return eS(r);if(s)return eS(s)}}function eS(e){return e.contentEditable="true",I&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function eC(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function eE(e,t){if(t instanceof i.qv){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(eP(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else eP(e)}function eP(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function eT(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||i.Bs.between(t,n,r)}function eN(e){return(!e.editable||!!e.hasFocus())&&eI(e)}function eI(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function eM(e,t){let{$anchor:n,$head:r}=e.selection,s=t>0?n.max(r):n.min(r),a=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return a&&i.Y1.findFrom(a,t)}function eA(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function eO(e,t,n){let r=e.state.selection;if(r instanceof i.Bs){if(n.indexOf("s")>-1){let{$head:n}=r,s=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=e.state.doc.resolve(n.pos+s.nodeSize*(t<0?-1:1));return eA(e,new i.Bs(r.$anchor,a))}if(!r.empty)return!1;if(e.endOfTextblock(t>0?"forward":"backward")){let n=eM(e.state,t);return!!n&&n instanceof i.qv&&eA(e,n)}if(!(A&&n.indexOf("m")>-1)){let n=r.$head,s=n.textOffset?null:t<0?n.nodeBefore:n.nodeAfter,a;if(!s||s.isText)return!1;let o=t<0?n.pos-s.nodeSize:n.pos;return!!(s.isAtom||(a=e.docView.descAt(o))&&!a.contentDOM)&&(i.qv.isSelectable(s)?eA(e,new i.qv(t<0?e.state.doc.resolve(n.pos-s.nodeSize):n)):!!R&&eA(e,new i.Bs(e.state.doc.resolve(t<0?o:o+s.nodeSize))))}}else{if(r instanceof i.qv&&r.node.isInline)return eA(e,new i.Bs(t>0?r.$to:r.$from));let n=eM(e.state,t);return!!n&&eA(e,n)}}function eD(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function eR(e,t){let n=e.pmViewDesc;return n&&0==n.size&&(t<0||e.nextSibling||"BR"!=e.nodeName)}function eL(e,t){return t<0?function(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let r,s,o=!1;for(E&&1==n.nodeType&&i<eD(n)&&eR(n.childNodes[i],-1)&&(o=!0);;)if(i>0){if(1!=n.nodeType)break;{let e=n.childNodes[i-1];if(eR(e,-1))r=n,s=--i;else if(3==e.nodeType)i=(n=e).nodeValue.length;else break}}else if(eV(n))break;else{let t=n.previousSibling;for(;t&&eR(t,-1);)r=n.parentNode,s=a(t),t=t.previousSibling;if(t)i=eD(n=t);else{if((n=n.parentNode)==e.dom)break;i=0}}o?eF(e,n,i):r&&eF(e,r,s)}(e):function(e){let t,n,i=e.domSelectionRange(),r=i.focusNode,s=i.focusOffset;if(!r)return;let o=eD(r);for(;;)if(s<o){if(1!=r.nodeType)break;if(eR(r.childNodes[s],1))t=r,n=++s;else break}else if(eV(r))break;else{let i=r.nextSibling;for(;i&&eR(i,1);)t=i.parentNode,n=a(i)+1,i=i.nextSibling;if(i)s=0,o=eD(r=i);else{if((r=r.parentNode)==e.dom)break;s=o=0}}t&&eF(e,t,n)}(e)}function eV(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function eF(e,t,n){if(3!=t.nodeType){let e,i;(i=function(e,t){for(;e&&t==e.childNodes.length&&!m(e);)t=a(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;e=n,t=0}}(t,n))?(t=i,n=0):(e=function(e,t){for(;e&&!t&&!m(e);)t=a(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(3==n.nodeType)return n;if(1==n.nodeType&&"false"==n.contentEditable)break;t=(e=n).childNodes.length}}(t,n))&&(t=e,n=e.nodeValue.length)}let i=e.domSelection();if(!i)return;if(g(i)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),i.removeAllRanges(),i.addRange(e)}else i.extend&&i.extend(t,n);e.domObserver.setCurSelection();let{state:r}=e;setTimeout(()=>{e.state==r&&ex(e)},50)}function eB(e,t){let n=e.state.doc.resolve(t);if(!(T||O)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let n=e.coordsAtPos(t-1),r=(n.top+n.bottom)/2;if(r>i.top&&r<i.bottom&&Math.abs(n.left-i.left)>1)return n.left<i.left?"ltr":"rtl"}if(t<n.end()){let n=e.coordsAtPos(t+1),r=(n.top+n.bottom)/2;if(r>i.top&&r<i.bottom&&Math.abs(n.left-i.left)>1)return n.left>i.left?"ltr":"rtl"}}return"rtl"==getComputedStyle(e.dom).direction?"rtl":"ltr"}function e$(e,t,n){let r=e.state.selection;if(r instanceof i.Bs&&!r.empty||n.indexOf("s")>-1||A&&n.indexOf("m")>-1)return!1;let{$from:s,$to:a}=r;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=eM(e.state,t);if(n&&n instanceof i.qv)return eA(e,n)}if(!s.parent.inlineContent){let n=t<0?s:a,o=r instanceof i.C1?i.Y1.near(n,t):i.Y1.findFrom(n,t);return!!o&&eA(e,o)}return!1}function ez(e,t){if(!(e.state.selection instanceof i.Bs))return!0;let{$head:n,$anchor:r,empty:s}=e.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let i=e.state.tr;return t<0?i.delete(n.pos-a.nodeSize,n.pos):i.delete(n.pos,n.pos+a.nodeSize),e.dispatch(i),!0}return!1}function ej(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function eU(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:i,openStart:s,openEnd:a}=t;for(;s>1&&a>1&&1==i.childCount&&1==i.firstChild.childCount;){s--,a--;let e=i.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),i=e.content}let o=e.someProp("clipboardSerializer")||r.PW.fromSchema(e.state.schema),l=eQ(),u=l.createElement("div");u.appendChild(o.serializeFragment(i,{document:l}));let c=u.firstChild,h,d=0;for(;c&&1==c.nodeType&&(h=eK[c.nodeName.toLowerCase()]);){for(let e=h.length-1;e>=0;e--){let t=l.createElement(h[e]);for(;u.firstChild;)t.appendChild(u.firstChild);u.appendChild(t),d++}c=u.firstChild}return c&&1==c.nodeType&&c.setAttribute("data-pm-slice",`${s} ${a}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:u,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n"),slice:t}}function eq(e,t,n,i,s){let a,o,l=s.parent.type.spec.code;if(!n&&!t)return null;let u=t&&(i||l||!n);if(u){if(e.someProp("transformPastedText",n=>{t=n(t,l||i,e)}),l)return t?new r.p2(r.HY.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):r.p2.empty;let n=e.someProp("clipboardTextParser",n=>n(t,s,i,e));if(n)o=n;else{let n=s.marks(),{schema:i}=e.state,o=r.PW.fromSchema(i);a=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=a.appendChild(document.createElement("p"));e&&t.appendChild(o.serializeNode(i.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),a=function(e){var t;let n,i=/^(\s*<meta [^>]*>)*/.exec(e);i&&(e=e.slice(i[0].length));let r=eQ().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(e),a;if((a=s&&eK[s[1].toLowerCase()])&&(e=a.map(e=>"<"+e+">").join("")+e+a.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=(t=e,(n=window.trustedTypes)?(eZ||(eZ=n.defaultPolicy||n.createPolicy("ProseMirrorClipboard",{createHTML:e=>e})),eZ.createHTML(t)):t),a)for(let e=0;e<a.length;e++)r=r.querySelector(a[e])||r;return r}(n),R&&function(e){let t=e.querySelectorAll(T?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let i=t[n];1==i.childNodes.length&&"\xa0"==i.textContent&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}(a);let c=a&&a.querySelector("[data-pm-slice]"),h=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let e=+h[3];e>0;e--){let e=a.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;a=e}if(o||(o=(e.someProp("clipboardParser")||e.someProp("domParser")||r.aw.fromSchema(e.state.schema)).parseSlice(a,{preserveWhitespace:!!(u||h),context:s,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||eH.test(e.parentNode.nodeName)?null:{ignore:!0}})),h)o=function(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch(t){return e}let{content:s,openStart:a,openEnd:o}=e;for(let e=i.length-2;e>=0;e-=2){let t=n.nodes[i[e]];if(!t||t.hasRequiredAttrs())break;s=r.HY.from(t.create(i[e+1],s)),a++,o++}return new r.p2(s,a,o)}(eG(o,+h[1],+h[2]),h[4]);else if((o=r.p2.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),s,a=[];if(e.forEach(e=>{if(!a)return;let t=i.findWrapping(e.type),n;if(!t)return a=null;if(n=a.length&&s.length&&function e(t,n,i,s,a){if(a<t.length&&a<n.length&&t[a]==n[a]){let o=e(t,n,i,s.lastChild,a+1);if(o)return s.copy(s.content.replaceChild(s.childCount-1,o));if(s.contentMatchAt(s.childCount).matchType(a==t.length-1?i.type:t[a+1]))return s.copy(s.content.append(r.HY.from(eW(i,t,a+1))))}}(t,s,e,a[a.length-1],0))a[a.length-1]=n;else{a.length&&(a[a.length-1]=function e(t,n){if(0==n)return t;let i=t.content.replaceChild(t.childCount-1,e(t.lastChild,n-1)),s=t.contentMatchAt(t.childCount).fillBefore(r.HY.empty,!0);return t.copy(i.append(s))}(a[a.length-1],s.length));let n=eW(e,t);a.push(n),i=i.matchType(n.type),s=t}}),a)return r.HY.from(a)}return e}(o.content,s),!0)).openStart||o.openEnd){let e=0,t=0;for(let t=o.content.firstChild;e<o.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=o.content.lastChild;t<o.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);o=eG(o,e,t)}return e.someProp("transformPasted",t=>{o=t(o,e)}),o}let eH=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function eW(e,t,n=0){for(let i=t.length-1;i>=n;i--)e=t[i].create(null,r.HY.from(e));return e}function eY(e,t,n,i,s,a){let o=t<0?e.firstChild:e.lastChild,l=o.content;return e.childCount>1&&(a=0),s<i-1&&(l=eY(l,t,n,i,s+1,a)),s>=n&&(l=t<0?o.contentMatchAt(0).fillBefore(l,a<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(r.HY.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(l))}function eG(e,t,n){return t<e.openStart&&(e=new r.p2(eY(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new r.p2(eY(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}let eK={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},eX=null;function eQ(){return eX||(eX=document.implementation.createHTMLDocument("title"))}let eZ=null,eJ={},e0={},e1={touchstart:!0,touchmove:!0};class e2{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function e3(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function e6(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>e4(e,t))})}function e4(e,t){return e.someProp("handleDOMEvents",n=>{let i=n[t.type];return!!i&&(i(e,t)||t.defaultPrevented)})}function e5(e){return{left:e.clientX,top:e.clientY}}function e8(e,t,n,i,r){if(-1==i)return!1;let s=e.state.doc.resolve(i);for(let i=s.depth+1;i>0;i--)if(e.someProp(t,t=>i>s.depth?t(e,n,s.nodeAfter,s.before(i),r,!0):t(e,n,s.node(i),s.before(i),r,!1)))return!0;return!1}function e9(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let i=e.state.tr.setSelection(t);"pointer"==n&&i.setMeta("pointer",!0),e.dispatch(i)}e0.keydown=(e,t)=>{if(e.input.shiftKey=16==t.keyCode||t.shiftKey,!tt(e,t)&&(e.input.lastKeyCode=t.keyCode,e.input.lastKeyCodeTime=Date.now(),!D||!T||13!=t.keyCode)){if(229!=t.keyCode&&e.domObserver.forceFlush(),!M||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",n=>n(e,t))||function(e,t){let n;let i=t.keyCode,r=(n="",t.ctrlKey&&(n+="c"),t.metaKey&&(n+="m"),t.altKey&&(n+="a"),t.shiftKey&&(n+="s"),n);if(8==i||A&&72==i&&"c"==r)return ez(e,-1)||eL(e,-1);if(46==i&&!t.shiftKey||A&&68==i&&"c"==r)return ez(e,1)||eL(e,1);if(13==i||27==i)return!0;if(37==i||A&&66==i&&"c"==r){let t=37==i?"ltr"==eB(e,e.state.selection.from)?-1:1:-1;return eO(e,t,r)||eL(e,t)}if(39==i||A&&70==i&&"c"==r){let t=39==i?"ltr"==eB(e,e.state.selection.from)?1:-1:1;return eO(e,t,r)||eL(e,t)}if(38==i||A&&80==i&&"c"==r)return e$(e,-1,r)||eL(e,-1);if(40==i||A&&78==i&&"c"==r)return function(e){if(!I||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;ej(e,n,"true"),setTimeout(()=>ej(e,n,"false"),20)}return!1}(e)||e$(e,1,r)||eL(e,1);else if(r==(A?"m":"c")&&(66==i||73==i||89==i||90==i))return!0;return!1}(e,t)?t.preventDefault():e3(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,v(13,"Enter"))),e.input.lastIOSEnter=0)},200)}}},e0.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},e0.keypress=(e,t)=>{if(tt(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||A&&t.metaKey)return;if(e.someProp("handleKeyPress",n=>n(e,t))){t.preventDefault();return}let n=e.state.selection;if(!(n instanceof i.Bs)||!n.$from.sameParent(n.$to)){let i=String.fromCharCode(t.charCode),r=()=>e.state.tr.insertText(i).scrollIntoView();/[\r\n]/.test(i)||e.someProp("handleTextInput",t=>t(e,n.$from.pos,n.$to.pos,i,r))||e.dispatch(r()),t.preventDefault()}};let e7=A?"metaKey":"ctrlKey";eJ.mousedown=(e,t)=>{var n;let r,s;e.input.shiftKey=t.shiftKey;let a=ts(e),o=Date.now(),l="singleClick";o-e.input.lastClick.time<500&&(r=(n=e.input.lastClick).x-t.clientX)*r+(s=n.y-t.clientY)*s<100&&!t[e7]&&e.input.lastClick.button==t.button&&("singleClick"==e.input.lastClick.type?l="doubleClick":"doubleClick"==e.input.lastClick.type&&(l="tripleClick")),e.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:l,button:t.button};let u=e.posAtCoords(e5(t));u&&("singleClick"==l?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new te(e,u,t,!!a)):("doubleClick"==l?function(e,t,n,i){return e8(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",n=>n(e,t,i))}:function(e,t,n,r){return e8(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||function(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(e9(e,i.Bs.create(r,0,r.content.size),"pointer"),!0);let s=r.resolve(t);for(let t=s.depth+1;t>0;t--){let n=t>s.depth?s.nodeAfter:s.node(t),a=s.before(t);if(n.inlineContent)e9(e,i.Bs.create(r,a+1,a+1+n.content.size),"pointer");else{if(!i.qv.isSelectable(n))continue;e9(e,i.qv.create(r,a),"pointer")}return!0}}(e,n,r)})(e,u.pos,u.inside,t)?t.preventDefault():e3(e,"pointer"))};class te{constructor(e,t,n,r){let s,a;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[e7],this.allowDefault=n.shiftKey,t.inside>-1)s=e.state.doc.nodeAt(t.inside),a=t.inside;else{let n=e.state.doc.resolve(t.pos);s=n.parent,a=n.depth?n.before():0}let o=r?null:n.target,l=o?e.docView.nearestDesc(o,!0):null;this.target=l&&1==l.dom.nodeType?l.dom:null;let{selection:u}=e.state;(0==n.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||u instanceof i.qv&&u.from<=a&&u.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&E&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),e3(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ex(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;if(this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(e5(e))),this.updateAllowDefault(e),this.allowDefault||!t)e3(this.view,"pointer");else{var n,r,s,a;(n=this.view,r=t.pos,s=t.inside,a=this.selectNode,e8(n,"handleClickOn",r,s,e)||n.someProp("handleClick",t=>t(n,r,e))||(a?function(e,t){if(-1==t)return!1;let n=e.state.selection,r,s;n instanceof i.qv&&(r=n.node);let a=e.state.doc.resolve(t);for(let e=a.depth+1;e>0;e--){let t=e>a.depth?a.nodeAfter:a.node(e);if(i.qv.isSelectable(t)){s=r&&n.$from.depth>0&&e>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?a.before(n.$from.depth):a.before(e);break}}return null!=s&&(e9(e,i.qv.create(e.state.doc,s),"pointer"),!0)}(n,s):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&i.qv.isSelectable(r))&&(e9(e,new i.qv(n),"pointer"),!0)}(n,s)))?e.preventDefault():0==e.button&&(this.flushed||I&&this.mightDrag&&!this.mightDrag.node.isAtom||T&&!this.view.state.selection.visible&&2>=Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to)))?(e9(this.view,i.Y1.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):e3(this.view,"pointer")}}move(e){this.updateAllowDefault(e),e3(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function tt(e,t){return!!e.composing||!!(I&&500>Math.abs(t.timeStamp-e.input.compositionEndedAt))&&(e.input.compositionEndedAt=-2e8,!0)}eJ.touchstart=e=>{e.input.lastTouch=Date.now(),ts(e),e3(e,"pointer")},eJ.touchmove=e=>{e.input.lastTouch=Date.now(),e3(e,"pointer")},eJ.contextmenu=e=>ts(e);let tn=D?5e3:-1;function ti(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>ts(e),t))}function tr(e){let t;for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=((t=document.createEvent("Event")).initEvent("event",!0,!0),t.timeStamp));e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function ts(e,t=!1){if(!D||!(e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),tr(e),t||e.docView&&e.docView.dirty){let n=e_(e),i=e.state.selection;return n&&!n.eq(i)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}e0.compositionstart=e0.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof i.Bs&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),ts(e,!0),e.markCursor=null;else if(ts(e,!t.selection.empty),E&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,i=t.focusOffset;n&&1==n.nodeType&&0!=i;){let t=i<0?n.lastChild:n.childNodes[i-1];if(!t)break;if(3==t.nodeType){let n=e.domSelection();n&&n.collapse(t,t.nodeValue.length);break}n=t,i=-1}}e.input.composing=!0}ti(e,tn)},e0.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,ti(e,20))};let ta=S&&C<15||M&&L<604;function to(e,t,n,i,s){let a=eq(e,t,n,i,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,s,a||r.p2.empty)))return!0;if(!a)return!1;let o=0==a.openStart&&0==a.openEnd&&1==a.content.childCount?a.content.firstChild:null,l=o?e.state.tr.replaceSelectionWith(o,i):e.state.tr.replaceSelection(a);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function tl(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}eJ.copy=e0.cut=(e,t)=>{let n=e.state.selection,i="cut"==t.type;if(n.empty)return;let r=ta?null:t.clipboardData,{dom:s,text:a}=eU(e,n.content());r?(t.preventDefault(),r.clearData(),r.setData("text/html",s.innerHTML),r.setData("text/plain",a)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}(e,s),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},e0.paste=(e,t)=>{if(e.composing&&!D)return;let n=ta?null:t.clipboardData,i=e.input.shiftKey&&45!=e.input.lastKeyCode;n&&to(e,tl(n),n.getData("text/html"),i,t)?t.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=e.input.shiftKey&&45!=e.input.lastKeyCode;setTimeout(()=>{e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?to(e,i.value,null,r,t):to(e,i.textContent,i.innerHTML,r,t)},50)}(e,t)};class tu{constructor(e,t,n){this.slice=e,this.move=t,this.node=n}}let tc=A?"altKey":"ctrlKey";function th(e,t){let n=e.someProp("dragCopies",e=>!e(t));return null!=n?n:!t[tc]}for(let e in eJ.dragstart=(e,t)=>{let n;let r=e.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let s=e.state.selection,a=s.empty?null:e.posAtCoords(e5(t));if(a&&a.pos>=s.from&&a.pos<=(s instanceof i.qv?s.to-1:s.to));else if(r&&r.mightDrag)n=i.qv.create(e.state.doc,r.mightDrag.pos);else if(t.target&&1==t.target.nodeType){let r=e.docView.nearestDesc(t.target,!0);r&&r.node.type.spec.draggable&&r!=e.docView&&(n=i.qv.create(e.state.doc,r.posBefore))}let o=(n||e.state.selection).content(),{dom:l,text:u,slice:c}=eU(e,o);t.dataTransfer.files.length&&T&&!(N>120)||t.dataTransfer.clearData(),t.dataTransfer.setData(ta?"Text":"text/html",l.innerHTML),t.dataTransfer.effectAllowed="copyMove",ta||t.dataTransfer.setData("text/plain",u),e.dragging=new tu(c,th(e,t),n)},eJ.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)},e0.dragover=e0.dragenter=(e,t)=>t.preventDefault(),e0.drop=(e,t)=>{let n=e.dragging;if(e.dragging=null,!t.dataTransfer)return;let a=e.posAtCoords(e5(t));if(!a)return;let o=e.state.doc.resolve(a.pos),l=n&&n.slice;l?e.someProp("transformPasted",t=>{l=t(l,e)}):l=eq(e,tl(t.dataTransfer),ta?null:t.dataTransfer.getData("text/html"),!1,o);let u=!!(n&&th(e,t));if(e.someProp("handleDrop",n=>n(e,t,l||r.p2.empty,u))){t.preventDefault();return}if(!l)return;t.preventDefault();let c=l?(0,s.nj)(e.state.doc,o.pos,l):o.pos;null==c&&(c=o.pos);let h=e.state.tr;if(u){let{node:e}=n;e?e.replace(h):h.deleteSelection()}let d=h.mapping.map(c),p=0==l.openStart&&0==l.openEnd&&1==l.content.childCount,f=h.doc;if(p?h.replaceRangeWith(d,d,l.content.firstChild):h.replaceRange(d,d,l),h.doc.eq(f))return;let m=h.doc.resolve(d);if(p&&i.qv.isSelectable(l.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new i.qv(m));else{let t=h.mapping.map(c);h.mapping.maps[h.mapping.maps.length-1].forEach((e,n,i,r)=>t=r),h.setSelection(eT(e,m,h.doc.resolve(t)))}e.focus(),e.dispatch(h.setMeta("uiEvent","drop"))},eJ.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&ex(e)},20))},eJ.blur=(e,t)=>{e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},eJ.beforeinput=(e,t)=>{if(T&&D&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,v(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}},e0)eJ[e]=e0[e];function td(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class tp{constructor(e,t){this.toDOM=e,this.spec=t||ty,this.side=this.spec.side||0}map(e,t,n,i){let{pos:r,deleted:s}=e.mapResult(t.from+i,this.side<0?-1:1);return s?null:new tg(r-n,r-n,this)}valid(){return!0}eq(e){return this==e||e instanceof tp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&td(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class tf{constructor(e,t){this.attrs=e,this.spec=t||ty}map(e,t,n,i){let r=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,s=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return r>=s?null:new tg(r,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof tf&&td(this.attrs,e.attrs)&&td(this.spec,e.spec)}static is(e){return e.type instanceof tf}destroy(){}}class tm{constructor(e,t){this.attrs=e,this.spec=t||ty}map(e,t,n,i){let r=e.mapResult(t.from+i,1);if(r.deleted)return null;let s=e.mapResult(t.to+i,-1);return s.deleted||s.pos<=r.pos?null:new tg(r.pos-n,s.pos-n,this)}valid(e,t){let{index:n,offset:i}=e.content.findIndex(t.from),r;return i==t.from&&!(r=e.child(n)).isText&&i+r.nodeSize==t.to}eq(e){return this==e||e instanceof tm&&td(this.attrs,e.attrs)&&td(this.spec,e.spec)}destroy(){}}class tg{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new tg(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new tg(e,e,new tp(t,n))}static inline(e,t,n,i){return new tg(e,t,new tf(n,i))}static node(e,t,n,i){return new tg(e,t,new tm(n,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof tf}get widget(){return this.type instanceof tp}}let tv=[],ty={};class t_{constructor(e,t){this.local=e.length?e:tv,this.children=t.length?t:tv}static create(e,t){return t.length?tC(t,e,0,ty):tb}find(e,t,n){let i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,n),i}findInner(e,t,n,i,r){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,t-a,n,i+a,r)}}map(e,t,n){return this==tb||0==e.maps.length?this:this.mapInner(e,t,0,0,n||ty)}mapInner(e,t,n,i,r){let s;for(let a=0;a<this.local.length;a++){let o=this.local[a].map(e,n,i);o&&o.type.valid(t,o)?(s||(s=[])).push(o):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,i,r,s,a){let o=e.slice();for(let e=0,t=s;e<n.maps.length;e++){let i=0;n.maps[e].forEach((e,n,r,s)=>{let a=s-r-(n-e);for(let r=0;r<o.length;r+=3){let s=o[r+1];if(s<0||e>s+t-i)continue;let l=o[r]+t-i;n>=l?o[r+1]=e<=l?-2:-1:e>=t&&a&&(o[r]+=a,o[r+1]+=a)}i+=a}),t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<o.length;t+=3)if(o[t+1]<0){if(-2==o[t+1]){l=!0,o[t+1]=-1;continue}let u=n.map(e[t]+s),c=u-r;if(c<0||c>=i.content.size){l=!0;continue}let h=n.map(e[t+1]+s,-1)-r,{index:d,offset:p}=i.content.findIndex(c),f=i.maybeChild(d);if(f&&p==c&&p+f.nodeSize==h){let i=o[t+2].mapInner(n,f,u+1,e[t]+s+1,a);i!=tb?(o[t]=c,o[t+1]=h,o[t+2]=i):(o[t+1]=-2,l=!0)}else l=!0}if(l){let l=tC(function(e,t,n,i,r,s,a){for(let o=0;o<e.length;o+=3)-1==e[o+1]&&function e(t,s){for(let e=0;e<t.local.length;e++){let o=t.local[e].map(i,r,s);o?n.push(o):a.onRemove&&a.onRemove(t.local[e].spec)}for(let n=0;n<t.children.length;n+=3)e(t.children[n+2],t.children[n]+s+1)}(e[o+2],t[o]+s+1);return n}(o,e,t,n,r,s,a),i,0,a);t=l.local;for(let e=0;e<o.length;e+=3)o[e+1]<0&&(o.splice(e,3),e-=3);for(let e=0,t=0;e<l.children.length;e+=3){let n=l.children[e];for(;t<o.length&&o[t]<n;)t+=3;o.splice(t,0,l.children[e],l.children[e+1],l.children[e+2])}}return new t_(t.sort(tE),o)}(this.children,s||[],e,t,n,i,r):s?new t_(s.sort(tE),tv):tb}add(e,t){return t.length?this==tb?t_.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let i,r=0;e.forEach((e,s)=>{let a=s+n,o;if(o=tk(t,e,a)){for(i||(i=this.children.slice());r<i.length&&i[r]<s;)r+=3;i[r]==s?i[r+2]=i[r+2].addInner(e,o,a+1):i.splice(r,0,s,s+e.nodeSize,tC(o,e,a+1,ty)),r+=3}});let s=tw(r?tS(t):t,-n);for(let t=0;t<s.length;t++)s[t].type.valid(e,s[t])||s.splice(t--,1);return new t_(s.length?this.local.concat(s).sort(tE):this.local,i||this.children)}remove(e){return 0==e.length||this==tb?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,i=this.local;for(let i=0;i<n.length;i+=3){let r;let s=n[i]+t,a=n[i+1]+t;for(let t=0,n;t<e.length;t++)(n=e[t])&&n.from>s&&n.to<a&&(e[t]=null,(r||(r=[])).push(n));if(!r)continue;n==this.children&&(n=this.children.slice());let o=n[i+2].removeInner(r,s+1);o!=tb?n[i+2]=o:(n.splice(i,3),i-=3)}if(i.length){for(let n=0,r;n<e.length;n++)if(r=e[n])for(let e=0;e<i.length;e++)i[e].eq(r,t)&&(i==this.local&&(i=this.local.slice()),i.splice(e--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new t_(i,n):tb}forChild(e,t){let n,i;if(this==tb)return this;if(t.isLeaf)return t_.empty;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let r=e+1,s=r+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<s&&t.to>r&&t.type instanceof tf){let e=Math.max(r,t.from)-r,n=Math.min(s,t.to)-r;e<n&&(i||(i=[])).push(t.copy(e,n))}}if(i){let e=new t_(i.sort(tE),tv);return n?new tx([e,n]):e}return n||tb}eq(e){if(this==e)return!0;if(!(e instanceof t_)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return tP(this.localsInner(e))}localsInner(e){if(this==tb)return tv;if(e.inlineContent||!this.local.some(tf.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof tf||t.push(this.local[e]);return t}forEachSet(e){e(this)}}t_.empty=new t_([],[]),t_.removeOverlap=tP;let tb=t_.empty;class tx{constructor(e){this.members=e}map(e,t){let n=this.members.map(n=>n.map(e,t,ty));return tx.from(n)}forChild(e,t){if(t.isLeaf)return t_.empty;let n=[];for(let i=0;i<this.members.length;i++){let r=this.members[i].forChild(e,t);r!=tb&&(r instanceof tx?n=n.concat(r.members):n.push(r))}return tx.from(n)}eq(e){if(!(e instanceof tx)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let i=0;i<this.members.length;i++){let r=this.members[i].localsInner(e);if(r.length){if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<r.length;e++)t.push(r[e])}else t=r}}return t?tP(n?t:t.sort(tE)):tv}static from(e){switch(e.length){case 0:return tb;case 1:return e[0];default:return new tx(e.every(e=>e instanceof t_)?e:e.reduce((e,t)=>e.concat(t instanceof t_?t:t.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function tw(e,t){if(!t||!e.length)return e;let n=[];for(let i=0;i<e.length;i++){let r=e[i];n.push(new tg(r.from+t,r.to+t,r.type))}return n}function tk(e,t,n){if(t.isLeaf)return null;let i=n+t.nodeSize,r=null;for(let t=0,s;t<e.length;t++)(s=e[t])&&s.from>n&&s.to<i&&((r||(r=[])).push(s),e[t]=null);return r}function tS(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function tC(e,t,n,i){let r=[],s=!1;t.forEach((t,a)=>{let o=tk(e,t,a+n);if(o){s=!0;let e=tC(o,t,n+a+1,i);e!=tb&&r.push(a,a+t.nodeSize,e)}});let a=tw(s?tS(e):e,-n).sort(tE);for(let e=0;e<a.length;e++)a[e].type.valid(t,a[e])||(i.onRemove&&i.onRemove(a[e].spec),a.splice(e--,1));return a.length||r.length?new t_(a,r):tb}function tE(e,t){return e.from-t.from||e.to-t.to}function tP(e){let t=e;for(let n=0;n<t.length-1;n++){let i=t[n];if(i.from!=i.to)for(let r=n+1;r<t.length;r++){let s=t[r];if(s.from==i.from){s.to!=i.to&&(t==e&&(t=e.slice()),t[r]=s.copy(s.from,i.to),tT(t,r+1,s.copy(i.to,s.to)));continue}s.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,s.from),tT(t,r,i.copy(s.from,i.to)));break}}return t}function tT(e,t,n){for(;t<e.length&&tE(n,e[t])>0;)t++;e.splice(t,0,n)}function tN(e){let t=[];return e.someProp("decorations",n=>{let i=n(e.state);i&&i!=tb&&t.push(i)}),e.cursorWrapper&&t.push(t_.create(e.state.doc,[e.cursorWrapper.deco])),tx.from(t)}let tI={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},tM=S&&C<=11;class tA{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class tO{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new tA,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);S&&C<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),tM&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,tI)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(eN(this.view)){if(this.suppressingSelectionUpdates)return ex(this.view);if(S&&C<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&h(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,n;for(let n=e.focusNode;n;n=o(n))t.add(n);for(let i=e.anchorNode;i;i=o(i))if(t.has(i)){n=i;break}let i=n&&this.view.docView.nearestDesc(n);if(i&&i.ignoreMutation({type:"selection",target:3==n.nodeType?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&eN(e)&&!this.ignoreSelectionChange(n),s=-1,a=-1,o=!1,l=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],l);n&&(s=s<0?n.from:Math.min(n.from,s),a=a<0?n.to:Math.max(n.to,a),n.typeOver&&(o=!0))}if(E&&l.length){let t=l.filter(e=>"BR"==e.nodeName);if(2==t.length){let[e,n]=t;e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}else{let{focusNode:n}=this.currentSelection;for(let i of t){let t=i.parentNode;t&&"LI"==t.nodeName&&(!n||function(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let t=e.docView.nearestDesc(n,!0);if(t&&t.node.isBlock)return n}return null}(e,n)!=t)&&i.remove()}}}let u=null;s<0&&r&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&g(n)&&(u=e_(e))&&u.eq(i.Y1.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ex(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||r)&&(s>-1&&(e.docView.markDirty(s,a),tD.has(e)||(tD.set(e,null),-1===["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))||(e.requiresGeckoHackNode=E,tR||(console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),tR=!0))),this.handleDOMChange(s,a,o,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||ex(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++){let i=e.addedNodes[n];t.push(i),3==i.nodeType&&(this.lastChangedTextNode=i)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let i=e.previousSibling,r=e.nextSibling;if(S&&C<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:s}=e.addedNodes[t];(!n||0>Array.prototype.indexOf.call(e.addedNodes,n))&&(i=n),(!s||0>Array.prototype.indexOf.call(e.addedNodes,s))&&(r=s)}let s=i&&i.parentNode==e.target?a(i)+1:0,o=n.localPosFromDOM(e.target,s,-1),l=r&&r.parentNode==e.target?a(r):e.target.childNodes.length;return{from:o,to:n.localPosFromDOM(e.target,l,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let tD=new WeakMap,tR=!1;function tL(e,t){let n=t.startContainer,i=t.startOffset,r=t.endContainer,s=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return h(a.node,a.offset,r,s)&&([n,i,r,s]=[r,s,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:s}}function tV(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(I&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||I&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}let tF=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function tB(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:eT(e,t.resolve(n.anchor),t.resolve(n.head))}function t$(e,t,n){let i=e.depth,r=t?e.end():e.pos;for(;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,r++,t=!1;if(n){let t=e.node(i).maybeChild(e.indexAfter(i));for(;t&&!t.isLeaf;)t=t.firstChild,r++}return r}function tz(e){if(2!=e.length)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class tj{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new e2,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(tY),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=tH(this),tq(this),this.nodeViews=tW(this),this.docView=es(this.state.doc,tU(this),tN(this),this.dom,this),this.domObserver=new tO(this,(e,t,n,s)=>(function(e,t,n,s,a){let o,l,u,c,h=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=e_(e,t);if(n&&!e.state.selection.eq(n)){if(T&&D&&13===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",t=>t(e,v(13,"Enter"))))return;let i=e.state.tr.setSelection(n);"pointer"==t?i.setMeta("pointer",!0):"key"==t&&i.scrollIntoView(),h&&i.setMeta("composition",h),e.dispatch(i)}return}let d=e.state.doc.resolve(t),p=d.sharedDepth(n);t=d.before(p+1),n=e.state.doc.resolve(n).after(p+1);let f=e.state.selection,m=function(e,t,n){let i,{node:s,fromOffset:a,toOffset:o,from:l,to:u}=e.docView.parseRange(t,n),c=e.domSelectionRange(),h=c.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(i=[{node:h,offset:c.anchorOffset}],g(c)||i.push({node:c.focusNode,offset:c.focusOffset})),T&&8===e.input.lastKeyCode)for(let e=o;e>a;e--){let t=s.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){o=e;break}if(!n||n.size)break}let d=e.state.doc,p=e.someProp("domParser")||r.aw.fromSchema(e.state.schema),f=d.resolve(l),m=null,v=p.parse(s,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:a,to:o,preserveWhitespace:"pre"!=f.parent.type.whitespace||"full",findPositions:i,ruleFromNode:tV,context:f});if(i&&null!=i[0].pos){let e=i[0].pos,t=i[1]&&i[1].pos;null==t&&(t=e),m={anchor:e+l,head:t+l}}return{doc:v,sel:m,from:l,to:u}}(e,t,n),y=e.state.doc,_=y.slice(m.from,m.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(o=e.state.selection.to,l="end"):(o=e.state.selection.from,l="start"),e.input.lastKeyCode=null;let b=function(e,t,n,i,r){let s=e.findDiffStart(t,n);if(null==s)return null;let{a:a,b:o}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==r){let e=Math.max(0,s-Math.min(a,o));i-=a+e-s}if(a<s&&e.size<t.size){let e=i<=s&&i>=a?s-i:0;(s-=e)&&s<t.size&&tz(t.textBetween(s-1,s+1))&&(s+=e?1:-1),o=s+(o-a),a=s}else if(o<s){let t=i<=s&&i>=o?s-i:0;(s-=t)&&s<e.size&&tz(e.textBetween(s-1,s+1))&&(s+=t?1:-1),a=s+(a-o),o=s}return{start:s,endA:a,endB:o}}(_.content,m.doc.content,m.from,o,l);if(b&&e.input.domChangeCount++,(M&&e.input.lastIOSEnter>Date.now()-225||D)&&a.some(e=>1==e.nodeType&&!tF.test(e.nodeName))&&(!b||b.endA>=b.endB)&&e.someProp("handleKeyDown",t=>t(e,v(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!b){if(s&&f instanceof i.Bs&&!f.empty&&f.$head.sameParent(f.$anchor)&&!e.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))b={start:f.from,endA:f.to,endB:f.to};else{if(m.sel){let t=tB(e,e.state.doc,m.sel);if(t&&!t.eq(e.state.selection)){let n=e.state.tr.setSelection(t);h&&n.setMeta("composition",h),e.dispatch(n)}}return}}e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof i.Bs&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2&&e.state.selection.from>=m.from?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&e.state.selection.to<=m.to&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),S&&C<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>m.from&&" \xa0"==m.doc.textBetween(b.start-m.from-1,b.start-m.from+1)&&(b.start--,b.endA--,b.endB--);let x=m.doc.resolveNoCache(b.start-m.from),w=m.doc.resolveNoCache(b.endB-m.from),k=y.resolve(b.start),E=x.sameParent(w)&&x.parent.inlineContent&&k.end()>=b.endA;if((M&&e.input.lastIOSEnter>Date.now()-225&&(!E||a.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!E&&x.pos<m.doc.content.size&&(!x.sameParent(w)||!x.parent.inlineContent)&&!/\S/.test(m.doc.textBetween(x.pos,w.pos,"",""))&&(u=i.Y1.findFrom(m.doc.resolve(x.pos+1),1,!0))&&u.head>x.pos)&&e.someProp("handleKeyDown",t=>t(e,v(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>b.start&&function(e,t,n,i,r){if(n-t<=r.pos-i.pos||t$(i,!0,!1)<r.pos)return!1;let s=e.resolve(t);if(!i.parent.isTextblock){let e=s.nodeAfter;return null!=e&&n==t+e.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=e.resolve(t$(s,!0,!0));return!(!a.parent.isTextblock||a.pos>n||t$(a,!0,!1)<n)&&i.parent.content.cut(i.parentOffset).eq(a.parent.content)}(y,b.start,b.endA,x,w)&&e.someProp("handleKeyDown",t=>t(e,v(8,"Backspace")))){D&&T&&e.domObserver.suppressSelectionUpdates();return}T&&b.endB==b.start&&(e.input.lastChromeDelete=Date.now()),D&&!E&&x.start()!=w.start()&&0==w.parentOffset&&x.depth==w.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==b.endA&&(b.endB-=2,w=m.doc.resolveNoCache(b.endB-m.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,v(13,"Enter"))})},20));let P=b.start,N=b.endA,I=t=>{let n=t||e.state.tr.replace(P,N,m.doc.slice(b.start-m.from,b.endB-m.from));if(m.sel){let t=tB(e,n.doc,m.sel);t&&!(T&&e.composing&&t.empty&&(b.start!=b.endB||e.input.lastChromeDelete<Date.now()-100)&&(t.head==P||t.head==n.mapping.map(N)-1)||S&&t.empty&&t.head==P)&&n.setSelection(t)}return h&&n.setMeta("composition",h),n.scrollIntoView()};if(E){if(x.pos==w.pos){S&&C<=11&&0==x.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>ex(e),20));let t=I(e.state.tr.delete(P,N)),n=y.resolve(b.start).marksAcross(y.resolve(b.endA));n&&t.ensureMarks(n),e.dispatch(t)}else if(b.endA==b.endB&&(c=function(e,t){let n=e.firstChild.marks,i=t.firstChild.marks,s=n,a=i,o,l,u;for(let e=0;e<i.length;e++)s=i[e].removeFromSet(s);for(let e=0;e<n.length;e++)a=n[e].removeFromSet(a);if(1==s.length&&0==a.length)l=s[0],o="add",u=e=>e.mark(l.addToSet(e.marks));else{if(0!=s.length||1!=a.length)return null;l=a[0],o="remove",u=e=>e.mark(l.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(u(t.child(e)));if(r.HY.from(c).eq(e))return{mark:l,type:o}}(x.parent.content.cut(x.parentOffset,w.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start())))){let t=I(e.state.tr);"add"==c.type?t.addMark(P,N,c.mark):t.removeMark(P,N,c.mark),e.dispatch(t)}else if(x.parent.child(x.index()).isText&&x.index()==w.index()-(w.textOffset?0:1)){let t=x.parent.textBetween(x.parentOffset,w.parentOffset),n=()=>I(e.state.tr.insertText(t,P,N));e.someProp("handleTextInput",i=>i(e,P,N,t,n))||e.dispatch(n())}}else e.dispatch(I())})(this,e,t,n,s)),this.domObserver.start(),function(e){for(let t in eJ){let n=eJ[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||e4(e,t)||!e.editable&&t.type in e0||n(e,t)},e1[t]?{passive:!0}:void 0)}I&&e.dom.addEventListener("input",()=>null),e6(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;for(let t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&e6(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(tY),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];for(let n in t.state=this.state,e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var n,i,r;let s=this.state,o=!1,l=!1;e.storedMarks&&this.composing&&(tr(this),l=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=tW(this);(function(e,t){let n=0,i=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let e in t)i++;return n!=i})(e,this.nodeViews)&&(this.nodeViews=e,o=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&e6(this),this.editable=tH(this),tq(this);let c=tN(this),d=tU(this),p=s.plugins==e.plugins||s.doc.eq(e.doc)?e.scrollToSelection>s.scrollToSelection?"to selection":"preserve":"reset",g=o||!this.docView.matchesNode(e.doc,d,c);(g||!e.selection.eq(s.selection))&&(l=!0);let v="preserve"==p&&l&&null==this.dom.style.overflowAnchor&&function(e){let t,n,i=e.dom.getBoundingClientRect(),r=Math.max(0,i.top);for(let s=(i.left+i.right)/2,a=r+1;a<Math.min(innerHeight,i.bottom);a+=5){let i=e.root.elementFromPoint(s,a);if(!i||i==e.dom||!e.dom.contains(i))continue;let o=i.getBoundingClientRect();if(o.top>=r-20){t=i,n=o.top;break}}return{refDOM:t,refTop:n,stack:B(e.dom)}}(this);if(l){let t,n,l;this.domObserver.stop();let u=g&&(S||T)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&(i=s.selection,r=e.selection,l=Math.min(i.$anchor.sharedDepth(i.head),r.$anchor.sharedDepth(r.head)),i.$anchor.start(l)!=r.$anchor.start(l));if(g){let t=T?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=function(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=function(e,t){for(;;){if(3==e.nodeType&&t)return e;if(1==e.nodeType&&t>0){if("false"==e.contentEditable)return null;t=f(e=e.childNodes[t-1])}else{if(!e.parentNode||m(e))return null;t=a(e),e=e.parentNode}}}(t.focusNode,t.focusOffset),i=function(e,t){for(;;){if(3==e.nodeType&&t<e.nodeValue.length)return e;if(1==e.nodeType&&t<e.childNodes.length){if("false"==e.contentEditable)return null;e=e.childNodes[t],t=0}else{if(!e.parentNode||m(e))return null;t=a(e)+1,e=e.parentNode}}}(t.focusNode,t.focusOffset);if(n&&i&&n!=i){let t=i.pmViewDesc,r=e.domObserver.lastChangedTextNode;if(n==r||i==r)return r;if(!t||!t.isText(i.nodeValue))return i;if(e.input.compositionNode==i){let e=n.pmViewDesc;if(!(!e||!e.isText(n.nodeValue)))return i}}return n||i}(this)),(o||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=es(e.doc,d,c,this.dom,this)),t&&!this.trackWrites&&(u=!0)}u||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&(t=this.docView.domFromPos(this.state.selection.anchor,0),n=this.domSelectionRange(),h(t.node,t.offset,n.anchorNode,n.anchorOffset)))?ex(this,u):(eE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),(null===(n=this.dragging)||void 0===n?void 0:n.node)&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),"reset"==p?this.dom.scrollTop=0:"to selection"==p?this.scrollToSelection():v&&function({refDOM:e,refTop:t,stack:n}){let i=e?e.getBoundingClientRect().top:0;$(n,0==i?0:i-t)}(v)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(e&&this.dom.contains(1==e.nodeType?e:e.parentNode)){if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof i.qv){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&F(this,t.getBoundingClientRect(),e)}else F(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}updateDraggedNode(e,t){let n=e.node,r=-1;if(this.state.doc.nodeAt(n.from)==n.node)r=n.from;else{let e=n.from+(this.state.doc.content.size-t.doc.content.size);(e>0&&this.state.doc.nodeAt(e))==n.node&&(r=e)}this.dragging=new tu(e.slice,e.move,r<0?void 0:i.qv.create(this.state.doc,r))}someProp(e,t){let n=this._props&&this._props[e],i;if(null!=n&&(i=t?t(n):n))return i;for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n].props[e];if(null!=r&&(i=t?t(r):r))return i}let r=this.state.plugins;if(r)for(let n=0;n<r.length;n++){let s=r[n].props[e];if(null!=s&&(i=t?t(s):s))return i}}hasFocus(){if(S){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(z)return e.focus(z);let t=B(e);e.focus(null==z?{get preventScroll(){return z={preventScroll:!0},!0}}:void 0),z||(z=!1,$(t,0))}(this.dom),ex(this),this.domObserver.start()}get root(){let e=this._root;if(null==e){for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e}return e||document}updateRoot(){this._root=null}posAtCoords(e){return function(e,t){var n;let i,r,s=e.dom.ownerDocument,a,l=0,c=function(e,t,n){if(e.caretPositionFromPoint)try{let i=e.caretPositionFromPoint(t,n);if(i)return{node:i.offsetNode,offset:Math.min(f(i.offsetNode),i.offset)}}catch(e){}if(e.caretRangeFromPoint){let i=e.caretRangeFromPoint(t,n);if(i)return{node:i.startContainer,offset:Math.min(f(i.startContainer),i.startOffset)}}}(s,t.left,t.top);c&&({node:a,offset:l}=c);let h=(e.root.elementFromPoint?e.root:s).elementFromPoint(t.left,t.top);if(!h||!e.dom.contains(1!=h.nodeType?h.parentNode:h)){let n=e.dom.getBoundingClientRect();if(!j(t,n)||!(h=function e(t,n,i){let r=t.childNodes.length;if(r&&i.top<i.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(n.top-i.top)/(i.bottom-i.top))-2)),a=s;;){let i=t.childNodes[a];if(1==i.nodeType){let t=i.getClientRects();for(let r=0;r<t.length;r++){let s=t[r];if(j(n,s))return e(i,n,s)}}if((a=(a+1)%r)==s)break}return t}(e.dom,t,n)))return null}if(I)for(let e=h;a&&e;e=o(e))e.draggable&&(a=void 0);if(h=(i=(n=h).parentNode)&&/^li$/i.test(i.nodeName)&&t.left<n.getBoundingClientRect().left?i:n,a){let n;if(E&&1==a.nodeType&&(l=Math.min(l,a.childNodes.length))<a.childNodes.length){let e=a.childNodes[l],n;"IMG"==e.nodeName&&(n=e.getBoundingClientRect()).right<=t.left&&n.bottom>t.top&&l++}R&&l&&1==a.nodeType&&1==(n=a.childNodes[l-1]).nodeType&&"false"==n.contentEditable&&n.getBoundingClientRect().top>=t.top&&l--,a==e.dom&&l==a.childNodes.length-1&&1==a.lastChild.nodeType&&t.top>a.lastChild.getBoundingClientRect().bottom?r=e.state.doc.content.size:(0==l||1!=a.nodeType||"BR"!=a.childNodes[l-1].nodeName)&&(r=function(e,t,n,i){let r=-1;for(let n=t,s=!1;n!=e.dom;){let t=e.docView.nearestDesc(n,!0),a;if(!t)return null;if(1==t.dom.nodeType&&(t.node.isBlock&&t.parent||!t.contentDOM)&&((a=t.dom.getBoundingClientRect()).width||a.height)&&(t.node.isBlock&&t.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(t.dom.nodeName)&&(!s&&a.left>i.left||a.top>i.top?r=t.posBefore:(!s&&a.right<i.left||a.bottom<i.top)&&(r=t.posAfter),s=!0),!t.contentDOM&&r<0&&!t.node.isText))return(t.node.isBlock?i.top<(a.top+a.bottom)/2:i.left<(a.left+a.right)/2)?t.posBefore:t.posAfter;n=t.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n,-1)}(e,a,l,t))}null==r&&(r=function(e,t,n){let{node:i,offset:r}=function e(t,n){let i,r,s,a=2e8,o,l=0,c=n.top,h=n.top;for(let e=t.firstChild,d=0;e;e=e.nextSibling,d++){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=u(e).getClientRects()}for(let u=0;u<t.length;u++){let p=t[u];if(p.top<=c&&p.bottom>=h){c=Math.max(p.bottom,c),h=Math.min(p.top,h);let t=p.left>n.left?p.left-n.left:p.right<n.left?n.left-p.right:0;if(t<a){s=e,a=t,o=t&&3==s.nodeType?{left:p.right<n.left?p.right:p.left,top:n.top}:n,1==e.nodeType&&t&&(l=d+(n.left>=(p.left+p.right)/2?1:0));continue}}else p.top>n.top&&!i&&p.left<=n.left&&p.right>=n.left&&(i=e,r={left:Math.max(p.left,Math.min(p.right,n.left)),top:p.top});!s&&(n.left>=p.right&&n.top>=p.top||n.left>=p.left&&n.top>=p.bottom)&&(l=d+1)}}return(!s&&i&&(s=i,o=r,a=0),s&&3==s.nodeType)?function(e,t){let n=e.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(e,r+1),i.setStart(e,r);let n=q(i,1);if(n.top!=n.bottom&&j(t,n))return{node:e,offset:r+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(s,o):!s||a&&1==s.nodeType?{node:t,offset:l}:e(s,o)}(t,n),s=-1;if(1==i.nodeType&&!i.firstChild){let e=i.getBoundingClientRect();s=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(i,r,s)}(e,h,t));let d=e.docView.nearestDesc(h,!0);return{pos:r,inside:d?d.posAtStart-d.border:-1}}(this,e)}coordsAtPos(e,t=1){return W(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let i=this.docView.posFromDOM(e,t,n);if(null==i)throw RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){var n,i,r;let s,a;return n=this,i=t||this.state,r=e,Q==i&&Z==r?J:(Q=i,Z=r,J="up"==r||"down"==r?(s=i.selection,a="up"==r?s.$from:s.$to,K(n,i,()=>{let{node:e}=n.docView.domFromPos(a.pos,"up"==r?-1:1);for(;;){let t=n.docView.nearestDesc(e,!0);if(!t)break;if(t.node.isBlock){e=t.contentDOM||t.dom;break}e=t.dom.parentNode}let t=W(n,a.pos,1);for(let n=e.firstChild;n;n=n.nextSibling){let e;if(1==n.nodeType)e=n.getClientRects();else{if(3!=n.nodeType)continue;e=u(n,0,n.nodeValue.length).getClientRects()}for(let n=0;n<e.length;n++){let i=e[n];if(i.bottom>i.top+1&&("up"==r?t.top-i.top>(i.bottom-t.top)*2:i.bottom-t.bottom>(t.bottom-i.top)*2))return!1}}return!0})):function(e,t,n){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,s=r==i.parent.content.size,a=e.domSelection();return a?X.test(i.parent.textContent)&&a.modify?K(e,t,()=>{let{focusNode:t,focusOffset:r,anchorNode:s,anchorOffset:o}=e.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let u=i.depth?e.docView.domAfterPos(i.before()):e.dom,{focusNode:c,focusOffset:h}=e.domSelectionRange(),d=c&&!u.contains(1==c.nodeType?c:c.parentNode)||t==c&&r==h;try{a.collapse(s,o),t&&(t!=s||r!=o)&&a.extend&&a.extend(t,r)}catch(e){}return null!=l&&(a.caretBidiLevel=l),d}):"left"==n||"backward"==n?!r:s:i.pos==i.start()||i.pos==i.end()}(n,i,r))}pasteHTML(e,t){return to(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return to(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return eU(this,e)}destroy(){this.docView&&(!function(e){for(let t in e.domObserver.stop(),e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tN(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,c())}get isDestroyed(){return null==this.docView}dispatchEvent(e){e4(this,e)||!eJ[e.type]||!this.editable&&e.type in e0||eJ[e.type](this,e)}domSelectionRange(){let e=this.domSelection();return e?I&&11===this.root.nodeType&&function(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}(this.dom.ownerDocument)==this.dom&&function(e,t){let n;if(t.getComposedRanges){let n=t.getComposedRanges(e.root)[0];if(n)return tL(e,n)}function i(e){e.preventDefault(),e.stopImmediatePropagation(),n=e.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",i,!0),n?tL(e,n):null}(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function tU(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e?t.class+=" "+n[e]:"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),t.translate||(t.translate="no"),[tg.node(0,e.state.doc.content.size,t)]}function tq(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:tg.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function tH(e){return!e.someProp("editable",t=>!1===t(e.state))}function tW(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function tY(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw RangeError("Plugins passed directly to the view must not have a state component")}tj.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}},22756:function(e,t,n){"use strict";n.d(t,{hJX:function(){return r},ldW:function(){return s}});var i=n(16516);function r(e){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(e)}function s(e){return(0,i.w_)({tag:"svg",attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(e)}},51179:function(e,t,n){"use strict";n.d(t,{eI:function(){return tA},iU:function(){return tM},jA:function(){return eJ},kP:function(){return tN}});var i,r,s,a,o,l,u,c,h,d,p,f,m,g=n(74016),v=n(86457);if(666!=n.j)var y=n(21327);if(666!=n.j)var _=n(14284);var b=n(71388),x=n(84268),w=Object.defineProperty,k=(e,t)=>{for(var n in t)w(e,n,{get:t[n],enumerable:!0})};function S(e,{contentType:t,dataStreamVersion:n}){let i=new Headers(null!=e?e:{});return i.has("Content-Type")||i.set("Content-Type",t),void 0!==n&&i.set("X-Vercel-AI-Data-Stream",n),i}function C(e,{contentType:t,dataStreamVersion:n}){let i={};if(null!=e)for(let[t,n]of Object.entries(e))i[t]=n;return null==i["Content-Type"]&&(i["Content-Type"]=t),void 0!==n&&(i["X-Vercel-AI-Data-Stream"]=n),i}function E({response:e,status:t,statusText:n,headers:i,stream:r}){e.writeHead(null!=t?t:200,n,i);let s=r.getReader();(async()=>{try{for(;;){let{done:t,value:n}=await s.read();if(t)break;e.write(n)}}catch(e){throw e}finally{e.end()}})()}var P=class extends g.AX{constructor(){super({name:"AI_UnsupportedModelVersionError",message:'Unsupported model version. AI SDK 4 only supports models that implement specification version "v1". Please upgrade to AI SDK 5 to use this model.'})}},T="AI_InvalidArgumentError",N=`vercel.ai.error.${T}`,I=Symbol.for(N),M=class extends g.AX{constructor({parameter:e,value:t,message:n}){super({name:T,message:`Invalid argument for parameter ${e}: ${n}`}),this[i]=!0,this.parameter=e,this.value=t}static isInstance(e){return g.AX.hasMarker(e,N)}};i=I;var A="AI_RetryError",O=`vercel.ai.error.${A}`,D=Symbol.for(O),R=class extends g.AX{constructor({message:e,reason:t,errors:n}){super({name:A,message:e}),this[r]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return g.AX.hasMarker(e,O)}};r=D;var L=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2}={})=>async i=>V(i,{maxRetries:e,delayInMs:t,backoffFactor:n});async function V(e,{maxRetries:t,delayInMs:n,backoffFactor:i},r=[]){try{return await e()}catch(l){if((0,v.D_)(l)||0===t)throw l;let s=(0,v.e$)(l),a=[...r,l],o=a.length;if(o>t)throw new R({message:`Failed after ${o} attempts. Last error: ${s}`,reason:"maxRetriesExceeded",errors:a});if(l instanceof Error&&g.w.isInstance(l)&&!0===l.isRetryable&&o<=t)return await (0,v.gw)(n),V(e,{maxRetries:t,delayInMs:i*n,backoffFactor:i},a);if(1===o)throw l;throw new R({message:`Failed after ${o} attempts with non-retryable error: '${s}'`,reason:"errorNotRetryable",errors:a})}}function F({maxRetries:e}){if(null!=e){if(!Number.isInteger(e))throw new M({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new M({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}let t=null!=e?e:2;return{maxRetries:t,retry:L({maxRetries:t})}}function B({operationId:e,telemetry:t}){return{"operation.name":`${e}${(null==t?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":null==t?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":null==t?void 0:t.functionId}}function $({model:e,settings:t,telemetry:n,headers:i}){var r;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((e,[t,n])=>(e[`ai.settings.${t}`]=n,e),{}),...Object.entries(null!=(r=null==n?void 0:n.metadata)?r:{}).reduce((e,[t,n])=>(e[`ai.telemetry.metadata.${t}`]=n,e),{}),...Object.entries(null!=i?i:{}).reduce((e,[t,n])=>(void 0!==n&&(e[`ai.request.headers.${t}`]=n),e),{})}}var z={startSpan:()=>j,startActiveSpan:(e,t,n,i)=>"function"==typeof t?t(j):"function"==typeof n?n(j):"function"==typeof i?i(j):void 0},j={spanContext:()=>U,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this}},U={traceId:"",spanId:"",traceFlags:0};function q({isEnabled:e=!1,tracer:t}={}){return e?t||y.g.getTracer("ai"):z}function H({name:e,tracer:t,attributes:n,fn:i,endWhenDone:r=!0}){return t.startActiveSpan(e,{attributes:n},async e=>{try{let t=await i(e);return r&&e.end(),t}catch(t){try{W(e,t)}finally{e.end()}throw t}})}function W(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:_.Q.ERROR,message:t.message})):e.setStatus({code:_.Q.ERROR})}function Y({telemetry:e,attributes:t}){return(null==e?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((t,[n,i])=>{if(void 0===i)return t;if("object"==typeof i&&"input"in i&&"function"==typeof i.input){if((null==e?void 0:e.recordInputs)===!1)return t;let r=i.input();return void 0===r?t:{...t,[n]:r}}if("object"==typeof i&&"output"in i&&"function"==typeof i.output){if((null==e?void 0:e.recordOutputs)===!1)return t;let r=i.output();return void 0===r?t:{...t,[n]:r}}return{...t,[n]:i}},{})}Symbol.for("vercel.ai.error.AI_NoImageGeneratedError"),g.AX;var G=class{constructor({data:e,mimeType:t}){let n=e instanceof Uint8Array;this.base64Data=n?void 0:e,this.uint8ArrayData=n?e:void 0,this.mimeType=t}get base64(){return null==this.base64Data&&(this.base64Data=(0,v.k0)(this.uint8ArrayData)),this.base64Data}get uint8Array(){return null==this.uint8ArrayData&&(this.uint8ArrayData=(0,v.MS)(this.base64Data)),this.uint8ArrayData}},K=class extends G{constructor(e){super(e),this.type="file"}},X=[{mimeType:"image/gif",bytesPrefix:[71,73,70],base64Prefix:"R0lG"},{mimeType:"image/png",bytesPrefix:[137,80,78,71],base64Prefix:"iVBORw"},{mimeType:"image/jpeg",bytesPrefix:[255,216],base64Prefix:"/9j/"},{mimeType:"image/webp",bytesPrefix:[82,73,70,70],base64Prefix:"UklGRg"},{mimeType:"image/bmp",bytesPrefix:[66,77],base64Prefix:"Qk"},{mimeType:"image/tiff",bytesPrefix:[73,73,42,0],base64Prefix:"SUkqAA"},{mimeType:"image/tiff",bytesPrefix:[77,77,0,42],base64Prefix:"TU0AKg"},{mimeType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:"AAAAIGZ0eXBhdmlm"},{mimeType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:"AAAAIGZ0eXBoZWlj"}],Q=e=>{let t="string"==typeof e?(0,v.MS)(e):e,n=(127&t[6])<<21|(127&t[7])<<14|(127&t[8])<<7|127&t[9];return t.slice(n+10)},Z="AI_NoObjectGeneratedError",J=`vercel.ai.error.${Z}`,ee=Symbol.for(J),et=class extends g.AX{constructor({message:e="No object generated.",cause:t,text:n,response:i,usage:r,finishReason:a}){super({name:Z,message:e,cause:t}),this[s]=!0,this.text=n,this.response=i,this.usage=r,this.finishReason=a}static isInstance(e){return g.AX.hasMarker(e,J)}};s=ee;var en="AI_DownloadError",ei=`vercel.ai.error.${en}`,er=Symbol.for(ei),es=class extends g.AX{constructor({url:e,statusCode:t,statusText:n,cause:i,message:r=null==i?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${i}`}){super({name:en,message:r,cause:i}),this[a]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return g.AX.hasMarker(e,ei)}};async function ea({url:e}){var t;let n=e.toString();try{let e=await fetch(n);if(!e.ok)throw new es({url:n,statusCode:e.status,statusText:e.statusText});return{data:new Uint8Array(await e.arrayBuffer()),mimeType:null!=(t=e.headers.get("content-type"))?t:void 0}}catch(e){if(es.isInstance(e))throw e;throw new es({url:n,cause:e})}}a=er;var eo="AI_InvalidDataContentError",el=`vercel.ai.error.${eo}`,eu=Symbol.for(el),ec=class extends g.AX{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:eo,message:n,cause:t}),this[o]=!0,this.content=e}static isInstance(e){return g.AX.hasMarker(e,el)}};o=eu;var eh=b.G0([b.Z_(),b.Pp(Uint8Array),b.Pp(ArrayBuffer),b.PG(e=>{var t,n;return null!=(n=null==(t=globalThis.Buffer)?void 0:t.isBuffer(e))&&n},{message:"Must be a Buffer"})]);function ed(e){return"string"==typeof e?e:e instanceof ArrayBuffer?(0,v.k0)(new Uint8Array(e)):(0,v.k0)(e)}function ep(e){if(e instanceof Uint8Array)return e;if("string"==typeof e)try{return(0,v.MS)(e)}catch(t){throw new ec({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new ec({content:e})}var ef="AI_InvalidMessageRoleError",em=`vercel.ai.error.${ef}`,eg=Symbol.for(em),ev=class extends g.AX{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:ef,message:t}),this[l]=!0,this.role=e}static isInstance(e){return g.AX.hasMarker(e,em)}};async function ey({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:n=()=>!1,downloadImplementation:i=ea}){let r=await e_(e.messages,i,t,n);return[...null!=e.system?[{role:"system",content:e.system}]:[],...e.messages.map(e=>(function(e,t){var n,i,r,s,a,o;let l=e.role;switch(l){case"system":return{role:"system",content:e.content,providerMetadata:null!=(n=e.providerOptions)?n:e.experimental_providerMetadata};case"user":if("string"==typeof e.content)return{role:"user",content:[{type:"text",text:e.content}],providerMetadata:null!=(i=e.providerOptions)?i:e.experimental_providerMetadata};return{role:"user",content:e.content.map(e=>(function(e,t){var n,i,r,s;let a,o,l;if("text"===e.type)return{type:"text",text:e.text,providerMetadata:null!=(n=e.providerOptions)?n:e.experimental_providerMetadata};let u=e.mimeType,c=e.type;switch(c){case"image":a=e.image;break;case"file":a=e.data;break;default:throw Error(`Unsupported part type: ${c}`)}try{o="string"==typeof a?new URL(a):a}catch(e){o=a}if(o instanceof URL){if("data:"===o.protocol){let{mimeType:e,base64Content:t}=function(e){try{let[t,n]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:n}}catch(e){return{mimeType:void 0,base64Content:void 0}}}(o.toString());if(null==e||null==t)throw Error(`Invalid data URL format in part ${c}`);u=e,l=ep(t)}else{let e=t[o.toString()];e?(l=e.data,null!=u||(u=e.mimeType)):l=o}}else l=ep(o);switch(c){case"image":return l instanceof Uint8Array&&(u=null!=(i=function({data:e,signatures:t}){let n="string"==typeof e&&e.startsWith("SUQz")||"string"!=typeof e&&e.length>10&&73===e[0]&&68===e[1]&&51===e[2]?Q(e):e;for(let e of t)if("string"==typeof n?n.startsWith(e.base64Prefix):n.length>=e.bytesPrefix.length&&e.bytesPrefix.every((e,t)=>n[t]===e))return e.mimeType}({data:l,signatures:X}))?i:u),{type:"image",image:l,mimeType:u,providerMetadata:null!=(r=e.providerOptions)?r:e.experimental_providerMetadata};case"file":if(null==u)throw Error("Mime type is missing for file part");return{type:"file",data:l instanceof Uint8Array?ed(l):l,filename:e.filename,mimeType:u,providerMetadata:null!=(s=e.providerOptions)?s:e.experimental_providerMetadata}}})(e,t)).filter(e=>"text"!==e.type||""!==e.text),providerMetadata:null!=(r=e.providerOptions)?r:e.experimental_providerMetadata};case"assistant":if("string"==typeof e.content)return{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:null!=(s=e.providerOptions)?s:e.experimental_providerMetadata};return{role:"assistant",content:e.content.filter(e=>"text"!==e.type||""!==e.text).map(e=>{var t;let n=null!=(t=e.providerOptions)?t:e.experimental_providerMetadata;switch(e.type){case"file":return{type:"file",data:e.data instanceof URL?e.data:ed(e.data),filename:e.filename,mimeType:e.mimeType,providerMetadata:n};case"reasoning":return{type:"reasoning",text:e.text,signature:e.signature,providerMetadata:n};case"redacted-reasoning":return{type:"redacted-reasoning",data:e.data,providerMetadata:n};case"text":return{type:"text",text:e.text,providerMetadata:n};case"tool-call":return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,args:e.args,providerMetadata:n}}}),providerMetadata:null!=(a=e.providerOptions)?a:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(e=>{var t;return{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result,content:e.experimental_content,isError:e.isError,providerMetadata:null!=(t=e.providerOptions)?t:e.experimental_providerMetadata}}),providerMetadata:null!=(o=e.providerOptions)?o:e.experimental_providerMetadata};default:throw new ev({role:l})}})(e,r))]}async function e_(e,t,n,i){let r=e.filter(e=>"user"===e.role).map(e=>e.content).filter(e=>Array.isArray(e)).flat().filter(e=>"image"===e.type||"file"===e.type).filter(e=>!("image"===e.type&&!0===n)).map(e=>"image"===e.type?e.image:e.data).map(e=>"string"==typeof e&&(e.startsWith("http:")||e.startsWith("https:"))?new URL(e):e).filter(e=>e instanceof URL).filter(e=>!i(e));return Object.fromEntries((await Promise.all(r.map(async e=>({url:e,data:await t({url:e})})))).map(({url:e,data:t})=>[e.toString(),t]))}function eb({maxTokens:e,temperature:t,topP:n,topK:i,presencePenalty:r,frequencyPenalty:s,stopSequences:a,seed:o}){if(null!=e){if(!Number.isInteger(e))throw new M({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new M({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(null!=t&&"number"!=typeof t)throw new M({parameter:"temperature",value:t,message:"temperature must be a number"});if(null!=n&&"number"!=typeof n)throw new M({parameter:"topP",value:n,message:"topP must be a number"});if(null!=i&&"number"!=typeof i)throw new M({parameter:"topK",value:i,message:"topK must be a number"});if(null!=r&&"number"!=typeof r)throw new M({parameter:"presencePenalty",value:r,message:"presencePenalty must be a number"});if(null!=s&&"number"!=typeof s)throw new M({parameter:"frequencyPenalty",value:s,message:"frequencyPenalty must be a number"});if(null!=o&&!Number.isInteger(o))throw new M({parameter:"seed",value:o,message:"seed must be an integer"});return{maxTokens:e,temperature:null!=t?t:0,topP:n,topK:i,presencePenalty:r,frequencyPenalty:s,stopSequences:null!=a&&a.length>0?a:void 0,seed:o}}function ex(e){var t,n,i;let r=[];for(let s of e){let e;try{e=new URL(s.url)}catch(e){throw Error(`Invalid URL: ${s.url}`)}switch(e.protocol){case"http:":case"https:":if(null==(t=s.contentType)?void 0:t.startsWith("image/"))r.push({type:"image",image:e});else{if(!s.contentType)throw Error("If the attachment is not an image, it must specify a content type");r.push({type:"file",data:e,mimeType:s.contentType})}break;case"data:":{let e,t,a;try{[e,t]=s.url.split(","),a=e.split(";")[0].split(":")[1]}catch(e){throw Error(`Error processing data URL: ${s.url}`)}if(null==a||null==t)throw Error(`Invalid data URL format: ${s.url}`);if(null==(n=s.contentType)?void 0:n.startsWith("image/"))r.push({type:"image",image:ep(t)});else if(null==(i=s.contentType)?void 0:i.startsWith("text/"))r.push({type:"text",text:function(e){try{return new TextDecoder().decode(e)}catch(e){throw Error("Error decoding Uint8Array to text")}}(ep(t))});else{if(!s.contentType)throw Error("If the attachment is not an image or text, it must specify a content type");r.push({type:"file",data:t,mimeType:s.contentType})}break}default:throw Error(`Unsupported URL protocol: ${e.protocol}`)}}return r}l=eg;var ew="AI_MessageConversionError",ek=`vercel.ai.error.${ew}`,eS=Symbol.for(ek),eC=class extends g.AX{constructor({originalMessage:e,message:t}){super({name:ew,message:t}),this[u]=!0,this.originalMessage=e}static isInstance(e){return g.AX.hasMarker(e,ek)}};u=eS;var eE=b.Vo(()=>b.G0([b.lB(),b.Z_(),b.Rx(),b.O7(),b.IM(b.Z_(),eE),b.IX(eE)])),eP=b.IM(b.Z_(),b.IM(b.Z_(),eE)),eT=b.IX(b.G0([b.Ry({type:b.i0("text"),text:b.Z_()}),b.Ry({type:b.i0("image"),data:b.Z_(),mimeType:b.Z_().optional()})])),eN=b.Ry({type:b.i0("text"),text:b.Z_(),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eI=b.Ry({type:b.i0("image"),image:b.G0([eh,b.Pp(URL)]),mimeType:b.Z_().optional(),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eM=b.Ry({type:b.i0("file"),data:b.G0([eh,b.Pp(URL)]),filename:b.Z_().optional(),mimeType:b.Z_(),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eA=b.Ry({type:b.i0("reasoning"),text:b.Z_(),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eO=b.Ry({type:b.i0("redacted-reasoning"),data:b.Z_(),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eD=b.Ry({type:b.i0("tool-call"),toolCallId:b.Z_(),toolName:b.Z_(),args:b._4(),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eR=b.Ry({type:b.i0("tool-result"),toolCallId:b.Z_(),toolName:b.Z_(),result:b._4(),content:eT.optional(),isError:b.O7().optional(),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eL=b.Ry({role:b.i0("system"),content:b.Z_(),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eV=b.Ry({role:b.i0("user"),content:b.G0([b.Z_(),b.IX(b.G0([eN,eI,eM]))]),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eF=b.Ry({role:b.i0("assistant"),content:b.G0([b.Z_(),b.IX(b.G0([eN,eM,eA,eO,eD]))]),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),eB=b.Ry({role:b.i0("tool"),content:b.IX(eR),providerOptions:eP.optional(),experimental_providerMetadata:eP.optional()}),e$=b.G0([eL,eV,eF,eB]);function ez({prompt:e,tools:t}){if(null==e.prompt&&null==e.messages)throw new g.Mt({prompt:e,message:"prompt or messages must be defined"});if(null!=e.prompt&&null!=e.messages)throw new g.Mt({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(null!=e.system&&"string"!=typeof e.system)throw new g.Mt({prompt:e,message:"system must be a string"});if(null!=e.prompt){if("string"!=typeof e.prompt)throw new g.Mt({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(null!=e.messages){let n="ui-messages"===function(e){if(!Array.isArray(e))throw new g.Mt({prompt:e,message:`messages must be an array of CoreMessage or UIMessage
Received non-array value: ${JSON.stringify(e)}`,cause:e});if(0===e.length)return"messages";let t=e.map(ej);if(t.some(e=>"has-ui-specific-parts"===e))return"ui-messages";let n=t.findIndex(e=>"has-core-specific-parts"!==e&&"message"!==e);if(-1===n)return"messages";throw new g.Mt({prompt:e,message:`messages must be an array of CoreMessage or UIMessage
Received message of type: "${t[n]}" at index ${n}
messages[${n}]: ${JSON.stringify(e[n])}`,cause:e})}(e.messages)?function(e,t){var n,i;let r=null!=(n=null==t?void 0:t.tools)?n:{},s=[];for(let t=0;t<e.length;t++){let n=e[t],a=t===e.length-1,{role:o,content:l,experimental_attachments:u}=n;switch(o){case"system":s.push({role:"system",content:l});break;case"user":if(null==n.parts)s.push({role:"user",content:u?[{type:"text",text:l},...ex(u)]:l});else{let e=n.parts.filter(e=>"text"===e.type).map(e=>({type:"text",text:e.text}));s.push({role:"user",content:u?[...e,...ex(u)]:e})}break;case"assistant":{if(null!=n.parts){let e=function(){let e=[];for(let t of o)switch(t.type){case"file":case"text":e.push(t);break;case"reasoning":for(let n of t.details)switch(n.type){case"text":e.push({type:"reasoning",text:n.text,signature:n.signature});break;case"redacted":e.push({type:"redacted-reasoning",data:n.data})}break;case"tool-invocation":e.push({type:"tool-call",toolCallId:t.toolInvocation.toolCallId,toolName:t.toolInvocation.toolName,args:t.toolInvocation.args});break;default:throw Error(`Unsupported part: ${t}`)}s.push({role:"assistant",content:e});let i=o.filter(e=>"tool-invocation"===e.type).map(e=>e.toolInvocation);i.length>0&&s.push({role:"tool",content:i.map(e=>{if(!("result"in e))throw new eC({originalMessage:n,message:"ToolInvocation must have a result: "+JSON.stringify(e)});let{toolCallId:t,toolName:i,result:s}=e,a=r[i];return(null==a?void 0:a.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:t,toolName:i,result:a.experimental_toToolResultContent(s),experimental_content:a.experimental_toToolResultContent(s)}:{type:"tool-result",toolCallId:t,toolName:i,result:s}})}),o=[],a=!1,t++},t=0,a=!1,o=[];for(let r of n.parts)switch(r.type){case"text":a&&e(),o.push(r);break;case"file":case"reasoning":o.push(r);break;case"tool-invocation":(null!=(i=r.toolInvocation.step)?i:0)!==t&&e(),o.push(r),a=!0}e();break}let e=n.toolInvocations;if(null==e||0===e.length){s.push({role:"assistant",content:l});break}let t=e.reduce((e,t)=>{var n;return Math.max(e,null!=(n=t.step)?n:0)},0);for(let i=0;i<=t;i++){let t=e.filter(e=>{var t;return(null!=(t=e.step)?t:0)===i});0!==t.length&&(s.push({role:"assistant",content:[...a&&l&&0===i?[{type:"text",text:l}]:[],...t.map(({toolCallId:e,toolName:t,args:n})=>({type:"tool-call",toolCallId:e,toolName:t,args:n}))]}),s.push({role:"tool",content:t.map(e=>{if(!("result"in e))throw new eC({originalMessage:n,message:"ToolInvocation must have a result: "+JSON.stringify(e)});let{toolCallId:t,toolName:i,result:s}=e,a=r[i];return(null==a?void 0:a.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:t,toolName:i,result:a.experimental_toToolResultContent(s),experimental_content:a.experimental_toToolResultContent(s)}:{type:"tool-result",toolCallId:t,toolName:i,result:s}})}))}l&&!a&&s.push({role:"assistant",content:l});break}case"data":break;default:throw new eC({originalMessage:n,message:`Unsupported role: ${o}`})}}return s}(e.messages,{tools:t}):e.messages;if(0===n.length)throw new g.Mt({prompt:e,message:"messages must not be empty"});let i=(0,v.pW)({value:n,schema:b.IX(e$)});if(!i.success)throw new g.Mt({prompt:e,message:`message must be a CoreMessage or a UI message
Validation error: ${i.error.message}`,cause:i.error});return{type:"messages",messages:n,system:e.system}}throw Error("unreachable")}function ej(e){return"object"==typeof e&&null!==e&&("function"===e.role||"data"===e.role||"toolInvocations"in e||"parts"in e||"experimental_attachments"in e)?"has-ui-specific-parts":"object"==typeof e&&null!==e&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":"object"==typeof e&&null!==e&&"role"in e&&"content"in e&&"string"==typeof e.content&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function eU({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function eq({prompt:e,schema:t,schemaPrefix:n=null!=t?"JSON schema:":void 0,schemaSuffix:i=null!=t?"You MUST answer with a JSON object that matches the JSON schema above.":"You MUST answer with JSON."}){return[null!=e&&e.length>0?e:void 0,null!=e&&e.length>0?"":void 0,n,null!=t?JSON.stringify(t):void 0,i].filter(e=>null!=e).join("\n")}function eH(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{let e=t.getReader();return{async next(){let{done:t,value:n}=await e.read();return t?{done:!0,value:void 0}:{done:!1,value:n}}}},t}var eW={type:"no-schema",jsonSchema:void 0,validatePartialResult:({value:e,textDelta:t})=>({success:!0,value:{partial:e,textDelta:t}}),validateFinalResult:(e,t)=>void 0===e?{success:!1,error:new et({message:"No object generated: response did not match schema.",text:t.text,response:t.response,usage:t.usage,finishReason:t.finishReason})}:{success:!0,value:e},createElementStream(){throw new g.A_({functionality:"element streams in no-schema mode"})}},eY=e=>({type:"object",jsonSchema:e.jsonSchema,validatePartialResult:({value:e,textDelta:t})=>({success:!0,value:{partial:e,textDelta:t}}),validateFinalResult:t=>(0,v.pW)({value:t,schema:e}),createElementStream(){throw new g.A_({functionality:"element streams in object mode"})}}),eG=e=>{let{$schema:t,...n}=e.jsonSchema;return{type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:n}},required:["elements"],additionalProperties:!1},validatePartialResult({value:t,latestObject:n,isFirstDelta:i,isFinalDelta:r}){var s;if(!(0,g.wA)(t)||!(0,g._d)(t.elements))return{success:!1,error:new g.Gz({value:t,cause:"value must be an object that contains an array of elements"})};let a=t.elements,o=[];for(let t=0;t<a.length;t++){let n=a[t],i=(0,v.pW)({value:n,schema:e});if(t!==a.length-1||r){if(!i.success)return i;o.push(i.value)}}let l=null!=(s=null==n?void 0:n.length)?s:0,u="";return i&&(u+="["),l>0&&(u+=","),u+=o.slice(l).map(e=>JSON.stringify(e)).join(","),r&&(u+="]"),{success:!0,value:{partial:o,textDelta:u}}},validateFinalResult(t){if(!(0,g.wA)(t)||!(0,g._d)(t.elements))return{success:!1,error:new g.Gz({value:t,cause:"value must be an object that contains an array of elements"})};let n=t.elements;for(let t of n){let n=(0,v.pW)({value:t,schema:e});if(!n.success)return n}return{success:!0,value:n}},createElementStream(e){let t=0;return eH(e.pipeThrough(new TransformStream({transform(e,n){switch(e.type){case"object":{let i=e.object;for(;t<i.length;t++)n.enqueue(i[t]);break}case"text-delta":case"finish":case"error":break;default:throw Error(`Unsupported chunk type: ${e}`)}}})))}}},eK=e=>({type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},validateFinalResult(t){if(!(0,g.wA)(t)||"string"!=typeof t.result)return{success:!1,error:new g.Gz({value:t,cause:'value must be an object that contains a string in the "result" property.'})};let n=t.result;return e.includes(n)?{success:!0,value:n}:{success:!1,error:new g.Gz({value:t,cause:"value must be a string in the enum"})}},validatePartialResult(){throw new g.A_({functionality:"partial results in enum mode"})},createElementStream(){throw new g.A_({functionality:"element streams in enum mode"})}});function eX(e){return JSON.stringify(e.map(e=>({...e,content:"string"==typeof e.content?e.content:e.content.map(eQ)})))}function eQ(e){return"image"===e.type?{...e,image:e.image instanceof Uint8Array?ed(e.image):e.image}:e}var eZ=(0,v.bF)({prefix:"aiobj",size:24});async function eJ({model:e,enum:t,schema:n,schemaName:i,schemaDescription:r,mode:s,output:a="object",system:o,prompt:l,messages:u,maxRetries:c,abortSignal:h,headers:d,experimental_repairText:p,experimental_telemetry:f,experimental_providerMetadata:m,providerOptions:y=m,_internal:{generateId:_=eZ,currentDate:b=()=>new Date}={},...w}){if("string"==typeof e||"v1"!==e.specificationVersion)throw new P;!function({output:e,mode:t,schema:n,schemaName:i,schemaDescription:r,enumValues:s}){if(null!=e&&"object"!==e&&"array"!==e&&"enum"!==e&&"no-schema"!==e)throw new M({parameter:"output",value:e,message:"Invalid output type."});if("no-schema"===e){if("auto"===t||"tool"===t)throw new M({parameter:"mode",value:t,message:'Mode must be "json" for no-schema output.'});if(null!=n)throw new M({parameter:"schema",value:n,message:"Schema is not supported for no-schema output."});if(null!=r)throw new M({parameter:"schemaDescription",value:r,message:"Schema description is not supported for no-schema output."});if(null!=i)throw new M({parameter:"schemaName",value:i,message:"Schema name is not supported for no-schema output."});if(null!=s)throw new M({parameter:"enumValues",value:s,message:"Enum values are not supported for no-schema output."})}if("object"===e){if(null==n)throw new M({parameter:"schema",value:n,message:"Schema is required for object output."});if(null!=s)throw new M({parameter:"enumValues",value:s,message:"Enum values are not supported for object output."})}if("array"===e){if(null==n)throw new M({parameter:"schema",value:n,message:"Element schema is required for array output."});if(null!=s)throw new M({parameter:"enumValues",value:s,message:"Enum values are not supported for array output."})}if("enum"===e){if(null!=n)throw new M({parameter:"schema",value:n,message:"Schema is not supported for enum output."});if(null!=r)throw new M({parameter:"schemaDescription",value:r,message:"Schema description is not supported for enum output."});if(null!=i)throw new M({parameter:"schemaName",value:i,message:"Schema name is not supported for enum output."});if(null==s)throw new M({parameter:"enumValues",value:s,message:"Enum values are required for enum output."});for(let e of s)if("string"!=typeof e)throw new M({parameter:"enumValues",value:e,message:"Enum values must be strings."})}}({output:a,mode:s,schema:n,schemaName:i,schemaDescription:r,enumValues:t});let{maxRetries:k,retry:S}=F({maxRetries:c}),C=function({output:e,schema:t,enumValues:n}){switch(e){case"object":return eY((0,x.C3)(t));case"array":return eG((0,x.C3)(t));case"enum":return eK(n);case"no-schema":return eW;default:throw Error(`Unsupported output: ${e}`)}}({output:a,schema:n,enumValues:t});"no-schema"===C.type&&void 0===s&&(s="json");let E=$({model:e,telemetry:f,headers:d,settings:{...w,maxRetries:k}}),T=q(f);return H({name:"ai.generateObject",attributes:Y({telemetry:f,attributes:{...B({operationId:"ai.generateObject",telemetry:f}),...E,"ai.prompt":{input:()=>JSON.stringify({system:o,prompt:l,messages:u})},"ai.schema":null!=C.jsonSchema?{input:()=>JSON.stringify(C.jsonSchema)}:void 0,"ai.schema.name":i,"ai.schema.description":r,"ai.settings.output":C.type,"ai.settings.mode":s}}),tracer:T,fn:async t=>{var n,a,c,m;let x,k,P,N,I,M,A,O,D,R;switch(("auto"===s||null==s)&&(s=e.defaultObjectGenerationMode),s){case"json":{let t=ez({prompt:{system:null==C.jsonSchema?eq({prompt:o}):e.supportsStructuredOutputs?o:eq({prompt:o,schema:C.jsonSchema}),prompt:l,messages:u},tools:void 0}),c=await ey({prompt:t,modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:null==(n=e.supportsUrl)?void 0:n.bind(e)}),p=await S(()=>H({name:"ai.generateObject.doGenerate",attributes:Y({telemetry:f,attributes:{...B({operationId:"ai.generateObject.doGenerate",telemetry:f}),...E,"ai.prompt.format":{input:()=>t.type},"ai.prompt.messages":{input:()=>JSON.stringify(c)},"ai.settings.mode":s,"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":w.frequencyPenalty,"gen_ai.request.max_tokens":w.maxTokens,"gen_ai.request.presence_penalty":w.presencePenalty,"gen_ai.request.temperature":w.temperature,"gen_ai.request.top_k":w.topK,"gen_ai.request.top_p":w.topP}}),tracer:T,fn:async n=>{var s,a,o,l,u,p;let m=await e.doGenerate({mode:{type:"object-json",schema:C.jsonSchema,name:i,description:r},...eb(w),inputFormat:t.type,prompt:c,providerMetadata:y,abortSignal:h,headers:d}),g={id:null!=(a=null==(s=m.response)?void 0:s.id)?a:_(),timestamp:null!=(l=null==(o=m.response)?void 0:o.timestamp)?l:b(),modelId:null!=(p=null==(u=m.response)?void 0:u.modelId)?p:e.modelId};if(void 0===m.text)throw new et({message:"No object generated: the model did not return a response.",response:g,usage:eU(m.usage),finishReason:m.finishReason});return n.setAttributes(Y({telemetry:f,attributes:{"ai.response.finishReason":m.finishReason,"ai.response.object":{output:()=>m.text},"ai.response.id":g.id,"ai.response.model":g.modelId,"ai.response.timestamp":g.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(m.providerMetadata),"ai.usage.promptTokens":m.usage.promptTokens,"ai.usage.completionTokens":m.usage.completionTokens,"gen_ai.response.finish_reasons":[m.finishReason],"gen_ai.response.id":g.id,"gen_ai.response.model":g.modelId,"gen_ai.usage.prompt_tokens":m.usage.promptTokens,"gen_ai.usage.completion_tokens":m.usage.completionTokens}})),{...m,objectText:m.text,responseData:g}}}));x=p.objectText,k=p.finishReason,P=p.usage,N=p.warnings,I=p.rawResponse,O=p.logprobs,D=p.providerMetadata,A=null!=(a=p.request)?a:{},M=p.responseData;break}case"tool":{let t=ez({prompt:{system:o,prompt:l,messages:u},tools:void 0}),n=await ey({prompt:t,modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:null==(c=e.supportsUrl)?void 0:c.bind(e)}),a=t.type,p=await S(()=>H({name:"ai.generateObject.doGenerate",attributes:Y({telemetry:f,attributes:{...B({operationId:"ai.generateObject.doGenerate",telemetry:f}),...E,"ai.prompt.format":{input:()=>a},"ai.prompt.messages":{input:()=>eX(n)},"ai.settings.mode":s,"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":w.frequencyPenalty,"gen_ai.request.max_tokens":w.maxTokens,"gen_ai.request.presence_penalty":w.presencePenalty,"gen_ai.request.temperature":w.temperature,"gen_ai.request.top_k":w.topK,"gen_ai.request.top_p":w.topP}}),tracer:T,fn:async t=>{var s,o,l,u,c,p,m,g;let v=await e.doGenerate({mode:{type:"object-tool",tool:{type:"function",name:null!=i?i:"json",description:null!=r?r:"Respond with a JSON object.",parameters:C.jsonSchema}},...eb(w),inputFormat:a,prompt:n,providerMetadata:y,abortSignal:h,headers:d}),x=null==(o=null==(s=v.toolCalls)?void 0:s[0])?void 0:o.args,k={id:null!=(u=null==(l=v.response)?void 0:l.id)?u:_(),timestamp:null!=(p=null==(c=v.response)?void 0:c.timestamp)?p:b(),modelId:null!=(g=null==(m=v.response)?void 0:m.modelId)?g:e.modelId};if(void 0===x)throw new et({message:"No object generated: the tool was not called.",response:k,usage:eU(v.usage),finishReason:v.finishReason});return t.setAttributes(Y({telemetry:f,attributes:{"ai.response.finishReason":v.finishReason,"ai.response.object":{output:()=>x},"ai.response.id":k.id,"ai.response.model":k.modelId,"ai.response.timestamp":k.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(v.providerMetadata),"ai.usage.promptTokens":v.usage.promptTokens,"ai.usage.completionTokens":v.usage.completionTokens,"gen_ai.response.finish_reasons":[v.finishReason],"gen_ai.response.id":k.id,"gen_ai.response.model":k.modelId,"gen_ai.usage.input_tokens":v.usage.promptTokens,"gen_ai.usage.output_tokens":v.usage.completionTokens}})),{...v,objectText:x,responseData:k}}}));x=p.objectText,k=p.finishReason,P=p.usage,N=p.warnings,I=p.rawResponse,O=p.logprobs,D=p.providerMetadata,A=null!=(m=p.request)?m:{},M=p.responseData;break}case void 0:throw Error("Model does not have a default object generation mode.");default:{let e=s;throw Error(`Unsupported mode: ${e}`)}}function L(e){let t=(0,v.NX)({text:e});if(!t.success)throw new et({message:"No object generated: could not parse the response.",cause:t.error,text:e,response:M,usage:eU(P),finishReason:k});let n=C.validateFinalResult(t.value,{text:e,response:M,usage:eU(P)});if(!n.success)throw new et({message:"No object generated: response did not match schema.",cause:n.error,text:e,response:M,usage:eU(P),finishReason:k});return n.value}try{R=L(x)}catch(e){if(null!=p&&et.isInstance(e)&&(g.xU.isInstance(e.cause)||g.Gz.isInstance(e.cause))){let t=await p({text:x,error:e.cause});if(null===t)throw e;R=L(t)}else throw e}return t.setAttributes(Y({telemetry:f,attributes:{"ai.response.finishReason":k,"ai.response.object":{output:()=>JSON.stringify(R)},"ai.usage.promptTokens":P.promptTokens,"ai.usage.completionTokens":P.completionTokens}})),new e0({object:R,finishReason:k,usage:eU(P),warnings:N,request:A,response:{...M,headers:null==I?void 0:I.headers,body:null==I?void 0:I.body},logprobs:O,providerMetadata:D})}})}var e0=class{constructor(e){this.object=e.object,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.providerMetadata=e.providerMetadata,this.experimental_providerMetadata=e.providerMetadata,this.response=e.response,this.request=e.request,this.logprobs=e.logprobs}toJsonResponse(e){var t;return new Response(JSON.stringify(this.object),{status:null!=(t=null==e?void 0:e.status)?t:200,headers:S(null==e?void 0:e.headers,{contentType:"application/json; charset=utf-8"})})}},e1=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise||(this.promise=new Promise((e,t)=>{"resolved"===this.status.type?e(this.status.value):"rejected"===this.status.type&&t(this.status.error),this._resolve=e,this._reject=t})),this.promise}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&(null==(t=this._resolve)||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&(null==(t=this._reject)||t.call(this,e))}};function e2(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}function e3(){var e,t;return null!=(t=null==(e=null==globalThis?void 0:globalThis.performance)?void 0:e.now())?t:Date.now()}(0,v.bF)({prefix:"aiobj",size:24});var e6="AI_NoOutputSpecifiedError",e4=`vercel.ai.error.${e6}`,e5=Symbol.for(e4),e8=class extends g.AX{constructor({message:e="No output specified."}={}){super({name:e6,message:e}),this[c]=!0}static isInstance(e){return g.AX.hasMarker(e,e4)}};c=e5;var e9="AI_ToolExecutionError",e7=`vercel.ai.error.${e9}`,te=Symbol.for(e7),tt=class extends g.AX{constructor({toolArgs:e,toolName:t,toolCallId:n,cause:i,message:r=`Error executing tool ${t}: ${(0,g.e$)(i)}`}){super({name:e9,message:r,cause:i}),this[h]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=n}static isInstance(e){return g.AX.hasMarker(e,e7)}};h=te;var tn=/^([\s\S]*?)(\s+)(\S*)$/,ti="AI_InvalidToolArgumentsError",tr=`vercel.ai.error.${ti}`,ts=Symbol.for(tr),ta=class extends g.AX{constructor({toolArgs:e,toolName:t,cause:n,message:i=`Invalid arguments for tool ${t}: ${(0,g.e$)(n)}`}){super({name:ti,message:i,cause:n}),this[d]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return g.AX.hasMarker(e,tr)}};d=ts;var to="AI_NoSuchToolError",tl=`vercel.ai.error.${to}`,tu=Symbol.for(tl),tc=class extends g.AX{constructor({toolName:e,availableTools:t,message:n=`Model tried to call unavailable tool '${e}'. ${void 0===t?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:to,message:n}),this[p]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return g.AX.hasMarker(e,tl)}};p=tu;var th="AI_ToolCallRepairError",td=`vercel.ai.error.${th}`,tp=Symbol.for(td),tf=class extends g.AX{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${(0,g.e$)(e)}`}){super({name:th,message:n,cause:e}),this[f]=!0,this.originalError=t}static isInstance(e){return g.AX.hasMarker(e,td)}};async function tm({toolCall:e,tools:t,repairToolCall:n,system:i,messages:r}){if(null==t)throw new tc({toolName:e.toolName});try{return await tg({toolCall:e,tools:t})}catch(a){if(null==n||!(tc.isInstance(a)||ta.isInstance(a)))throw a;let s=null;try{s=await n({toolCall:e,tools:t,parameterSchema:({toolName:e})=>(0,x.C3)(t[e].parameters).jsonSchema,system:i,messages:r,error:a})}catch(e){throw new tf({cause:e,originalError:a})}if(null==s)throw a;return await tg({toolCall:s,tools:t})}}async function tg({toolCall:e,tools:t}){let n=e.toolName,i=t[n];if(null==i)throw new tc({toolName:e.toolName,availableTools:Object.keys(t)});let r=(0,x.C3)(i.parameters),s=""===e.args.trim()?(0,v.pW)({value:{},schema:r}):(0,v.NX)({text:e.args,schema:r});if(!1===s.success)throw new ta({toolName:n,toolArgs:e.args,cause:s.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:n,args:s.value}}function tv({text:e="",files:t,reasoning:n,tools:i,toolCalls:r,toolResults:s,messageId:a,generateMessageId:o}){let l=[],u=[];return n.length>0&&u.push(...n.map(e=>"text"===e.type?{...e,type:"reasoning"}:{...e,type:"redacted-reasoning"})),t.length>0&&u.push(...t.map(e=>({type:"file",data:e.base64,mimeType:e.mimeType}))),e.length>0&&u.push({type:"text",text:e}),r.length>0&&u.push(...r),u.length>0&&l.push({role:"assistant",content:u,id:a}),s.length>0&&l.push({role:"tool",id:o(),content:s.map(e=>{let t=i[e.toolName];return(null==t?void 0:t.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:t.experimental_toToolResultContent(e.result),experimental_content:t.experimental_toToolResultContent(e.result)}:{type:"tool-result",toolCallId:e.toolCallId,toolName:e.toolName,result:e.result}})}),l}f=tp,(0,v.bF)({prefix:"aitxt",size:24}),(0,v.bF)({prefix:"msg",size:24}),k({},{object:()=>tk,text:()=>tw});var ty="AI_InvalidStreamPartError",t_=`vercel.ai.error.${ty}`,tb=Symbol.for(t_),tx=class extends g.AX{constructor({chunk:e,message:t}){super({name:ty,message:t}),this[m]=!0,this.chunk=e}static isInstance(e){return g.AX.hasMarker(e,t_)}};m=tb,Symbol.for("vercel.ai.error.AI_MCPClientError"),g.AX;var tw=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt:({system:e})=>e,parsePartial:({text:e})=>({partial:e}),parseOutput:({text:e})=>e}),tk=({schema:e})=>{let t=(0,x.C3)(e);return{type:"object",responseFormat:({model:e})=>({type:"json",schema:e.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt:({system:e,model:n})=>n.supportsStructuredOutputs?e:eq({prompt:e,schema:t.jsonSchema}),parsePartial({text:e}){let t=(0,x.gP)(e);switch(t.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:t.value};default:{let e=t.state;throw Error(`Unsupported parse state: ${e}`)}}},parseOutput({text:e},n){let i=(0,v.NX)({text:e});if(!i.success)throw new et({message:"No object generated: could not parse the response.",cause:i.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});let r=(0,v.pW)({value:i.value,schema:t});if(!r.success)throw new et({message:"No object generated: response did not match schema.",cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return r.value}}};function tS(e){return void 0===e?[]:Array.isArray(e)?e:[e]}async function tC({stream:e,onError:t}){let n=e.getReader();try{for(;;){let{done:e}=await n.read();if(e)break}}catch(e){null==t||t(e)}finally{n.releaseLock()}}function tE(e,t){let n,i;let r=e.getReader(),s=t.getReader(),a=!1,o=!1;async function l(e){try{null==n&&(n=r.read());let t=await n;n=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}async function u(e){try{null==i&&(i=s.read());let t=await i;i=void 0,t.done?e.close():e.enqueue(t.value)}catch(t){e.error(t)}}return new ReadableStream({async pull(e){try{if(a){await u(e);return}if(o){await l(e);return}null==n&&(n=r.read()),null==i&&(i=s.read());let{result:t,reader:c}=await Promise.race([n.then(e=>({result:e,reader:r})),i.then(e=>({result:e,reader:s}))]);t.done||e.enqueue(t.value),c===r?(n=void 0,t.done&&(await u(e),a=!0)):(i=void 0,t.done&&(o=!0,await l(e)))}catch(t){e.error(t)}},cancel(){r.cancel(),s.cancel()}})}var tP=(0,v.bF)({prefix:"aitxt",size:24}),tT=(0,v.bF)({prefix:"msg",size:24});function tN({model:e,tools:t,toolChoice:n,system:i,prompt:r,messages:s,maxRetries:a,abortSignal:o,headers:l,maxSteps:u=1,experimental_generateMessageId:c=tT,experimental_output:h,experimental_continueSteps:d=!1,experimental_telemetry:p,experimental_providerMetadata:f,providerOptions:m=f,experimental_toolCallStreaming:g=!1,toolCallStreaming:v=g,experimental_activeTools:y,experimental_repairToolCall:_,experimental_transform:b,onChunk:x,onError:w,onFinish:k,onStepFinish:S,_internal:{now:C=e3,generateId:E=tP,currentDate:T=()=>new Date}={},...N}){if("string"==typeof e||"v1"!==e.specificationVersion)throw new P;return new tI({model:e,telemetry:p,headers:l,settings:N,maxRetries:a,abortSignal:o,system:i,prompt:r,messages:s,tools:t,toolChoice:n,toolCallStreaming:v,transforms:tS(b),activeTools:y,repairToolCall:_,maxSteps:u,output:h,continueSteps:d,providerOptions:m,onChunk:x,onError:w,onFinish:k,onStepFinish:S,now:C,currentDate:T,generateId:E,generateMessageId:c})}var tI=class{constructor({model:e,telemetry:t,headers:n,settings:i,maxRetries:r,abortSignal:s,system:a,prompt:o,messages:l,tools:u,toolChoice:c,toolCallStreaming:h,transforms:d,activeTools:p,repairToolCall:f,maxSteps:m,output:y,continueSteps:_,providerOptions:b,now:w,currentDate:k,generateId:S,generateMessageId:C,onChunk:E,onError:P,onFinish:T,onStepFinish:N}){var I;let A,O,D,R;if(this.warningsPromise=new e1,this.usagePromise=new e1,this.finishReasonPromise=new e1,this.providerMetadataPromise=new e1,this.textPromise=new e1,this.reasoningPromise=new e1,this.reasoningDetailsPromise=new e1,this.sourcesPromise=new e1,this.filesPromise=new e1,this.toolCallsPromise=new e1,this.toolResultsPromise=new e1,this.requestPromise=new e1,this.responsePromise=new e1,this.stepsPromise=new e1,m<1)throw new M({parameter:"maxSteps",value:m,message:"maxSteps must be at least 1"});this.output=y;let L="",V="",z="",j=[],U=[],G=[],X=[],Q={id:S(),timestamp:k(),modelId:e.modelId,messages:[]},Z=[],J=[],ee="initial",et=[],en=new TransformStream({async transform(e,t){t.enqueue(e);let{part:n}=e;if(("text-delta"===n.type||"reasoning"===n.type||"source"===n.type||"tool-call"===n.type||"tool-result"===n.type||"tool-call-streaming-start"===n.type||"tool-call-delta"===n.type)&&await (null==E?void 0:E({chunk:n})),"error"===n.type&&await (null==P?void 0:P({error:n.error})),"text-delta"===n.type&&(L+=n.textDelta,V+=n.textDelta,z+=n.textDelta),"reasoning"===n.type&&(null==O?(O={type:"text",text:n.textDelta},j.push(O)):O.text+=n.textDelta),"reasoning-signature"===n.type){if(null==O)throw new g.AX({name:"InvalidStreamPart",message:"reasoning-signature without reasoning"});O.signature=n.signature,O=void 0}if("redacted-reasoning"===n.type&&j.push({type:"redacted",data:n.data}),"file"===n.type&&U.push(n),"source"===n.type&&(X.push(n.source),G.push(n.source)),"tool-call"===n.type&&Z.push(n),"tool-result"===n.type&&J.push(n),"step-finish"===n.type){let e=tv({text:V,files:U,reasoning:j,tools:null!=u?u:{},toolCalls:Z,toolResults:J,messageId:n.messageId,generateMessageId:C}),t=et.length,i="done";t+1<m&&(_&&"length"===n.finishReason&&0===Z.length?i="continue":Z.length>0&&J.length===Z.length&&(i="tool-result"));let r={stepType:ee,text:L,reasoning:function(e){let t=e.filter(e=>"text"===e.type).map(e=>e.text).join("");return t.length>0?t:void 0}(j),reasoningDetails:j,files:U,sources:G,toolCalls:Z,toolResults:J,finishReason:n.finishReason,usage:n.usage,warnings:n.warnings,logprobs:n.logprobs,request:n.request,response:{...n.response,messages:[...Q.messages,...e]},providerMetadata:n.experimental_providerMetadata,experimental_providerMetadata:n.experimental_providerMetadata,isContinued:n.isContinued};await (null==N?void 0:N(r)),et.push(r),Z=[],J=[],L="",G=[],j=[],U=[],O=void 0,"done"!==i&&(ee=i),"continue"!==i&&(Q.messages.push(...e),V="")}"finish"===n.type&&(Q.id=n.response.id,Q.timestamp=n.response.timestamp,Q.modelId=n.response.modelId,Q.headers=n.response.headers,R=n.usage,D=n.finishReason)},async flush(e){var n;try{if(0===et.length)return;let e=et[et.length-1];ec.warningsPromise.resolve(e.warnings),ec.requestPromise.resolve(e.request),ec.responsePromise.resolve(e.response),ec.toolCallsPromise.resolve(e.toolCalls),ec.toolResultsPromise.resolve(e.toolResults),ec.providerMetadataPromise.resolve(e.experimental_providerMetadata),ec.reasoningPromise.resolve(e.reasoning),ec.reasoningDetailsPromise.resolve(e.reasoningDetails);let i=null!=D?D:"unknown",r=null!=R?R:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};ec.finishReasonPromise.resolve(i),ec.usagePromise.resolve(r),ec.textPromise.resolve(z),ec.sourcesPromise.resolve(X),ec.filesPromise.resolve(e.files),ec.stepsPromise.resolve(et),await (null==T?void 0:T({finishReason:i,logprobs:void 0,usage:r,text:z,reasoning:e.reasoning,reasoningDetails:e.reasoningDetails,files:e.files,sources:e.sources,toolCalls:e.toolCalls,toolResults:e.toolResults,request:null!=(n=e.request)?n:{},response:e.response,warnings:e.warnings,providerMetadata:e.providerMetadata,experimental_providerMetadata:e.experimental_providerMetadata,steps:et})),A.setAttributes(Y({telemetry:t,attributes:{"ai.response.finishReason":i,"ai.response.text":{output:()=>z},"ai.response.toolCalls":{output:()=>{var t;return(null==(t=e.toolCalls)?void 0:t.length)?JSON.stringify(e.toolCalls):void 0}},"ai.usage.promptTokens":r.promptTokens,"ai.usage.completionTokens":r.completionTokens,"ai.response.providerMetadata":JSON.stringify(e.providerMetadata)}}))}catch(t){e.error(t)}finally{A.end()}}}),ei=function(){let e=[],t=null,n=!1,i=e2(),r=async()=>{if(n&&0===e.length){null==t||t.close();return}if(0===e.length)return i=e2(),await i.promise,r();try{let{value:i,done:s}=await e[0].read();s?(e.shift(),e.length>0?await r():n&&(null==t||t.close())):null==t||t.enqueue(i)}catch(i){null==t||t.error(i),e.shift(),n&&0===e.length&&(null==t||t.close())}};return{stream:new ReadableStream({start(e){t=e},pull:r,async cancel(){for(let t of e)await t.cancel();e=[],n=!0}}),addStream:t=>{if(n)throw Error("Cannot add inner stream: outer stream is closed");e.push(t.getReader()),i.resolve()},close:()=>{n=!0,i.resolve(),0===e.length&&(null==t||t.close())},terminate:()=>{n=!0,i.resolve(),e.forEach(e=>e.cancel()),e=[],null==t||t.close()}}}();this.addStream=ei.addStream,this.closeStream=ei.close;let er=ei.stream;for(let e of d)er=er.pipeThrough(e({tools:u,stopStream(){ei.terminate()}}));this.baseStream=er.pipeThrough(function(e){if(!e)return new TransformStream({transform(e,t){t.enqueue({part:e,partialOutput:void 0})}});let t="",n="",i="";function r({controller:e,partialOutput:t}){e.enqueue({part:{type:"text-delta",textDelta:n},partialOutput:t}),n=""}return new TransformStream({transform(s,a){if("step-finish"===s.type&&r({controller:a}),"text-delta"!==s.type){a.enqueue({part:s,partialOutput:void 0});return}t+=s.textDelta,n+=s.textDelta;let o=e.parsePartial({text:t});if(null!=o){let e=JSON.stringify(o.partial);e!==i&&(r({controller:a,partialOutput:o.partial}),i=e)}},flush(e){n.length>0&&r({controller:e})}})}(y)).pipeThrough(en);let{maxRetries:es,retry:ea}=F({maxRetries:r}),eo=q(t),el=$({model:e,telemetry:t,headers:n,settings:{...i,maxRetries:es}}),eu=ez({prompt:{system:null!=(I=null==y?void 0:y.injectIntoSystemPrompt({system:a,model:e}))?I:a,prompt:o,messages:l},tools:u}),ec=this;H({name:"ai.streamText",attributes:Y({telemetry:t,attributes:{...B({operationId:"ai.streamText",telemetry:t}),...el,"ai.prompt":{input:()=>JSON.stringify({system:a,prompt:o,messages:l})},"ai.settings.maxSteps":m}}),tracer:eo,endWhenDone:!1,fn:async r=>{async function o({currentStep:r,responseMessages:l,usage:d,stepType:g,previousStepText:E,hasLeadingWhitespace:P,messageId:T}){var N;let I,M,A;let O=0===l.length?eu.type:"messages",D=[...eu.messages,...l],R=await ey({prompt:{type:O,system:eu.system,messages:D},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:null==(N=e.supportsUrl)?void 0:N.bind(e)}),L={type:"regular",...function({tools:e,toolChoice:t,activeTools:n}){return null!=e&&Object.keys(e).length>0?{tools:(null!=n?Object.entries(e).filter(([e])=>n.includes(e)):Object.entries(e)).map(([e,t])=>{let n=t.type;switch(n){case void 0:case"function":return{type:"function",name:e,description:t.description,parameters:(0,x.C3)(t.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:e,id:t.id,args:t.args};default:throw Error(`Unsupported tool type: ${n}`)}}),toolChoice:null==t?{type:"auto"}:"string"==typeof t?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}({tools:u,toolChoice:c,activeTools:p})},{result:{stream:V,warnings:F,rawResponse:$,request:z},doStreamSpan:j,startTimestampMs:U}=await ea(()=>H({name:"ai.streamText.doStream",attributes:Y({telemetry:t,attributes:{...B({operationId:"ai.streamText.doStream",telemetry:t}),...el,"ai.prompt.format":{input:()=>O},"ai.prompt.messages":{input:()=>eX(R)},"ai.prompt.tools":{input:()=>{var e;return null==(e=L.tools)?void 0:e.map(e=>JSON.stringify(e))}},"ai.prompt.toolChoice":{input:()=>null!=L.toolChoice?JSON.stringify(L.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":i.frequencyPenalty,"gen_ai.request.max_tokens":i.maxTokens,"gen_ai.request.presence_penalty":i.presencePenalty,"gen_ai.request.stop_sequences":i.stopSequences,"gen_ai.request.temperature":i.temperature,"gen_ai.request.top_k":i.topK,"gen_ai.request.top_p":i.topP}}),tracer:eo,endWhenDone:!1,fn:async t=>({startTimestampMs:w(),doStreamSpan:t,result:await e.doStream({mode:L,...eb(i),inputFormat:O,responseFormat:null==y?void 0:y.responseFormat({model:e}),prompt:R,providerMetadata:b,abortSignal:s,headers:n})})})),q=function({tools:e,generatorStream:t,toolCallStreaming:n,tracer:i,telemetry:r,system:s,messages:a,abortSignal:o,repairToolCall:l}){let u,c=null,h=new ReadableStream({start(e){c=e}}),d={},p=new Set,f=!1;function m(){f&&0===p.size&&(null!=u&&c.enqueue(u),c.close())}let g=new TransformStream({async transform(t,h){let f=t.type;switch(f){case"text-delta":case"reasoning":case"reasoning-signature":case"redacted-reasoning":case"source":case"response-metadata":case"error":h.enqueue(t);break;case"file":h.enqueue(new K({data:t.data,mimeType:t.mimeType}));break;case"tool-call-delta":n&&(d[t.toolCallId]||(h.enqueue({type:"tool-call-streaming-start",toolCallId:t.toolCallId,toolName:t.toolName}),d[t.toolCallId]=!0),h.enqueue({type:"tool-call-delta",toolCallId:t.toolCallId,toolName:t.toolName,argsTextDelta:t.argsTextDelta}));break;case"tool-call":try{let n=await tm({toolCall:t,tools:e,repairToolCall:l,system:s,messages:a});h.enqueue(n);let u=e[n.toolName];if(null!=u.execute){let e=(0,v.Ox)();p.add(e),H({name:"ai.toolCall",attributes:Y({telemetry:r,attributes:{...B({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":n.toolName,"ai.toolCall.id":n.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(n.args)}}}),tracer:i,fn:async t=>u.execute(n.args,{toolCallId:n.toolCallId,messages:a,abortSignal:o}).then(i=>{c.enqueue({...n,type:"tool-result",result:i}),p.delete(e),m();try{t.setAttributes(Y({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(i)}}}))}catch(e){}},i=>{W(t,i),c.enqueue({type:"error",error:new tt({toolCallId:n.toolCallId,toolName:n.toolName,toolArgs:n.args,cause:i})}),p.delete(e),m()})})}}catch(e){c.enqueue({type:"error",error:e})}break;case"finish":u={type:"finish",finishReason:t.finishReason,logprobs:t.logprobs,usage:eU(t.usage),experimental_providerMetadata:t.providerMetadata};break;default:throw Error(`Unhandled chunk type: ${f}`)}},flush(){f=!0,m()}});return new ReadableStream({start:async e=>Promise.all([t.pipeThrough(g).pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){}})),h.pipeTo(new WritableStream({write(t){e.enqueue(t)},close(){e.close()}}))])})}({tools:u,generatorStream:V,toolCallStreaming:h,tracer:eo,telemetry:t,system:a,messages:D,repairToolCall:f,abortSignal:s}),G=null!=z?z:{},X=[],Q=[],Z=[],J=[],ee="unknown",et={promptTokens:0,completionTokens:0,totalTokens:0},en=!0,ei="",er="continue"===g?E:"",es={id:S(),timestamp:k(),modelId:e.modelId},eh="",ed=!1,ep=!0,ef=!1;async function em({controller:e,chunk:t}){e.enqueue(t),ei+=t.textDelta,er+=t.textDelta,ed=!0,ef=t.textDelta.trimEnd()!==t.textDelta}ec.addStream(q.pipeThrough(new TransformStream({async transform(e,t){var n,i,r;if(en){let e=w()-U;en=!1,j.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":e}),j.setAttributes({"ai.response.msToFirstChunk":e}),t.enqueue({type:"step-start",messageId:T,request:G,warnings:null!=F?F:[]})}if("text-delta"===e.type&&0===e.textDelta.length)return;let s=e.type;switch(s){case"text-delta":if(_){let n=ep&&P?e.textDelta.trimStart():e.textDelta;if(0===n.length)break;ep=!1;let i=function(e){let t=e.match(tn);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}(eh+=n);null!=i&&(eh=i.suffix,await em({controller:t,chunk:{type:"text-delta",textDelta:i.prefix+i.whitespace}}))}else await em({controller:t,chunk:e});break;case"reasoning":t.enqueue(e),null==A?(A={type:"text",text:e.textDelta},Z.push(A)):A.text+=e.textDelta;break;case"reasoning-signature":if(t.enqueue(e),null==A)throw new tx({chunk:e,message:"reasoning-signature without reasoning"});A.signature=e.signature,A=void 0;break;case"redacted-reasoning":t.enqueue(e),Z.push({type:"redacted",data:e.data});break;case"tool-call":t.enqueue(e),X.push(e);break;case"tool-result":t.enqueue(e),Q.push(e);break;case"response-metadata":es={id:null!=(n=e.id)?n:es.id,timestamp:null!=(i=e.timestamp)?i:es.timestamp,modelId:null!=(r=e.modelId)?r:es.modelId};break;case"finish":{et=e.usage,ee=e.finishReason,I=e.experimental_providerMetadata,M=e.logprobs;let t=w()-U;j.addEvent("ai.stream.finish"),j.setAttributes({"ai.response.msToFinish":t,"ai.response.avgCompletionTokensPerSecond":1e3*et.completionTokens/t});break}case"file":J.push(e),t.enqueue(e);break;case"source":case"tool-call-streaming-start":case"tool-call-delta":t.enqueue(e);break;case"error":t.enqueue(e),ee="error";break;default:throw Error(`Unknown chunk type: ${s}`)}},async flush(e){var n;let i=X.length>0?JSON.stringify(X):void 0,s="done";r+1<m&&(_&&"length"===ee&&0===X.length?s="continue":X.length>0&&Q.length===X.length&&(s="tool-result")),_&&eh.length>0&&("continue"!==s||"continue"===g&&!ed)&&(await em({controller:e,chunk:{type:"text-delta",textDelta:eh}}),eh="");try{j.setAttributes(Y({telemetry:t,attributes:{"ai.response.finishReason":ee,"ai.response.text":{output:()=>ei},"ai.response.toolCalls":{output:()=>i},"ai.response.id":es.id,"ai.response.model":es.modelId,"ai.response.timestamp":es.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(I),"ai.usage.promptTokens":et.promptTokens,"ai.usage.completionTokens":et.completionTokens,"gen_ai.response.finish_reasons":[ee],"gen_ai.response.id":es.id,"gen_ai.response.model":es.modelId,"gen_ai.usage.input_tokens":et.promptTokens,"gen_ai.usage.output_tokens":et.completionTokens}}))}catch(e){}finally{j.end()}e.enqueue({type:"step-finish",finishReason:ee,usage:et,providerMetadata:I,experimental_providerMetadata:I,logprobs:M,request:G,response:{...es,headers:null==$?void 0:$.headers},warnings:F,isContinued:"continue"===s,messageId:T});let a=(n=et,{promptTokens:d.promptTokens+n.promptTokens,completionTokens:d.completionTokens+n.completionTokens,totalTokens:d.totalTokens+n.totalTokens});if("done"===s)e.enqueue({type:"finish",finishReason:ee,usage:a,providerMetadata:I,experimental_providerMetadata:I,logprobs:M,response:{...es,headers:null==$?void 0:$.headers}}),ec.closeStream();else{if("continue"===g){let e=l[l.length-1];"string"==typeof e.content?e.content+=ei:e.content.push({text:ei,type:"text"})}else l.push(...tv({text:ei,files:J,reasoning:Z,tools:null!=u?u:{},toolCalls:X,toolResults:Q,messageId:T,generateMessageId:C}));await o({currentStep:r+1,responseMessages:l,usage:a,stepType:s,previousStepText:er,hasLeadingWhitespace:ef,messageId:"continue"===s?T:C()})}}})))}A=r,await o({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:C()})}}).catch(e=>{ec.addStream(new ReadableStream({start(t){t.enqueue({type:"error",error:e}),t.close()}})),ec.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get reasoningDetails(){return this.reasoningDetailsPromise.value}get sources(){return this.sourcesPromise.value}get files(){return this.filesPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return eH(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){"text-delta"===e.type&&t.enqueue(e.textDelta)}})))}get fullStream(){return eH(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await tC({stream:this.fullStream,onError:null==e?void 0:e.onError})}catch(n){null==(t=null==e?void 0:e.onError)||t.call(e,n)}}get experimental_partialOutputStream(){if(null==this.output)throw new e8;return eH(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){null!=e&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:n=!1,sendSources:i=!1,experimental_sendFinish:r=!0}){return this.fullStream.pipeThrough(new TransformStream({transform:async(s,a)=>{let o=s.type;switch(o){case"text-delta":a.enqueue((0,x.Xy)("text",s.textDelta));break;case"reasoning":n&&a.enqueue((0,x.Xy)("reasoning",s.textDelta));break;case"redacted-reasoning":n&&a.enqueue((0,x.Xy)("redacted_reasoning",{data:s.data}));break;case"reasoning-signature":n&&a.enqueue((0,x.Xy)("reasoning_signature",{signature:s.signature}));break;case"file":a.enqueue((0,x.Xy)("file",{mimeType:s.mimeType,data:s.base64}));break;case"source":i&&a.enqueue((0,x.Xy)("source",s.source));break;case"tool-call-streaming-start":a.enqueue((0,x.Xy)("tool_call_streaming_start",{toolCallId:s.toolCallId,toolName:s.toolName}));break;case"tool-call-delta":a.enqueue((0,x.Xy)("tool_call_delta",{toolCallId:s.toolCallId,argsTextDelta:s.argsTextDelta}));break;case"tool-call":a.enqueue((0,x.Xy)("tool_call",{toolCallId:s.toolCallId,toolName:s.toolName,args:s.args}));break;case"tool-result":a.enqueue((0,x.Xy)("tool_result",{toolCallId:s.toolCallId,result:s.result}));break;case"error":a.enqueue((0,x.Xy)("error",e(s.error)));break;case"step-start":a.enqueue((0,x.Xy)("start_step",{messageId:s.messageId}));break;case"step-finish":a.enqueue((0,x.Xy)("finish_step",{finishReason:s.finishReason,usage:t?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0,isContinued:s.isContinued}));break;case"finish":r&&a.enqueue((0,x.Xy)("finish_message",{finishReason:s.finishReason,usage:t?{promptTokens:s.usage.promptTokens,completionTokens:s.usage.completionTokens}:void 0}));break;default:throw Error(`Unknown chunk type: ${o}`)}}}))}pipeDataStreamToResponse(e,{status:t,statusText:n,headers:i,data:r,getErrorMessage:s,sendUsage:a,sendReasoning:o,sendSources:l,experimental_sendFinish:u}={}){E({response:e,status:t,statusText:n,headers:C(i,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:r,getErrorMessage:s,sendUsage:a,sendReasoning:o,sendSources:l,experimental_sendFinish:u})})}pipeTextStreamToResponse(e,t){E({response:e,status:null==t?void 0:t.status,statusText:null==t?void 0:t.statusText,headers:C(null==t?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:null==e?void 0:e.getErrorMessage,sendUsage:null==e?void 0:e.sendUsage,sendReasoning:null==e?void 0:e.sendReasoning,sendSources:null==e?void 0:e.sendSources,experimental_sendFinish:null==e?void 0:e.experimental_sendFinish}).pipeThrough(new TextEncoderStream);return(null==e?void 0:e.data)?tE(null==e?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:null==t?void 0:t.sendUsage,sendReasoning:null==t?void 0:t.sendReasoning,sendSources:null==t?void 0:t.sendSources,experimental_sendFinish:null==t?void 0:t.experimental_sendFinish}))}toDataStreamResponse({headers:e,status:t,statusText:n,data:i,getErrorMessage:r,sendUsage:s,sendReasoning:a,sendSources:o,experimental_sendFinish:l}={}){return new Response(this.toDataStream({data:i,getErrorMessage:r,sendUsage:s,sendReasoning:a,sendSources:o,experimental_sendFinish:l}),{status:t,statusText:n,headers:S(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:null!=(t=null==e?void 0:e.status)?t:200,headers:S(null==e?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}};function tM({tagName:e,separator:t="\n",startWithReasoning:n=!1}){let i=`<${e}>`,r=`</${e}>`;return{middlewareVersion:"v1",wrapGenerate:async({doGenerate:e})=>{let{text:s,...a}=await e();if(null==s)return{text:s,...a};let o=n?i+s:s,l=RegExp(`${i}(.*?)${r}`,"gs"),u=Array.from(o.matchAll(l));if(!u.length)return{text:o,...a};let c=u.map(e=>e[1]).join(t),h=o;for(let e=u.length-1;e>=0;e--){let n=u[e],i=h.slice(0,n.index),r=h.slice(n.index+n[0].length);h=i+(i.length>0&&r.length>0?t:"")+r}return{...a,text:h,reasoning:c}},wrapStream:async({doStream:e})=>{let{stream:s,...a}=await e(),o=!0,l=!0,u=!1,c=n,h="";return{stream:s.pipeThrough(new TransformStream({transform:(e,n)=>{if("text-delta"!==e.type){n.enqueue(e);return}function s(e){if(e.length>0){let i=!u||(c?o:l)?"":t;n.enqueue({type:c?"reasoning":"text-delta",textDelta:i+e}),u=!1,c?o=!1:l=!1}}for(h+=e.textDelta;;){let e=c?r:i,t=function(e,t){if(0===t.length)return null;let n=e.indexOf(t);if(-1!==n)return n;for(let n=e.length-1;n>=0;n--){let i=e.substring(n);if(t.startsWith(i))return n}return null}(h,e);if(null==t){s(h),h="";break}if(s(h.slice(0,t)),t+e.length<=h.length)h=h.slice(t+e.length),c=!c,u=!0;else{h=h.slice(t);break}}}})),...a}}}}g.AX,g.AX;var tA=({model:e,middleware:t,modelId:n,providerId:i})=>tS(t).reverse().reduce((e,t)=>tO({model:e,middleware:t,modelId:n,providerId:i}),e),tO=({model:e,middleware:{transformParams:t,wrapGenerate:n,wrapStream:i},modelId:r,providerId:s})=>{var a;async function o({params:e,type:n}){return t?await t({params:e,type:n}):e}return{specificationVersion:"v1",provider:null!=s?s:e.provider,modelId:null!=r?r:e.modelId,defaultObjectGenerationMode:e.defaultObjectGenerationMode,supportsImageUrls:e.supportsImageUrls,supportsUrl:null==(a=e.supportsUrl)?void 0:a.bind(e),supportsStructuredOutputs:e.supportsStructuredOutputs,async doGenerate(t){let i=await o({params:t,type:"generate"}),r=async()=>e.doGenerate(i),s=async()=>e.doStream(i);return n?n({doGenerate:r,doStream:s,params:i,model:e}):r()},async doStream(t){let n=await o({params:t,type:"stream"}),r=async()=>e.doGenerate(n),s=async()=>e.doStream(n);return i?i({doGenerate:r,doStream:s,params:n,model:e}):s()}}};Symbol.for("vercel.ai.error.AI_NoSuchProviderError"),g.JJ;var tD=b.Ry({name:b.Z_(),version:b.Z_()}).passthrough(),tR=b.Ry({_meta:b.jt(b.Ry({}).passthrough())}).passthrough(),tL=b.Ry({method:b.Z_(),params:b.jt(tR)}),tV=b.Ry({experimental:b.jt(b.Ry({}).passthrough()),logging:b.jt(b.Ry({}).passthrough()),prompts:b.jt(b.Ry({listChanged:b.jt(b.O7())}).passthrough()),resources:b.jt(b.Ry({subscribe:b.jt(b.O7()),listChanged:b.jt(b.O7())}).passthrough()),tools:b.jt(b.Ry({listChanged:b.jt(b.O7())}).passthrough())}).passthrough();tR.extend({protocolVersion:b.Z_(),capabilities:tV,serverInfo:tD,instructions:b.jt(b.Z_())});var tF=tR.extend({nextCursor:b.jt(b.Z_())}),tB=b.Ry({name:b.Z_(),description:b.jt(b.Z_()),inputSchema:b.Ry({type:b.i0("object"),properties:b.jt(b.Ry({}).passthrough())}).passthrough()}).passthrough();tF.extend({tools:b.IX(tB)});var t$=b.Ry({type:b.i0("text"),text:b.Z_()}).passthrough(),tz=b.Ry({type:b.i0("image"),data:b.Z_().base64(),mimeType:b.Z_()}).passthrough(),tj=b.Ry({uri:b.Z_(),mimeType:b.jt(b.Z_())}).passthrough(),tU=tj.extend({text:b.Z_()}),tq=tj.extend({blob:b.Z_().base64()}),tH=b.Ry({type:b.i0("resource"),resource:b.G0([tU,tq])}).passthrough();tR.extend({content:b.IX(b.G0([t$,tz,tH])),isError:b.O7().default(!1).optional()}).or(tR.extend({toolResult:b._4()}));var tW=b.Ry({jsonrpc:b.i0("2.0"),id:b.G0([b.Z_(),b.Rx().int()])}).merge(tL).strict(),tY=b.Ry({jsonrpc:b.i0("2.0"),id:b.G0([b.Z_(),b.Rx().int()]),result:tR}).strict(),tG=b.Ry({jsonrpc:b.i0("2.0"),id:b.G0([b.Z_(),b.Rx().int()]),error:b.Ry({code:b.Rx().int(),message:b.Z_(),data:b.jt(b._4())})}).strict(),tK=b.Ry({jsonrpc:b.i0("2.0")}).merge(b.Ry({method:b.Z_(),params:b.jt(tR)})).strict();function tX(e={}){let t=new TextEncoder,n="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(i,r){r.enqueue(t.encode(i)),n+=i,e.onToken&&await e.onToken(i),e.onText&&"string"==typeof i&&await e.onText(i)},async flush(){e.onCompletion&&await e.onCompletion(n),e.onFinal&&await e.onFinal(n)}})}function tQ(e,t){return e.pipeThrough(new TransformStream({transform:async(e,t)=>{var n;if("string"==typeof e){t.enqueue(e);return}if("event"in e){"on_chat_model_stream"===e.event&&t1(null==(n=e.data)?void 0:n.chunk,t);return}t1(e,t)}})).pipeThrough(tX(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue((0,x.Xy)("text",e))}}))}function tZ(e,t){return tQ(e,t).pipeThrough(new TextEncoderStream)}function tJ(e,t){var n;let i=tQ(e,null==t?void 0:t.callbacks).pipeThrough(new TextEncoderStream),r=null==t?void 0:t.data,s=null==t?void 0:t.init;return new Response(r?tE(r.stream,i):i,{status:null!=(n=null==s?void 0:s.status)?n:200,statusText:null==s?void 0:s.statusText,headers:S(null==s?void 0:s.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function t0(e,t){t.dataStream.merge(tQ(e,t.callbacks))}function t1(e,t){if("string"==typeof e.content)t.enqueue(e.content);else for(let n of e.content)"text"===n.type&&t.enqueue(n.text)}function t2(e,t){let n;let i=(n=!0,e=>(n&&(e=e.trimStart())&&(n=!1),e));return(0,v.RV)(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(e,t){t.enqueue(i(e.delta))}})).pipeThrough(tX(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(e,t)=>{t.enqueue((0,x.Xy)("text",e))}}))}function t3(e,t){return t2(e,t).pipeThrough(new TextEncoderStream)}function t6(e,t={}){var n;let{init:i,data:r,callbacks:s}=t,a=t2(e,s).pipeThrough(new TextEncoderStream);return new Response(r?tE(r.stream,a):a,{status:null!=(n=null==i?void 0:i.status)?n:200,statusText:null==i?void 0:i.statusText,headers:S(null==i?void 0:i.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function t4(e,t){t.dataStream.merge(t2(e,t.callbacks))}b.G0([tW,tK,tY,tG]),k({},{mergeIntoDataStream:()=>t0,toDataStream:()=>tZ,toDataStreamResponse:()=>tJ}),k({},{mergeIntoDataStream:()=>t4,toDataStream:()=>t3,toDataStreamResponse:()=>t6})}}]);